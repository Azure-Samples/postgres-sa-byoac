{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Before You Begin","text":"<p>This guide serves as both a solution accelerator and a learning tool for developers who want to build AI-powered solutions built on top of Azure Database for PostgreSQL and Azure AI Services. The Woodgrove Bank solution is an actively updated project that will reflect the latest features and best practices for development of AI-enabled applications and RAG-based copilots on the Azure AI platform.</p> <p>To complete this guide, you will need the following:</p> <ul> <li> Requires using your own GitHub account - you can get one for free</li> <li> Requires using your own Azure subscription - you can get one for free</li> <li> Requires you to provision the infrastructure in your Azure subscription - we provide detailed instructions and Bicep deployment scripts</li> <li> Requires using your own computer</li> <li> Requires you to setup a development environment on your computer - we provide detaled instructions</li> </ul>"},{"location":"01-Introduction/","title":"Introduction","text":"<p>This solution accelerator is designed as an end-to-end example of a Financial Services Industry AI-enabled application. It demonstrates the implementation of generative AI capabilities to enhance an existing application with AI-driven data validation, vector search, semantic ranking, and GraphRAG on Azure Database for PostgreSQL, and illustrates how they can be combined to deliver high quality responses to financial questions via an intelligent copilot. The app uses a small sample dataset made up of statements of work (SOWs) and invoices. The source code for the accelerator is provided in the following repo: http://aka.ms/pg-byoac-repo/.</p> <p>The application has the following architecture:</p> <p></p>"},{"location":"01-Introduction/#bringing-your-own-data-to-the-solution","title":"Bringing your own data to the solution","text":"<p>This solution accelerator is structured to use sample vendor, SOW, and invoice data, which has been provided for demonstration purposes. However, if you want to use it with your own data or augment an existing solution, you will need to modify certain steps. Where applicable, notes are provided to indicate key areas where adjustments may be necessary to integrate custom datasets.</p>"},{"location":"01-Introduction/#learning-objectives","title":"Learning Objectives","text":"<p>The goal of the solution accelerator is to teach you to how to add rich AI capabilities using Azure Database for PostgreSQL and Azure AI Services to your existing applications. You will gain hands-on experience integrating advanced AI validation during data ingestion to ensure financial documents, like invoices, align with their associated statement of work. By leveraging Azure OpenAI for robust data validation and Azure Document Intelligence for comprehensive extraction and analysis, you will improve data quality. By adding a copilot chat feature, you will provide the ability for users to gain deep insights into vendors' invoicing accuracy, timeliness, and quality. This comprehensive approach equips you with the skills to seamlessly enrich your existing applications with AI-enhanced features, boosting their performance and reliability in the financial services industry.</p> <p>By completing the solution accelerator, you will learn to:</p> <ul> <li>Use Azure AI Services to automate data validation tasks during ingestion to streamline workflows.</li> <li>Integrate Generative AI capabilities into your Azure Database for PostgreSQL-based applications using the Azure AI extension.</li> <li>Use the Retrieval Augmented Generation (RAG) pattern in a copilot  (to ground responses in your own data).</li> <li>Use Azure Container Apps for deployment  (to get hosted UI and API apps for real-world use).</li> <li>Use Azure Developer CLI with AI Application Templates  (to provision &amp; deploy apps consistently across teams)</li> </ul>"},{"location":"01-Introduction/#learning-resources","title":"Learning Resources","text":"<ol> <li>Azure Database for PostgreSQL - Flexible Server | Overview</li> <li>Generative AI with Azure Database for PostgreSQL - Flexible Server | Overview</li> <li>Azure AI extension for PostreSQL | How to integrate Azure AI</li> <li>Azure AI Foundry  | Documentation \u00b7 Architecture \u00b7 SDKs \u00b7  Evaluation</li> <li>Azure Container Apps  | Azure Container Apps \u00b7 Deploy from code</li> <li>Responsible AI  | Overview \u00b7 With AI Services \u00b7 Azure AI Content Safety</li> </ol>"},{"location":"01-Introduction/01-App-Scenario/","title":"1.1 The App Scenario","text":""},{"location":"01-Introduction/01-App-Scenario/#streamlining-contract-validation-in-financial-services","title":"Streamlining Contract Validation in Financial Services","text":"<p>In the financial services industry, validating contract-related documents such as Statements of Work (SOWs) and invoices presents unique challenges. Ensuring that invoices align with SOWs, especially for milestone-based payments and specific deliverables, can be a meticulous and error-prone process. Traditionally, this validation involves manual comparison and cross-checking, often leading to delays, errors, and increased operational costs. This accelerator offers a solution that leverages Azure Database for PostgreSQL - Flexible and Azure's comprehensive suite of AI services to automate and streamline this process, resulting in faster, more accurate, and cost-effective invoice validation.</p> <p>The accelerator is designed to demonstrate how an existing financial services application can be enhanced by integrating advanced AI capabilities into Azure Database for PostgreSQL through the Azure AI extension and incorporating Azure OpenAI's GPT-4 model to validate and review contract-related documents.</p> Using your own data? <p>While the provided scenario utilizes pre-configured vendor, SOW, and invoice data, the framework is designed to be adaptable. You can replace these with your own datasets to better align with your specific business needs. Key steps where adjustments may be required have been highlighted throughout the guide.</p>"},{"location":"01-Introduction/01-App-Scenario/#getting-started-with-the-woodgrove-bank-application","title":"Getting Started with the Woodgrove Bank Application","text":"<p>You have been provided starter code and deployment scripts for the Woodgrove Bank web application. This application comprises an enterprise user portal integrated with a custom backend API. You will enhance this application by integrating Azure AI services throughout this accelerator. Key steps include:</p> <ol> <li>Integrating Generative AI (GenAI) Capabilities into Azure Database for PostgreSQL: Use the Azure AI <code>azure_ai</code> and pgvector (<code>vector</code>) extensions to extend your PostgreSQL database with advanced GenAI and vector search capabilities.</li> <li>Automating Data Validation with AI: Enhance the data ingestion process with automated, AI-driven validation using Azure Document Intelligence and Azure AI services.</li> <li>Building a Copilot: Create an intelligent assistant using Azure OpenAI and Azure Database for PostgreSQL - Flexible Server, incorporating the Retrieval Augmented Generation (RAG) design pattern to ensure its responses are based on the private data maintained by the enterprise.</li> <li>Adding GraphRAG functionality: Install the Apache AGE (<code>age</code>) extension to allow your PostgreSQL database to be used as a graph database, providing a comprehensive solution for analyzing interconnected data.</li> </ol> <p>This solution accelerator aims to teach you how to integrate AI capabilities into an existing application by leveraging Microsoft Azure's AI services to automate and streamline the validation of contract-related documents in the financial services industry. This integration results in faster, more accurate, and cost-effective processes. Additionally, the copilot will provide intelligent assistance, enabling users to gain actionable insights from data stored in the Azure Database for PostgreSQL, enhancing their overall experience.</p>"},{"location":"01-Introduction/02-App-Architecture/","title":"1.2 Application Architecture","text":"<p>The Woodgrove Bank Contract Management application automates extracting, validating, and storing data from invoices and SOWs to minimize manual effort and boost operational efficiency while allowing internal application users to gain actionable insights from the data. By focusing on this streamlined flow, the solution effectively automates tedious tasks, reduces errors, and provides valuable insights to internal users, enhancing overall operational efficiency and decision-making.</p> Using your own data? <p>The architecture is designed for flexibility, allowing adaptation to custom datasets beyond the default sample data. If you plan to use your own data, it is recommended to review the database schema, data pipelines, and indexing strategies to ensure compatibility. Suggested changes and guidance for customization are provided in the documentation to help streamline this process.</p> <p>Throughout this solution accelerator, you will enhance the application with AI capabilities. The application consists of a REACT single page application (SPA) providing the UX (user experience), a backend API written in Python using FastAPI, and various Azure services. The solution implements the following high-level architecture:</p> <p></p> <p>Decoupled application architecture</p> <p>Separating app functionality into a dedicated UI and backend API offers several benefits. Firstly, it enhances modularity and maintainability, allowing you to update the UI or backend independently without disrupting the other. REACT and Node.js provide an intuitive and interactive user interface that simplifies user interactions, while the Python API leveraging FastAPI ensures high-performance, asynchronous request handling and data processing. This separation also promotes scalability, as different components can be deployed across multiple servers, optimizing resource usage. Additionally, it enables better security practices, as the backend API can handle sensitive data and authentication separately, reducing the risk of exposing vulnerabilities in the UI layer. This approach leads to a more robust, efficient, and user-friendly application.</p>"},{"location":"01-Introduction/02-App-Architecture/#application-data-flow","title":"Application Data Flow","text":"<p>Select each tab below to learn more about how the movement of data in the context of the Woodgrove Bank Contract Management application!</p> Data Ingestion &amp; AI ProcessingAI Copilot with RAG <p>How The Automated Data Ingestion and AI Validation Process Works</p> <p>Internal users and external vendors can introduce new documents, SOWs, and invoices into the system via an intuitive browser-based user interface. This action kicks off automated processes to extract and validate the data within those documents. Extracted data and validation results are returned to the users in the UI, allowing them to review and make updates as necessary.</p> <p></p> <ol> <li> <p>SOWs, invoices, and related documents are ingested via the Woodgrove Bank Contract Management Portal, a REACT Single Page Application (SPA) accessed through a web browser. Internal users and external vendors can submit documents via the portal.</p> </li> <li> <p>The SPA web app sends uploaded documents directly with the backend API's <code>/documents</code> endpoint.</p> </li> <li> <p>The API, hosted as an Azure Container App (ACA), saves the uploaded documents into a container in Azure Blob storage.</p> <ol> <li> <p>Storing the original documents in blob storage allows raw data to be persisted.</p> </li> <li> <p>Should processing errors be detected or system requirements change, documents can be easily reprocessed.</p> </li> </ol> </li> <li> <p>When new documents are added into blob storage, the Data Ingestion Process on the API is invoked.</p> <ol> <li> <p>The data ingestion process handles data extraction and processing by sending uploaded documents to the Azure AI Document Intelligence service.</p> </li> <li> <p>AI models within the Document Intelligence service are tailored to extract specific data fields, such as payment milestones, due dates, billable amounts, and vendor details. These models are trained to recognize the structure of financial documents, improving data extraction accuracy.</p> </li> <li> <p>Document Intelligence's Semantic Chunking capability recognizes document structures, capturing headings and chunking the content body based on semantic coherence, such as paragraphs and sentences. This ensures that the chunks are of higher quality for use in RAG pattern queries.</p> </li> </ol> </li> <li> <p>The extracted document data securely written to Azure Database for PostgreSQL flexible server by the API.</p> </li> <li> <p>As part of the database insert statement, the GenAI capabilities of the <code>azure_ai</code> extension are used to:</p> <ol> <li> <p>Generate and save vector embeddings of document chunks using Azure OpenAI's <code>text-embedding-ada-002</code> model.</p> </li> <li> <p>Create extractive summaries of SOWs using the Azure AI Language service.</p> </li> </ol> </li> <li> <p>Document data is then sent through an AI-driven data validation process on the API that uses Azure OpenAI to analyze the data extracted by Document Intelligence, ensuring it conforms to expected standards and is accurate based on related data already in the system.</p> <ol> <li> <p>Azure OpenAI's GPT-4o language model reviews all document data, employing natural language understanding to validate and cross-check information and ensure high data integrity.</p> </li> <li> <p>The RAG pattern allows the language model to cross-reference data between invoices and SOWs, evaluating payment milestone completion and billing and preventing issues like payment delays. It also validates that appropriate document sections and required compliance language exist in contracts and SOWs, helping to avoid incomplete contracts and compliance violations.</p> </li> </ol> </li> <li> <p>The data validation results are securely stored in Azure Database for PostgreSQL alongside the analyzed data. The validation result is also vectorized on insert using the <code>azure_ai</code> extension.</p> </li> </ol> <p>How The Custom Copilot Experience Works</p> <p>Internal users interact with data through an intelligent copilot that employs the Retrieval Augmented Generation (RAG) pattern. This copilot allows users to ask questions about contract data, offering valuable insights into vendor contract fulfillment and invoicing accuracy.</p> <p></p> <ol> <li> <p>Users interact with the Woodgrove Bank Contract Management Copilot through a browser interface to pose queries or seek information.</p> </li> <li> <p>The REACT SPA sends these chat messages to the <code>/chat</code> API endpoint hosted in ACA.</p> </li> <li> <p>The request query is embedded using the <code>text-embedding-ada-002</code> model in Azure OpenAI.</p> </li> <li> <p>A hybrid search is performed on the Azure Database for PostgreSQL flexible server, where the system searches for relevant data.</p> <ol> <li> <p>Hybrid search combines full-text search with vector-based search to provide more accurate and relevant results. It allows you to perform searches using both traditional keyword matching and semantic similarity, leveraging embeddings to understand the context and meaning behind the text.</p> </li> <li> <p>By integrating these two methods, hybrid search enhances the precision and comprehensiveness of search results, making it ideal for applications like semantic search, recommendation systems, and content discovery.</p> </li> </ol> </li> <li> <p>(Optional) Semantic Ranking via model inference from the <code>azure_ai</code> extension ranks search result relevance and is returned into the RAG context as part of the composite prompt.</p> </li> <li> <p>Azure OpenAI uses the composite prompt to formulates a response.</p> <ol> <li>The composite prompt contains the system prompt augmented with context provided by the results of the hybrid search against the PostgreSQL database.</li> </ol> </li> <li> <p>The AI-generated completion response is sent back to the user through the browser interface, providing them with actionable insights based on the data stored in the system. The efficient flow of information ensures users can quickly and accurately obtain the information they need.</p> </li> </ol>"},{"location":"01-Introduction/03-Azure-Cost/","title":"1.3 Azure Cost Estimate","text":"<p>The Microsoft Azure resources you deploy will be provisioned within your Azure Subscription. You are responsible for the cost of those services. The cost of the solution will vary depending on the Azure region selected and which deployment options you choose.</p> <p>Most notably, the <code>deployAMLModel</code> option you will specify during deployment will impact the overall cost:</p> <ul> <li>By deploying the Azure Machine Learning model for Semantic Ranker by setting this option to one of the following:<ul> <li><code>mini</code> (deploying the ms-marco-MiniLM-L-6-v2 model), the solution will cost approximately $5.50 per day.</li> <li><code>bge</code> (deploying the bge-reranker-v2-m3 model), the solution will cost approximately $17.40 per day.</li> <li><code>none</code> (not deploying semantic re-ranking), the solution will cost approximately $1.10 per day.</li> </ul> </li> </ul> <p>The Setup section of this guide will tell you how to choose this deployment option.</p> <p>Here's a breakout of the estimated cost of Azure resources deployed for this solution:</p> <ul> <li>Azure ML VM (semantic re-ranking cross encoder model deployment):<ul> <li>For ms-marco-MiniLM-L-6-v2 (mini) model running on an STANDARD_D4AS_V4: ~$4.40/day</li> <li>For bge-reranker-v2-m3 (bge) model running on an STANDARD_D16AS_V4: ~$16.30/day</li> </ul> </li> <li>Azure Database for PostgreSQL: ~$0.90/day</li> <li>Azure App Configuration: ~$0.02/day</li> <li>Azure Container Registry: ~$0.17/day</li> <li>Azure OpenAI Service: Dependent upon usage of Copilot, AI-validation, and number of documents processed in the solution.</li> <li>Other services are minimal cost.</li> </ul> <p>To summarize the estimated monthly cost:</p> <ul> <li>Monthly cost (with mini model) on D-Class 4 vCPU: ~$170.20</li> <li>Monthly cost (with bge model) on D-Class 16 vCPU: ~$539.10</li> <li>Monthly cost (with no semantic re-ranking): ~$33.80</li> </ul> <p>The above costs are only estimates.</p> <p>The costs provided here are estimates based on running the solution accelerator using the provided configuration and are intended to provide general guidance about the costs associated with running the solution accelerator. Depending on deployment options, region selection, and data sizes, individual costs will vary.</p>"},{"location":"01-Introduction/04-Data-Structure/","title":"1.4 Provided Artifacts","text":"<p>This section provides an overview of the table schema and data artifacts (e.g., SOW documents, invoices, and validation results) used in the solution accelerator. It highlights key fields that enable AI-powered processing and explains why specific fields are used by Azure AI services.</p> Using your own data? <p>If you are adapting the accelerator to use your own data, modifications may be required to align with your existing database schema and data structures.</p> <ol> <li> <p>Map Your Data to the Existing Schema</p> <ul> <li>Identify which of your tables correspond to <code>sows</code>, <code>invoices</code>, and <code>vendors</code>.  </li> <li>Ensure your data can be chunked and processed similarly to <code>sow_chunks</code>.</li> <li>Leverage a JSONB column to store additional data dynamically while keeping the core table structures unchanged.</li> </ul> </li> <li> <p>Add Vector Embeddings to Enable AI Search</p> <ul> <li>Create a vector column (<code>embedding</code>) in relevant tables to store AI-generated embeddings.  </li> <li>Use pg_diskann for efficient AI-powered search.  </li> </ul> </li> <li> <p>Modify AI Processing Scripts</p> <ul> <li>Update data extraction scripts to reflect your field names.  </li> <li>Ensure AI models extract the correct entities based on your schema.  </li> </ul> </li> <li> <p>Update Graph Data Export &amp; Relationships</p> <ul> <li>Modify data export scripts to align with your table structure.  </li> <li>Ensure Graph relationships correctly link entities in your database.  </li> </ul> </li> </ol>"},{"location":"01-Introduction/04-Data-Structure/#understanding-the-table-schema","title":"Understanding the Table Schema","text":"<p>The accelerator processes Statements of Work (SOWs), invoices, validation results, and extracted entities using a structured PostgreSQL schema. Below is an overview of the key tables and their roles:</p>"},{"location":"01-Introduction/04-Data-Structure/#core-tables-their-purpose","title":"Core Tables &amp; Their Purpose","text":"Table Description <code>vendors</code> Stores vendor details, linking them to associated SOWs and invoices. <code>status</code> Stores various status values that can be used to track the state of different entities within the system. <code>sows</code> Contains information on Statements of Work, including terms, parties involved, and deliverables. <code>sow_chunks</code> Breaks down SOW documents into smaller sections for AI processing. <code>milestones</code> Tracks contractual milestones extracted from SOWs. <code>deliverables</code> Details key deliverables as defined in SOWs. <code>invoices</code> Contains invoice details, such as amounts, due dates, and associated SOWs. <code>invoice_line_items</code> Stores individual line items extracted from invoices. <code>invoice_validation_results</code> Stores AI-driven validation for invoice accuracy and discrepancies. <code>sow_validation_results</code> Stores AI-driven validation results for SOW compliance and consistency. <code>copilot_chat_sessions</code> Stores information about individual chat sessions. <code>copilot_chat_session_history</code> Stores the history of messages exchanged during a chat session."},{"location":"01-Introduction/04-Data-Structure/#how-these-tables-work-together","title":"How These Tables Work Together","text":"<ol> <li>SOW documents are processed and broken into structured chunks.  </li> <li>AI services extract key entities (vendors, deliverables, milestones).  </li> <li>The extracted information is validated and stored in validation tables.  </li> <li>Invoices are linked to SOWs for contract compliance checks.  </li> </ol>"},{"location":"01-Introduction/04-Data-Structure/#key-fields-used-in-ai-processing","title":"Key Fields Used in AI Processing","text":"<p>The solution accelerator integrates with Azure AI services to extract, validate, and process information. Below are key fields that play a role in AI workflows and why they were selected.</p>"},{"location":"01-Introduction/04-Data-Structure/#relational-fields-used-in-ai-services","title":"Relational Fields Used in AI Services","text":"Field Name Table AI Usage <code>content</code> <code>sow_chunks</code>, <code>invoices</code> AI processes this field to extract structured data from raw text. <code>embedding</code> <code>deliverables</code>, <code>sow_chunks</code>, <code>invoice_line_items</code>, <code>invoice_validation_results</code>, <code>sow_validation_results</code> Used for vector search and similarity retrieval in semantic search models. <code>due_date</code> <code>deliverables</code>, <code>invoice_line_items</code> AI extracts and can validate deadlines. <code>amount</code> <code>invoices</code> AI extracts and detects discrepancies in invoice details. <code>result</code> <code>sow_validation_results</code>, <code>invoice_validation_results</code> AI-generated analysis of compliance for dpcuments processed <code>validation_passed</code> <code>sow_validation_results</code>, <code>invoice_validation_results</code> AI-driven validation result for compliance analysis. <code>metadata</code> <code>invoices</code> JSONB column for storing dynamic, AI-generated insights."},{"location":"01-Introduction/04-Data-Structure/#graph-relationships","title":"Graph Relationships","text":"Field Name Graph AI Usage <code>vendor_id</code>,<code>vendor_name</code> <code>vendor_graph</code> Used to analyze vendor performance and relationships <code>sow_id</code>,<code>sow_number</code> <code>vendor_graph</code> Used to track and validate Statements of Work (SOWs) <code>payment_status</code>,<code>invoice_amount</code> <code>vendor_graph</code> Used to validate and process invoices, detect discrepancies, and ensure compliance."},{"location":"01-Introduction/04-Data-Structure/#why-these-fields-matter","title":"Why These Fields Matter","text":"<ul> <li>Vector embeddings (<code>embedding</code>) enable semantic search by allowing AI-powered retrieval of similar SOW clauses, contract terms, and invoices.  </li> <li>Validation fields (<code>result</code>, <code>validation_passed</code>) ensure AI-generated extractions meet business rules.  </li> <li>Graph relationships within <code>vendor_graph</code> supports GraphRAG (Retrieval-Augmented Generation) where chosen fields can be utilized in AI models for analysis related to vendors, contracts, and invoices, as well as enhanced AI accuracy.</li> </ul>"},{"location":"01-Introduction/04-Data-Structure/#extending-the-schema-with-jsonb","title":"Extending the Schema with JSONB","text":"<p>The JSONB data type in PostgreSQL provides a powerful way to store and query semi-structured data, making it ideal for AI-driven applications that require flexibility in handling diverse and evolving datasets. AI services often work with rapidly changing schemas, various data formats, and unstructured metadata. JSONB enables these services to integrate additional data points without rigid schema modifications, ensuring adaptability and performance at scale.</p>"},{"location":"01-Introduction/04-Data-Structure/#why-jsonb-is-ideal-for-ai-services","title":"Why JSONB is Ideal for AI Services","text":"<ul> <li>Schema Evolution: AI applications frequently introduce new features, models, or metadata. JSONB allows for seamless schema modifications without disrupting the existing relational structure.</li> <li>Handling Unstructured Data: Many AI workloads ingest sensor data, user interactions, embeddings, and model predictions that don\u2019t fit into traditional relational columns.</li> <li>Efficient Indexing and Querying: JSONB supports GIN (Generalized Inverted Index) and JSONPath queries, making it fast and efficient to search for nested data.</li> <li>Compact Storage and Faster Retrieval: Unlike plain JSON, JSONB is binary-optimized, reducing overhead in AI pipelines that process large volumes of data.</li> </ul>"},{"location":"01-Introduction/04-Data-Structure/#using-jsonb-for-ai-powered-metadata-and-model-outputs","title":"Using JSONB for AI-Powered Metadata and Model Outputs","text":"<p>When integrating AI services into a PostgreSQL-backed system, JSONB can be leveraged to store:</p> <ul> <li>Inference results (e.g., probabilities, classifications, embeddings).</li> <li>Model metadata (e.g., hyperparameters, training configurations).</li> <li>Feature extraction details (e.g., NLP tokenized words, vector embeddings).</li> <li>Real-time user interactions (e.g., chat history, event tracking).</li> </ul>"},{"location":"01-Introduction/04-Data-Structure/#adding-indexes-for-jsonb-queries","title":"Adding indexes for JSONB queries","text":"<p>GIN (Generalized Inverted Index) is a type of indexing in PostgreSQL that is optimized for handling complex data types, including JSONB. Since JSONB stores data in a binary format and supports rich querying, GIN indexes make it possible to efficiently search within nested JSONB structures.</p> <p>Advantages of GIN:</p> <ul> <li>Fast Query Performance: GIN significantly speeds up key-value lookups inside JSONB columns.</li> <li>Optimized for Nested Structures: It can efficiently index deeply nested JSON objects and arrays.</li> <li>Supports JSONB Operators: PostgreSQL provides powerful operators (@&gt;, ?, ?&amp;, ?|) that are optimized when used with GIN.</li> </ul>"},{"location":"01-Introduction/04-Data-Structure/#example-usage","title":"Example Usage","text":"SQL<pre><code>ALTER TABLE invoices ADD COLUMN metadata JSONB;\n\n-- Insert data into the JSONB column\nUPDATE invoices\nSET metadata = '{\"additional_info\": \"value\", \"extra_field\": 123}'\nWHERE id = 1;\n\n-- Create a GIN index on the JSONB column\nCREATE INDEX idx_invoices_metadata ON invoices USING GIN (metadata);\n\n-- Query the record based on one of the JSONB elements\nSELECT * FROM invoices\nWHERE metadata @&gt; '{\"extra_field\": 123}';\n</code></pre> <p>The <code>@&gt;</code> operator checks if model_output contains the specified JSON key-value pair.</p> <p>By leveraging JSONB, AI services can store, retrieve, and evolve their data structures efficiently. This approach ensures that new AI-driven insights, feature extraction, and model outputs can be incorporated into the system without rigid schema modifications, ultimately accelerating the deployment and scaling of AI solutions within PostgreSQL environments.</p>"},{"location":"01-Introduction/04-Data-Structure/#jsonb-learning-resources","title":"JSONB learning resources","text":"<ul> <li>Overview of AI Services and Data</li> <li>PostgreSQL JSONB Documentation</li> <li>JSONB and Indexing</li> <li>GIN Indexes with JSONB</li> </ul>"},{"location":"02-Setup/","title":"Setup","text":"<p>A starter solution has been provided, which you will be modifying to add rich AI capabilities throughout this workshop. This initial application includes a user-friendly REACT UI, offering an intuitive frontend interface for users to interact with. Additionally, it features a Python-based backend API that handles the core business logic and data processing tasks. Throughout the workshop, you will enhance this existing solution by integrating advanced AI functionalities. This includes adding AI validation for data ingestion and leveraging AI-powered tools to analyze financial documents. You will also a the ability to ask questions over private data through an intelligent copilot. By the end of the workshop, you will have transformed the starter application into a sophisticated, AI-enhanced solution capable of providing deep insights into financial data, improving accuracy, efficiency, and overall performance in the financial services industry.</p> Ensure you completed the prerequisites before starting! <p>Before starting, you should review the prerequisites for completing the lab.</p> <p>To get started building the custom AI-enable Financial Services Industry (FSI) application, you need to:</p> <ul> <li>PROVISION the required Azure infrastructure for the resources needed for the application architecture</li> <li>VALIDATE that the Azure deployment completed successfully.</li> <li>SETUP your development environment and configure it to work with the infrastructure.</li> </ul> Using your own data? <p>This solution accelerator is designed to work with sample vendor, SOW, and invoice data, but you can also use your own PostgreSQL database. If you choose to do so, some modifications will be necessary to ensure compatibility with the existing architecture.</p> <p>Key Updates Required:</p> <ol> <li>Database Connection Configuration: Update the connection settings to point to your existing PostgreSQL instance. Ensure appropriate authentication mechanisms are in place, such as managed identity or database credentials.</li> <li>Managed Identity Setup (if applicable): If a managed identity is not already configured, you will need to create one. Assign the Storage Blob Data Contributor role to the managed identity on the Azure Storage Account to allow secure access to required data.</li> <li>Schema Adjustments: Modify the database schema if your data structure differs from the provided sample data. Ensure necessary indexing and performance optimizations are applied to support AI-driven queries.</li> <li>Data Ingestion and Processing Updates: Adjust data pipelines and preprocessing steps to work with your data format. Review and modify any AI validation logic that references sample datasets.</li> <li>Storage &amp; Permissions: Ensure that your AI processing and database services have the correct access (data contributor) permissions to read and process your data.</li> </ol>"},{"location":"02-Setup/00-Prerequisites/","title":"2.0 Prerequisites","text":"<p>Review the details about what you need to do before starting the workshop, what you are expected to know beforehand, and what you can expect to take away after completing it.</p>"},{"location":"02-Setup/00-Prerequisites/#what-you-need","title":"What You Need","text":"<p>To be able to complete this solution accelerator, you will need:</p> <ol> <li>Your own computer.<ul> <li>Any computer capable of running Visual Studio Code, Docker Desktop, and a modern web browser will do.</li> <li>You must have the ability to install software on the computer.</li> <li>We recommend installing a recent version of Edge, Chrome, or Safari.</li> </ul> </li> <li>A GitHub Account.<ul> <li>This is required to create a copy (known as a fork) of the sample repository.</li> <li>We recommend using a personal (vs. enterprise) GitHub account for convenience.</li> <li>If you don't have a GitHub account, sign up for a free one now. (It takes just a few minutes.)</li> </ul> </li> <li>An Azure Subscription.<ul> <li>This is needed to provision the Azure infrastructure for your AI project.</li> <li>If you don't have an Azure account, sign up for a free one now. (It takes just a few minutes.)</li> </ul> </li> <li>Sufficient Azure ML Online Endpoint CPU quota<ul> <li>To run the solution accelerator's Semantic Re-ranker element, you have two choices.<ul> <li>You can run small, but high quality model on a Standard DASv4 with 4 vCPUs.</li> <li>You can alternatively run a much larger, and even more accurate model on a Standard DASv4 with 16 vCPUs.</li> <li>Therefore, depending on the model you choose, you need to ensure you have either 4 or 16 cores available to you in your subscription. Detailed instructions are provided in the setup section to verify this in your subscription.</li> </ul> </li> </ul> </li> <li> <p>An appropriate Azure region for your workshop resources</p> <ul> <li>To ensure you can successfully complete the workshop and deploy the required Azure resources, you must choose a region that supports those resources.</li> <li>Before selecting an Azure region:</li> <li>Review the regional availability guidance for the gpt-4o and text-embedding-ada-002 models in Azure OpenAI.<ul> <li>Select a region that supports the Azure OpenAI <code>gpt-4o</code> and <code>text-embedding-ada-002</code> models.</li> <li>Ensure you have a at least 10K TPMs of <code>Standard</code> capacity available in the region for both the <code>gpt-4o</code> and <code>text-embedding-ada-002</code> models. Follow these instructions to check your available quota.</li> </ul> </li> </ul> <p>You must choose a region that supports both Azure OpenAI models, has at least 10K TPM of <code>Standard</code> capacity for both models.</p> <p>Choosing a region that doesn't support both Azure OpenAI models will result in deployment failure when running <code>azd up</code>.</p> </li> </ol>"},{"location":"02-Setup/00-Prerequisites/#what-you-should-know","title":"What You Should Know","text":"<p>To get the most of of this solution accelerator, you should have:</p>"},{"location":"02-Setup/00-Prerequisites/#recommended-knowledge-and-experience","title":"Recommended knowledge and experience","text":"<ol> <li>Familiarity with Visual Studio Code<ul> <li>The default editor used in this workshop is Visual Studio Code. You will configure your VS Code development environment with the required extensions and code libraries.</li> <li>The workshop requires Visual Studio Code and other tools to be installed on your computer. You will be running the solution code from your local computer.</li> </ul> </li> <li>Familiarity with the Azure portal<ul> <li>The workshop assumes you are familiar with navigating to resources within the Azure portal.</li> <li>You will use the Azure portal to retrieve endpoints, keys, and other values associated with the resources you deploy for this workshop.</li> </ul> </li> <li>Familiarity with PostgreSQL<ul> <li>The workshop assumes you are familiar with basic SQL syntax.</li> <li>You will be executin SQL statements to alter tables, create extensions, and run queries against tables.</li> </ul> </li> </ol>"},{"location":"02-Setup/00-Prerequisites/#preferred-knowledge-and-experience","title":"Preferred knowledge and experience","text":"<ol> <li>Familiarity with <code>git</code> operations<ul> <li>You will be forking the sample repository into your GitHub account.</li> <li>You will be committing code changes to your forked repo.</li> </ul> </li> <li>Familiarity with the <code>bash</code> shell.<ul> <li>If needed, you will use <code>bash</code> in the VS Code terminal to run post-provisioning scripts.</li> <li>You will also use it to run Azure CLI and Azure Developer CLI commands during setup. </li> </ul> </li> <li>Familiarity with Python and JavaScript UI frameworks.<ul> <li>You will modify REACT JavaScript and Python code to implement changes to the starter solution.</li> <li>In some steps, you will create and run Python code from the command line and VS Code.</li> <li>You will select a Python kernel and run pre-existing scripts in some steps.</li> </ul> </li> </ol>"},{"location":"02-Setup/00-Prerequisites/#what-you-will-take-away","title":"What You Will Take Away","text":"<p>After completing this workshop, you will have:</p> <ol> <li> <p>A personal fork (copy) of the Build Your Own Advanced AI Copilot with PostgreSQL repository in your GitHub profile. This repo contains all the materials you need to reproduce the workshop later.</p> </li> <li> <p>Hands-on understanding of the Azure AI Foundry portal and relevant developer tools (e.g., Azure Developer CLI, Prompty, FastAPI) to streamline end-to-end development workflows for your own AI apps.</p> </li> <li> <p>An understanding of how Azure AI services can be integrated into applications to create powerful AI-enabled applications.</p> </li> </ol>"},{"location":"02-Setup/01-Install-Software/","title":"2.1 Install Software","text":"<p>The required development environment uses a Visual Studio (VS) Code editor with a Python runtime. To complete this lab on your own computer, you must install the following required software. On completing this step, you should have installed:</p> <ul> <li> Azure command-line tools</li> <li> PowerShell 7</li> <li> Git</li> <li> Python 3.11+</li> <li> Node.js</li> <li> Docker desktop</li> <li> Visual Studio Code and required extensions</li> <li> pgAdmin</li> </ul>"},{"location":"02-Setup/01-Install-Software/#install-azure-command-line-tools","title":"Install Azure command-line tools","text":"<p>In this task, you will install both the Azure CLI and the Azure Developer CLI (<code>azd</code>).</p> <ul> <li>The Azure CLI enables you to execute Azure CLI commands from a command prompt or VS Code terminal on your local machine.</li> <li>The Azure Developer CLI (<code>azd</code>) is an open-source tool that accelerates provisioning and deploying app resources on Azure.</li> </ul> <ol> <li> <p>Install or upgrade to the latest version of the Azure CLI by following the instructions for your OS at https://learn.microsoft.com/cli/azure/install-azure-cli</p> <p>Upgrade to latest version of Azure CLI</p> <p>If you already have the Azure CLI installed, you'll need to be sure to upgrade to the latest version. This guide required v2.69.0 or greater. You can use this command to upgrade to the latest version:</p> <pre><code>az upgrade\n</code></pre> </li> <li> <p>Once installed, open a command prompt on your machine and verify the installation by running the following:</p> <pre><code>az version\n</code></pre> </li> <li> <p>Next, install the <code>ml</code> extension to the Azure CLI.</p> <p>About the ml extension</p> <p>The <code>ml</code> extension to the Azure CLI is the enhanced interface for Azure Machine Learning. It enables you to train and deploy models from the command line, with features that accelerate scaling data science up and out while tracking the model lifecycle.</p> <p>To install the <code>ml</code> extension you should first remove any existing installation of the extension and also the CLI v1 <code>azure-cli-ml</code> extension:</p> <pre><code>az extension remove -n azure-cli-ml\naz extension remove -n ml\n</code></pre> <p>Then, run the following to install the latest version of the <code>ml</code> extension:</p> <pre><code>az extension add -n ml\n</code></pre> </li> <li> <p>Install or upgrade Azure Developer CLI to the latest version by following the instructions for your OS at https://learn.microsoft.com/azure/developer/azure-developer-cli/install-azd.</p> <p>Upgrade to latest version of Azure Developer CLI</p> <p>If you already have the Azure Developer CLI installed, you'll need to be sure to upgrade to the latest version. This guide required v1.12 or greater.</p> </li> <li> <p>Execute the following command from a terminal prompt to verify the tools were installed:</p> <pre><code>azd version\n</code></pre> </li> </ol>"},{"location":"02-Setup/01-Install-Software/#install-powershell-7","title":"Install PowerShell 7","text":"<p>To run the provision and deployment of the solution accelerator, you will need to have PowerShell 7 installed. By default, Windows 11 does not come with PowerShell 7.</p> <ol> <li> <p>Install or upgrade to PowerShell 7 by following the installation instructions for your OS:</p> <ul> <li>Windows</li> <li>macOS</li> <li>Linux</li> </ul> </li> <li> <p>Once installed, open a command prompt on your machine and verify the installation by running the following:</p> <pre><code>pwsh\n</code></pre> </li> <li> <p>The command prompt should show the version of PowerShell as <code>7.5.0</code> or greater.</p> <p></p> </li> </ol> <p>Error running <code>pwsh</code> command</p> <p>If there's an error running the <code>pwsh</code> command, then PowerShell 7 is not installed.</p> <p></p>"},{"location":"02-Setup/01-Install-Software/#install-git","title":"Install Git","text":"<p>Git enables you to manage your code by tracking changes, maintaining a version history, and facilitating collaboration with others. This helps in organizing and maintaining the integrity of your project's development.</p> <ol> <li> <p>Download Git from https://git-scm.com/downloads.</p> </li> <li> <p>Run the installer using the default options.</p> </li> </ol>"},{"location":"02-Setup/01-Install-Software/#install-python","title":"Install Python","text":"<p>Python is the programming used to build the backend API for the solution. By utilizing Python's versatile programming capabilities and Azure Database for PostgreSQL's generative AI and vector search capabilities, you can create powerful and efficient AI copilots and streamlining complex workflows.</p> <ol> <li> <p>Download Python 3.11+ from https://python.org/downloads.</p> </li> <li> <p>Run the installer using the default options.</p> </li> <li> <p>Use the following command from a terminal prompt to verify Python was installed:</p> <pre><code>python --version\n</code></pre> </li> </ol>"},{"location":"02-Setup/01-Install-Software/#install-nodejs","title":"Install Node.js","text":"<p>Node.js is an open-source runtime environment that lets you run JavaScript code outside of a browser. It's ideal for building scalable network applications and works seamlessly with REACT single-page applications by providing a backend environment to handle server-side logic and API requests. This allows for efficient development and smooth interactions between the frontend and backend.</p> <ol> <li> <p>Download Node.js from https://nodejs.org/en/download/, ensuring you select the most recent LTS version and your correct OS.</p> </li> <li> <p>Run the installer using the default options.</p> </li> </ol>"},{"location":"02-Setup/01-Install-Software/#install-docker-desktop","title":"Install Docker Desktop","text":"<p>Docker Desktop is an application that allows you to build, share, and run containerized applications on your local machine. It provides a user-friendly interface to manage Docker containers, images, and networks. By streamlining the containerization process, Docker Desktop helps you develop, test, and deploy applications consistently across different environments.</p> <ol> <li> <p>Download and install Docker Desktop for your OS using instructions provided on the https://docs.docker.com/desktop/:</p> <ul> <li>Linux</li> <li>Mac</li> <li>Windows</li> </ul> </li> </ol>"},{"location":"02-Setup/01-Install-Software/#install-visual-studio-code-and-extensions","title":"Install Visual Studio Code (and extensions)","text":"<p>Visual Studio Code is a versatile, open-source code editor that combines powerful features with an intuitive interface to help you efficiently write, debug, and customize projects.</p> <ol> <li> <p>Download and install from https://code.visualstudio.com/download.</p> <ul> <li>Use the default options in the installer.</li> </ul> </li> <li> <p>After installation completed, launch Visual Studio Code.</p> </li> <li> <p>In the Extensions menu, search for and install the following extensions from Microsoft:</p> <ul> <li>Python</li> </ul> </li> <li> <p>Close VS Code.</p> </li> </ol>"},{"location":"02-Setup/01-Install-Software/#install-pgadmin","title":"Install pgAdmin","text":"<p>Throughout this workshop, you will use pgAdmin to run queries against your PostgreSQL database. pgAdmin is the leading Open Source management tool for Postgres.</p> <ol> <li> <p>Download pgAdmin from https://www.pgadmin.org/download/.</p> </li> <li> <p>Run the installer using the default options.</p> </li> </ol>"},{"location":"02-Setup/02-Fork-Repo/","title":"2.2 Fork Repo","text":"<p>You must create a copy (known as a fork) of the PostgreSQL Solution Accelerator: Build your own AI Copilot GitHub repo and then clone that onto your local computer so you can work with its contents. After completing this step, you should have:</p> <ul> <li> Forked the PostgreSQL Solution Accelerator: Build your own AI Copilot repo to your personal GitHub profile</li> <li> Created a local clone of the repo</li> <li> Opened the cloned repo in Visual Studio Code</li> </ul>"},{"location":"02-Setup/02-Fork-Repo/#fork-repo-to-your-profile","title":"Fork Repo To Your Profile","text":"<p>Forking in GitHub refers to creating a personal copy of a public repository, which allows you to freely experiment with changes without affecting the original project.</p> <ol> <li> <p>To fork the repo, open a new browser window or tab and navigate to http://aka.ms/pg-byoac-repo/.</p> </li> <li> <p>Select the Fork button to create a copy of the repo in your GitHub profile.</p> <p></p> </li> <li> <p>Login with your GitHub profile, if prompted.</p> </li> <li> <p>On the Create a new fork page, select Create fork to make a copy of the repo under your GitHub profile.</p> <p></p> </li> <li> <p>The forked repo will open within your GitHub profile.</p> </li> </ol>"},{"location":"02-Setup/02-Fork-Repo/#clone-the-forked-repo","title":"Clone the Forked Repo","text":"<ol> <li> <p>On the GitHub page for your fork, select the Code button and then select the Copy URL to clipboard button next to the repo's HTTPS clone link:</p> <p></p> </li> <li> <p>Open a new command prompt and change directories to the folder in which you want to clone the repo (e.g., D:\\repos).</p> </li> <li> <p>Once in the desired directory, run the following <code>git clone</code> command to download a copy of your fork onto your local machine. Ensure you replace the <code>&lt;url_of_your_forked_repo&gt;</code> token with the clone link you copied in the previous step.</p> <pre><code>git clone &lt;url_of_your_forked_repo&gt;\n</code></pre> </li> <li> <p>Once the repository has been cloned, change directories at the command prompt to the folder of the cloned repo, then run the following command to open the project in Visual Studio Code:</p> <pre><code>code .\n</code></pre> </li> </ol> <p>Leave Visual Studio Code open as you will be using it throughout the remainder of the workshop.</p>"},{"location":"02-Setup/03-Select-Azure-Region/","title":"2.3 Select An Azure Region","text":"<p>To ensure you can successfully deploy the Azure resources using the <code>azd up</code> command, you must choose a region that supports the required Azure OpenAI <code>gpt-4o</code> and <code>text-embedding-ada-002</code> models, has at least 10K TPM of <code>Standard</code> capacity available for each of those models. On completing this step, you should have:</p> <ul> <li> Selected an Azure region for workshop resources</li> </ul>"},{"location":"02-Setup/03-Select-Azure-Region/#review-regional-availability-and-azure-openai-quotas","title":"Review regional availability and Azure OpenAI quotas","text":"<p>There are only a handful of Azure regions that support all of the required resources and capabilities needed to successfully complete this workshop.</p> <p>Not selecting an appropriate region will result in a deployment failure!</p> <p>Follow the instructions below to review regional availability of the required services, models, and capabilities, and then select one of those for your deployment.</p> <ol> <li> <p>Review the regional availability guidance for the gpt-4o and text-embedding-ada-002 models in Azure OpenAI.</p> </li> <li> <p>Ensure you have a at least 10K TPMs of <code>Standard</code> capacity available in the region for both the <code>gpt-4o</code> and <code>text-embedding-ada-002</code> models. Follow these instructions to check your available quota.</p> </li> </ol>"},{"location":"02-Setup/03-Select-Azure-Region/#select-an-azure-region-that-supports-workshop-resources","title":"Select an Azure region that supports workshop resources","text":"<ol> <li>Based on the regions that meet the requirements from your review above, choose a region that supports both Azure OpenAI models, has adequate <code>Standard</code> TPM capacity.</li> </ol> <p>Select a region that supports both Azure OpenAI models!</p> <ul> <li> <p>Choosing a region that doesn't support both Azure OpenAI models will result in deployment failure when running <code>azd up</code>.</p> </li> <li> <p>Selecting a region that does not have at least 10K TPM capacity for both the <code>gpt-4o</code> and <code>text-embedding-ada-002</code> models will result in a deployment failure when running <code>azd up</code>.</p> </li> </ul>"},{"location":"02-Setup/04-Verify-Azure-Quota/","title":"2.4 Verify Azure Quota","text":"<p>This solution contains an Azure Developer CLI <code>azd-template</code> that provisions the required resources in Azure and deploys the starter app to Azure Container Apps (ACA). The template allows for the infrastructure to be deployed with a single <code>azd up</code> command.</p> <ul> <li> Verified your Azure ML CPU quota</li> <li> Authenticated with Azure</li> <li> Provisioned Azure resources and deployed the starter solution</li> </ul>"},{"location":"02-Setup/04-Verify-Azure-Quota/#verify-azure-ml-cpu-quota","title":"Verify Azure ML CPU Quota","text":"<p>This solution accelerator contains a section dedicated to setting up and using a Semantic Ranking model directly from your PostgreSQL database. The deployment of this component of the architecture requires sufficient CPU quota (4 or 16 cores) in Azure Machine Learning to accommodate your choice of either of the following models:</p> <ul> <li>Hugging Face miniLM re-ranker model deployment. Smaller model, high accuracy, requiring 4 CPU cores.</li> <li>Hugging Face BGE re-ranker model deployment. Larger model, highest accuracy, requiring 16 CPU cores.</li> </ul> <p>In this task, you must verify you have available quota for the target virtual machine (VM) instance type (<code>STANDARD_D4AS_V4</code> or <code>STANDARD_D16AS_V4</code>), and if not, request additional quota.</p> <ol> <li> <p>To view your available quota, you first need to retrieve your Microsoft Entra ID Tenant ID from the Azure portal.</p> </li> <li> <p>In the Azure portal, enter \"Microsoft Entra ID\" into the search bar, then select Microsoft Entra ID from the Services list in the results.</p> <p></p> </li> <li> <p>On the Overview page of your Microsoft Entra ID tenant, select the Copy to clipboard button for your Tenant ID.</p> <p></p> </li> <li> <p>Open a new browser window or tab and navigate to the following URL, replacing the <code>&lt;your-tenant-id&gt;</code> token with the Tenant ID you copied from the Entra ID overview page in the Azure portal.</p> Azure ML Quota page<pre><code>https://ml.azure.com/quota?tid=&lt;your-tenant-id&gt;\n</code></pre> </li> <li> <p>On the Azure ML Quota page, select the subscription you are using for this workshop.</p> <p></p> </li> <li> <p>On the quota page for your selected subscription, select the Azure region you plan to use for this workshop. This should be the region you chose in previous task that supports the required Azure OpenAI models.</p> </li> <li> <p>You should now see a list of CPUs and their quotas within your subscription. Locate Standard DASv4 Family Cluster Dedicated vCPUs in the list and inspect the Quota available.</p> <p></p> </li> <li> <p>If you have (4 cores for the mini model, or 16 cores for the bge model) or more available, then you do not need to request a quota increase. Otherwise, select the Standard DASv4 Family Cluster Dedicated vCPUs by checking the box to the left of the name, then scroll up to the top of the page and locate the Request quota button.</p> <p></p> </li> <li> <p>In the Request quota dialog, increase your New cores limit value by (4 or 16) and then select Submit.</p> <p></p> <p>Quota increase example</p> <p>Your new cores limit should be increased to ensure (4 or 16) cores are available for a new deployment. For example, if you have zero cores available, your new cores limit should be set to (4 or 16). If your core limit is 100 and you are currently using 90, your new cores limit should be set to (94 or 106).</p> </li> <li> <p>Quota increase requests typically take a few minutes to complete. You will receive notifications in the Azure portal as the request is processed and when it completes.</p> </li> <li> <p>If your request is denied, you don't have permissions to issue the request, or you prefer not to request additional quota, you have the option to exclude the Semantic Ranking model deployment when running the <code>azd up</code> command by setting the <code>deployAMLModel</code> flag to <code>none</code> when prompted.</p> </li> </ol>"},{"location":"02-Setup/04-Verify-Azure-Quota/#verify-azure-resource-providers","title":"Verify Azure Resource Providers","text":"<p>There are a few Azure Resource Providers that will need to be registered on the Azure Subscription for the solution accelerator to successfully deploy the Azure Machine Learning resources.</p> <p>The required Azure Resource Providers are:</p> <ul> <li><code>Microsoft.Cdn</code></li> <li><code>Microsoft.PolicyInsights</code></li> <li><code>Microsoft.MachineLearningServices</code></li> <li><code>Microsoft.ApiManagement</code></li> </ul> <p>Follow these steps to check if the Resource Providers are registered, and if not then you'll register them:</p> <ol> <li> <p>Run the following command to check whether the Resource Providers are registered on your Azure Subscription:</p> Text Only<pre><code>az provider list --query \"[?namespace=='Microsoft.Cdn' || namespace=='Microsoft.PolicyInsights' || namespace == 'Microsoft.MachineLearningServices' || namespace == 'Microsoft.ApiManagement'].{Namespace: namespace, RegistrationState: registrationState}\" -o table\n</code></pre> <p>Alternatively, you could also navigate to the Subscription within the Azure Portal, then navigate to Resource providers under Settings. This will also allow you to view the registered Resource Providers for the Subscription, as well as register them.</p> <p>The console output will look similar to the following:</p> Text Only<pre><code>Namespace                          RegistrationState    \n---------------------------------  -------------------  \nMicrosoft.MachineLearningServices  NotRegistered        \nMicrosoft.Cdn                      Registered           \nMicrosoft.PolicyInsights           NotRegistered        \nMicrosoft.ApiManagement            NotRegistered        \n</code></pre> <p>The console output will show the Resource Provider and the RegistrationState. If the RegistrationState shows a value of Registered then the Resource Provider is registered on the Azure Subscription.</p> </li> <li> <p>To register all the Resource Providers on the Azure Subscription, run the following commands:</p> Text Only<pre><code>az provider register --namespace Microsoft.MachineLearningServices\naz provider register --namespace Microsoft.Cdn\naz provider register --namespace Microsoft.PolicyInsights\naz provider register --namespace Microsoft.ApiManagement\n</code></pre> <p>If one or more of the Resource Providers are already registered, then only run the command for the Resource Providers that are not registered.</p> </li> </ol>"},{"location":"02-Setup/05-Provision-And-Deploy/","title":"2.5 Provision and Deploy","text":"<p>You will need a valid Azure subscription, a GitHub account, and access to relevant Azure OpenAI models to complete this lab. Review the prerequisites section if you need more details.</p>"},{"location":"02-Setup/05-Provision-And-Deploy/#start-docker-desktop","title":"Start Docker Desktop","text":"<p>Docker Desktop is used to create and deploy the containers used for runnig the Woodgrove Bank Portal and API applications. It must be running before you begin the deployment process using <code>azd up</code>.</p> <ol> <li> <p>Launch Docker Desktop from the applications menu on your computer.</p> </li> <li> <p>Look for the Docker icon in your system tray or menu bar to confirm it is running.</p> </li> </ol>"},{"location":"02-Setup/05-Provision-And-Deploy/#authenticate-with-azure","title":"Authenticate With Azure","text":"<p>Before running the <code>azd up</code> command, you must authenticate your VS Code environment to Azure.</p> <ol> <li>To create Azure resources, you need to be authenticated from VS Code. Open a new integrated terminal in VS Code. Then, complete the following steps:</li> </ol>"},{"location":"02-Setup/05-Provision-And-Deploy/#authenticate-with-az-for-post-provisioning-tasks","title":"Authenticate with <code>az</code> for post-provisioning tasks","text":"<ol> <li> <p>Log into the Azure CLI <code>az</code> using the command below.</p> <pre><code>az login\n</code></pre> </li> <li> <p>Complete the login process in the browser window that opens.</p> <p>If you have more than one Azure subscription, you may need to run <code>az account set -s &lt;subscription-id&gt;</code> to specify the correct subscription to use.</p> </li> </ol>"},{"location":"02-Setup/05-Provision-And-Deploy/#authenticate-with-azd-for-provisioning-managing-resources","title":"Authenticate with <code>azd</code> for provisioning &amp; managing resources","text":"<ol> <li> <p>Log in to Azure Developer CLI. This is only required once per-install.</p> <pre><code>azd auth login\n</code></pre> </li> </ol>"},{"location":"02-Setup/05-Provision-And-Deploy/#provision-azure-resource-and-deploy-app-ui-and-api","title":"Provision Azure Resource and Deploy App (UI and API)","text":"<p>You are now ready to provision your Azure resources and deploy the Woodgrove Bank solution.</p> <ol> <li> <p>Use <code>azd up</code> to provision your Azure infrastructure and deploy the web application to Azure.</p> <pre><code>azd up\n</code></pre> <p>You will be prompted for several inputs for the <code>azd up</code> command:</p> <ul> <li>Enter a new environment name: Enter a value, such as <code>dev</code>.</li> <li>The environment for the <code>azd up</code> command ensures configuration files, environment variables, and resources are provisioned and deployed correctly.</li> <li>Should you need to delete the <code>azd</code> environment, locate and delete the <code>.azure</code> folder at the root of the project in the VS Code Explorer.</li> <li>Select an Azure Subscription to use: Select the Azure subscription you are using for this workshop using the up and down arrow keys.</li> <li>Select an Azure location to use: Select the Azure region into which resources should be deployed using the up and down arrow keys.</li> <li>Enter a value for the <code>deployAMLModel</code>: Select one of the following values using the up and down arrow keys:<ul> <li><code>mini</code> to deploy the \"MiniLM-L6-v2\" Cross Encoder model (smaller, fastest, high accuracy, deploys a 4 vCPU Azure ML host)</li> <li><code>bge</code> to deploy the \"BGE-Reranker-v2-M3\" Cross Encoder  model (larger, fast, highest accuracy, deploys a 16 vCPU Azure ML host)</li> <li><code>none</code> to not deploy any Cross Encoder and skip the Semantic Re-ranker feature.</li> </ul> </li> <li>If you select <code>False</code>, you will need to skip the optional Semantic Ranker section of this accelerator.</li> <li>Enter a value for the <code>resourceGroupName</code>: Enter <code>rg-postgresql-accelerator</code>, or a similar name.</li> </ul> </li> <li> <p>Wait for the process to complete. Depending on the option you selected for the <code>deployAMLModel</code> setting, the deployment will take different amounts of time:</p> <ul> <li>If you chose <code>mini</code> then it may take roughly 27 minutes to deploy everything.</li> <li>If you chose <code>bge</code> then it may take roughly 47 minutes to deploy everything.</li> <li>If you chose <code>none</code> then it may take roughly 14 minutes to deploy everything.</li> </ul> <p>Why choose MiniLM-L6-v2 or BGE-Reranker-v2-M3?</p> <p>When deciding between MiniLM-L-6-v2 and BGE-Reranker-v2-M3, the key differences come down to accuracy vs. latency trade-offs.</p> <ul> <li> <p>MiniLM-L-6-v2 is a lightweight cross-encoder reranker that offers a solid accuracy boost over basic vector search with relatively low latency and compute requirements. It's ideal for scenarios where you want better ranking fidelity without significantly impacting performance or cost. This model strikes a great balance for most practical applications and scales well even in resource-constrained environments.</p> </li> <li> <p>BGE-Reranker-v2-M3, on the other hand, is a larger, more powerful cross-encoder that delivers state-of-the-art ranking quality, with noticeably higher MRR and nDCG scores. It excels in high-precision search pipelines where maximum relevance and semantic fidelity are critical \u2014 such as legal, research, enterprise knowledge systems, or customer support assistants \u2014 and some additional latency is acceptable.</p> </li> </ul> <p>In practice, you might use MiniLM-L6-v2 as a default reranker and switch to BGE-Reranker-v2-M3 for premium or specialized workloads where precision outweighs latency.</p> <p>Not enough subscription CPU quota</p> <p>If you did not check your Azure ML CPU quota prior to starting running the <code>azd up</code> command, you may receive a CPU quota error message similar to the following:</p> <p>(OutOfQuota) Not enough subscription CPU quota. The amount of CPU quota requested is (4 or 16) and your maximum amount of quota is [N/A]. Please see troubleshooting guide, available here: https://aka.ms/oe-tsg#error-outofquota</p> <p>You can still continue with the workshop, but will need to skip the optional Semantic Ranking section, as you will not have the deployed model available.</p> <p>Deployment failed: Postgresql server is not in an accessible state</p> <p>It's possible a <code>server is not in an accessible state</code> error may occur when the Azure Bicep deployment attempts to add the PostgreSQL Admin User after the PostgreSQL Server has been provisioned. This can occur if the PostgreSQL server is still being provisioned in the Azure backend, but the Deployment returned that it's successful already. If you encounter this error, simply re-run the <code>azd up</code> command.</p> Text Only<pre><code>ERROR: error executing step command 'provision': deployment failed: error deploying infrastructure: deploying to subscription:\n\nDeployment Error Details:\nAadAuthOperationCannotBePerformedWhenServerIsNotAccessible: The server 'psql-datacvdjta5pfnc5e' is not in an accessible state to perform Azure AD Principal operation. Please make sure the server is accessible before executing Azure AD Principal operations.\n</code></pre> </li> <li> <p>On successful completion you will see a <code>SUCCESS: ...</code> message on the console.</p> </li> </ol>"},{"location":"02-Setup/05-Provision-And-Deploy/#comparison-table-vector-search-vs-minilm-l6-v2-vs-bge-reranker-v2-m3","title":"Comparison Table: Vector Search vs. MiniLM-L6-v2 vs. BGE-Reranker-v2-M3","text":"Metric / Feature Standard Vector Search (e.g., BGE Base, OpenAI Embedding) MiniLM-L-6-v2 Reranker BGE-Reranker-v2-M3 Input Mode Separate embeddings (query + doc) Joint query + doc Joint query + doc Latency Low (sub-ms to ms) Medium (10\u201330ms typical) Higher (50\u2013100ms+) Compute Requirements Minimal (dot product or cosine sim) Low (small model) Moderate (larger model) MRR@10 ~0.32\u20130.36 ~0.38\u20130.39 ~0.42\u20130.44 nDCG@10 ~0.45\u20130.50 ~0.52\u20130.54 ~0.57\u20130.60 Ranking Quality Fair \u2014 coarse semantic relevance Better \u2014 some nuance Excellent \u2014 high fidelity Best Use Case Fast first-pass retrieval Lightweight reranking High-precision reranking"},{"location":"02-Setup/06-Validation/","title":"2.6 Validate Deployment","text":"<p>SETUP IS COMPLETE!</p> <p>You just completed the PROVISION and SETUP steps of workshop. </p> <ul> <li> You installed the required tools and software</li> <li> You forked the sample repo and created a local clone</li> <li> You provisioned infrastructure resources on Azure</li> <li> You deployed the REACT UI and Python API to Azure Container Apps</li> <li> You configured your local development environment</li> </ul> <p>Here's a reminder of the Azure Application Architecture you can reference as you check your provisioned Resource Group to enure these resources were created.</p> <p></p> <p>In this section, you will validate your setup before moving on to the next phase of solution development.</p>"},{"location":"02-Setup/06-Validation/#inspect-deployed-azure-resources","title":"Inspect deployed Azure resources","text":"<p>The Azure Portal allows you to view the resources provisioned on Azure and verify that they are setup correctly</p> <ol> <li> <p>Open a new browser tab and navigate to the link below. You may be prompted to login.</p> <pre><code>https://portal.azure.com/#browse/resourcegroups\n</code></pre> </li> <li> <p>You may be presented with a \"Welcome to Microsoft Azure\" screen. Select Cancel (to dismiss it) or click Get Started (to take an introductory tour of the Azure Portal).</p> </li> <li> <p>You should be taken directly to the Resource Groups page for your subscription. In the list of resource groups, locate the one named <code>rg-postgresql-accelerator</code> (or, if you assigned a different name, find that one). This resource group was created for you as part of the <code>azd up</code> resource deployment. It contains all of the Azure resources required to build and deploy your AI-enable solution.</p> <p>You can use the search filter to reduce the number resource groups displayed.</p> </li> <li> <p>Select your resource group.</p> <p>Review the list of deployed resources.</p> <p>In addition to creating a resource group, the <code>azd up</code> command deployed multiple resources into that resource group, as shown in the table below.</p> Resource type Name Container Registry <code>cr&lt;unique_string&gt;</code> Log Analytics workspace <code>log-&lt;unique_string&gt;</code> Key Vault <code>kv-&lt;unique_string&gt;</code> Document Intelligence <code>di-&lt;unique_string&gt;</code> Language <code>lang-&lt;unique_string&gt;</code> Application Insights <code>appi-&lt;unique_string&gt;</code> Container Apps Environment <code>cae-&lt;unique_string&gt;</code> Storage account <code>st&lt;unique_string&gt;</code> Azure Database for PostgreSQL - Flexible Server <code>psql-data&lt;unique_string&gt;</code> Azure OpenAI <code>openai-&lt;unique_string&gt;</code> Machine Learning Workspace <code>mlw-&lt;unique_string&gt;</code> Machine Learning Endpoint <code>mle-&lt;unique_string&gt;</code> Container App <code>ca-api-&lt;unique_string&gt;</code> Container App <code>ca-portal-&lt;unique_string&gt;</code> <p>The <code>&lt;unique_string&gt;</code> token in the above resource names represents the unique string that is generated by the Bicep scripts when naming your resources. This ensures resources are uniquely named and avoid resource naming collisions.</p> <p>In addition to the above resources, you will also see several other resources, like Managed Identities, that are supporting resources for those in the table.</p> </li> </ol>"},{"location":"02-Setup/06-Validation/#ensure-the-deployed-apps-are-running","title":"Ensure the deployed apps are running","text":"<p>The <code>azd up</code> command included steps to deploy the Woodgrove Bank application into Azure Container Apps (ACA). Two containers were created. One for the Woodgrove Bank portal UI and a second for the backend API that supports it.</p> <p>Azure Container Apps (ACA) deployment</p> <p>ACA is a fully managed serverless platform that allows you to deploy and manage containerized applications effortlessly. They simplify deployment, offer scalability and cost-effectiveness, and make it easier to focus on building applications without worrying about infrastructure management.</p>"},{"location":"02-Setup/06-Validation/#confirm-the-woodgrove-api-is-running","title":"Confirm the Woodgrove API Is Running","text":"<ol> <li> <p>In the browser window opened to your Azure resource group, select the Container app resource whose name starts with ca-api.</p> <p></p> </li> <li> <p>In the Essentials section of the API Container App's Overview page, select the Application Url to open the deployed Woodgrove Bank API in a new browser tab.</p> <p></p> </li> <li> <p>You should see a <code>Welcome to the Woodgrove Bank API!</code> message on the screen, which serves as confirmation the API app was deployed successfully.</p> </li> </ol>"},{"location":"02-Setup/06-Validation/#open-the-woodgrove-portal-ui","title":"Open the Woodgrove Portal UI","text":"<ol> <li> <p>In the Azure portal, return to the resource group containing your resources and select the Container app resource whose name begins with ca-portal.</p> <p></p> </li> <li> <p>In the Essentials section of the Portal Container App's Overview page, select the Application Url to open the deployed Woodgrove Bank Portal in a new browser tab.</p> <p></p> </li> <li> <p>In the Woodgrove Bank Contract Management Portal, select the Vendors page and verify the list of vendors loads correctly.</p> <p></p> </li> </ol>"},{"location":"02-Setup/06-Validation/#view-azure-openai-model-deployments-in-azure-ai-foundry","title":"View Azure OpenAI model deployments in Azure AI Foundry","text":"<p>The Azure AI Foundry portal lets you view and manage the Azure AI resources for your app.</p> <p>You will use the Azure AI Foundry portal to verify the <code>gpt-4o</code> and <code>text-embedding-ada-002</code> models were deployed into your Azure OpenAI service.</p> <ol> <li> <p>In the Azure portal, return to the resource group containing your resources and select the Azure OpenAI resource.</p> <p></p> </li> <li> <p>On the Azure OpenAI resource's Overview page, select Explore Azure AI Foundry portal.</p> <p></p> </li> <li> <p>In Azure AI Foundry, select the Deployments menu item under Shared resources in the left-hand navigation menu.</p> <p></p> </li> <li> <p>Verify you see a <code>completions</code> deployment for the <code>gpt-4o</code> model and an <code>embeddings</code> deployment for the <code>text-embedding-ada-002</code> model.</p> </li> </ol>"},{"location":"02-Setup/06-Validation/#verify-semantic-ranker-model-deployment-optional","title":"Verify Semantic Ranker Model Deployment (optional)","text":"<p>If you chose to deploy the Azure ML semantic ranker model during setup, you will use the Azure Machine Learning Studio to ensure the semantic ranker model was successfully deployed to an online endpoint.</p> <p>You only need to do this step if you chose <code>mini</code> or <code>bge</code> for <code>deployAMLModel</code> during the <code>azd up</code> deployment. If you selected <code>none</code>, skip this step.</p> <ol> <li> <p>In the Azure portal, return to the resource group containing your resources and select the Azure Machine Learning Workspace resoure.</p> <p></p> </li> <li> <p>From the Azure ML workspace page, select the Launch studio button to open Azure Machine Learning Studio in a new browser window.</p> <p></p> </li> <li> <p>Sign into Machine Learning Studio if prompted.</p> </li> <li> <p>In Machine Learning Studio, select Endpoints under Assets in the left-hand resource menu, then select the endpoint for your (<code>bge-v2-m3-reranker model</code> or <code>msmarco-minilm-deployment-6 model</code>):</p> <p></p> </li> <li> <p>On your endpoint page, ensure the Provisioning state for the (bgev2m3-v1 or msmarco-minilm-deployment-6) deployment is Succeeded.</p> <p></p> </li> </ol> <p>Leave the Azure Portal open. You will revisit it later.</p>"},{"location":"02-Setup/07-Setup-Dev-Env/","title":"2.7 Setup Dev Environment","text":"<p>In this step, you will configure your Python development environment in Visual Studio Code. At the end of this step, you should have:</p> <ul> <li> Created a Python virtual environment</li> <li> Installed the required Python libraries from <code>requirements.txt</code></li> <li> Create and populated a <code>.env</code> file in the Woodgrove API project.</li> <li> Connected to your database using pgAdmin</li> </ul>"},{"location":"02-Setup/07-Setup-Dev-Env/#create-a-python-virtual-environment","title":"Create a Python virtual environment","text":"<p>Virtual environments in Python are essential for maintaining a clean and organized development space, allowing individual projects to have their own set of dependencies, isolated from others. This prevents conflicts between different projects and ensures consistency in your development workflow. By using virtual environments, you can manage package versions easily, avoid dependency clashes, and keep your projects running smoothly. It's a best practice that keeps your coding environment stable and dependable, making your development process more efficient and less prone to issues.</p> <ol> <li> <p>Return to Visual Studio Code, where you have the PostgreSQL Solution Accelerator: Build your own AI Copilot project open.</p> </li> <li> <p>In Visual Studio Code, open a new terminal window and change directories to the <code>src/api</code> folder of the repo, and create a virtual environment named <code>.venv</code> by running the following command at the terminal prompt:</p> <pre><code>cd src/api\npython -m venv .venv \n</code></pre> <p>The above command will create a <code>.venv</code> folder under the <code>api</code> folder, which will provide a dedicated Python environment for the <code>api</code> project that can be used throughout this lab.</p> </li> <li> <p>Activate the virtual environment.</p> <p>Select the appropriate command for your OS and shell from the table.</p> Platform Shell Command to activate virtual environment POSIX bash/zsh <code>source .venv/bin/activate</code> fish <code>source .venv/bin/activate.fish</code> csh/tcsh <code>source .venv/bin/activate.csh</code> pwsh <code>.venv/bin/Activate.ps1</code> Windows cmd.exe <code>.venv\\Scripts\\activate.bat</code> PowerShell <code>.venv\\Scripts\\Activate.ps1</code> macOS bash/zsh <code>source .venv/bin/activate</code> </li> <li> <p>Execute the command at the terminal prompt to activate your virtual environment.</p> </li> </ol>"},{"location":"02-Setup/07-Setup-Dev-Env/#install-required-python-libraries","title":"Install required Python libraries","text":"<p>The <code>requirements.txt</code> file in the <code>src\\api</code> folder contains the set of Python libraries needed to run the Python components of the solution accelerator.</p> <p>Review required libraries</p> <p>Open the <code>src\\api\\requirements.txt</code> file in the repo to review the required libraries and the versions that are being used.</p> <ol> <li> <p>From the integrated terminal window in VS Code, run the following command to install the required libraries in your virtual environment:</p> <pre><code>pip install -r requirements.txt\n</code></pre> </li> </ol>"},{"location":"02-Setup/07-Setup-Dev-Env/#create-env-file","title":"Create <code>.env</code> file","text":"<p>Configuration values, such as connection string and endpoints, that allow your application to interact with Azure services are hosted in an Azure App Configuration service. To enable your application to retrieve these values, you must provide it with the endpoint of that service. You will use a <code>.env</code> file to host the endpoint as an environment variable, which will allow you to run the Woodgrove API locally. The <code>.env</code> file will be created within the <code>src\\api\\app</code> folder of the project.</p> <ol> <li> <p>In VS Code, navigate to the <code>src\\api\\app</code> folder in the Explorer panel.</p> </li> <li> <p>Right-click the <code>app</code> folder and select New file... from the context menu.</p> </li> <li> <p>Enter <code>.env</code> as the name of the new file within the VS Code Explorer panel.</p> </li> <li> <p>In the <code>.env</code> file, add the following as the first line, replacing the <code>{YOUR_APP_CONFIG_ENDPOINT}</code> with the endpoint for the App Configuration resource in your deployed resource group.</p> <pre><code>AZURE_APP_CONFIG_ENDPOINT={YOUR_APP_CONFIG_ENDPOINT}\n</code></pre> <p>Retrieve the endpoint for your App Configuration resource</p> <p>To get the endpoint for your App Configuration resource:</p> <ol> <li> <p>Navigate to your App Configuration resource in the Azure portal.</p> </li> <li> <p>Select Access settings from the resource navigation menu, under Settings.</p> </li> <li> <p>Copy the Endpoint value and paste it into the <code>.env</code> file.</p> <p></p> </li> </ol> </li> <li> <p>Save the <code>.env</code> file.</p> </li> </ol>"},{"location":"02-Setup/07-Setup-Dev-Env/#connect-to-your-database-from-pgadmin","title":"Connect to your database from pgAdmin","text":"<p>You will use pgAdmin from your machine to configure various features in the database and execute queries to test those features. The <code>azd up</code> deployment script added your Microsoft Entra ID user as the owner of the database, so you will authenticate with Entra ID to. Please follow the steps below to connect to your Azure Database for PostgreSQL - Flexible Server using pgAdmin:</p> <ol> <li> <p>Navigate to your Azure Database for PostgreSQL - Flexible Server resource in the Azure portal.</p> </li> <li> <p>On the Azure Database for PostgreSQL - Flexible Server page, copy the Server name value from the Essentials panel on the Overview page by selecting the Copy to clipboard button to the right of the value.</p> <p></p> </li> <li> <p>On your development computer, open pgAdmin.</p> </li> <li> <p>In the pgAdmin Object Explorer, right-click on Servers and in the context menu select Register &gt;, then Server....</p> <p></p> </li> <li> <p>In tab of Register - Server dialog, follow these steps:</p> <ol> <li> <p>On the General tab, enter \"PostgreSQLSolutionAccelerator\" into the Name field and clear the Connect now option.</p> <p></p> </li> <li> <p>Select the Connection tab and provide your Azure Database for PostgreSQL flexible server instance details for Hostname/address and Username.</p> <ol> <li> <p>Paste the Server name value of your Azure Database for PostgreSQL flexible server into the Host name/address field.</p> </li> <li> <p>The Username value is your Microsoft Entra ID or email.</p> </li> </ol> </li> <li> <p>Select Save.</p> </li> <li> <p>Right-click the newly added PostgreSQLSolutionAccelerator server in the pgAdmin Object Explorer, and select Connect Server in the context menu.</p> <p></p> </li> <li> <p>In the Connect to Server dialog, you will need to provide an access token.</p> <p>To Retrieve Your Microsoft Entra ID Access Token</p> <ol> <li> <p>In VS Code, open a new integrated terminal.</p> </li> <li> <p>At the integrated terminal prompt, execute the following command to generate and output an access token:</p> Bash<pre><code>$token = az account get-access-token --resource-type oss-rdbms --output json | ConvertFrom-Json\n$token.accessToken\n</code></pre> </li> <li> <p>Copy the output value.</p> <p>The token is a Base64 string. It encodes all the information about the authenticated user and is targeted to the Azure Database for PostgreSQL service.</p> </li> </ol> </li> <li> <p>Return to pgAdmin and the Connect to Server dialog and paste the access token into the password field.</p> <p></p> <p>Do not save password!</p> <p>Ensure the Save Password box in the Connect to Server dialog is unchecked. Checking this box can cause your login to fail.</p> </li> <li> <p>Select OK.</p> <p>Access token expiration</p> <p>If your access token expires during the course of the workshop, you will need to come back and repeat the above steps to reauthenticate.</p> </li> </ol> </li> </ol> <p>Leave pgAdmin open as you will be using it throughout the remainder of the workshop.</p>"},{"location":"02-Setup/08-Review-Manual-Process/","title":"2.8 Review Manual Process","text":"<p>Before beginning the process if integrating AI capabilities into the Woodgrove Bank Contract Management application, let's review the manually process they are currently using to enter data into the system. Keep in mind that a user would need to first read the SOW and Invoice document, before copying and pasting the correct information into the application fields. This manual process can be very time consuming and error-prone.</p>"},{"location":"02-Setup/08-Review-Manual-Process/#review-sows","title":"Review SOWs","text":"<p>Let's review the application UI for SOWs.</p> <ol> <li> <p>In the Woodgrove Bank Contract Management Portal, select the SOWs page and to view the list of SOWs.</p> <p></p> </li> <li> <p>Locate the SOW-2024-073 SOW, then select the Edit button under the Actions column. This will open the edit page for the SOW.</p> <p></p> </li> <li> <p>On the SOW Edit page, notice the primary fields that need to be entered for the Statement of Work (Vendor, SOW Name, Budget, State Date, and End Date). Also, notice the list of Milestones that must be manually entered for the SOW based on the SOW document that was uploaded.</p> <p></p> </li> <li> <p>Select the Edit button for the Monitoring milestone. This will open the Edit Milestone page, where you can see the required fields for the Milestone as well as the Deliverables that must be manually entered based on the SOW document that was uploaded. After reviewing the fields and deliverables, select the Back to SOW button.</p> <p></p> </li> <li> <p>On the Edit SOW page, notice the Validations history list. These validations have each been manually entered over time as the SOW has been updated.</p> <p></p> </li> <li> <p>Below the Validations you will see the list of SOW Chunks. These are the titles and content from the various different sections of the SOW document. In the manual workflow, these were manually copy and pasted into the application to extract text from the SOW document. This is entered by a user as they read through and review the SOW document.</p> <p></p> </li> </ol>"},{"location":"02-Setup/08-Review-Manual-Process/#review-invoices","title":"Review Invoices","text":"<p>Let's review the application UI for Invoices.</p> <ol> <li> <p>In the Woodgrove Bank Contract Management Portal, select the Invoices page and to view the list of Invoices. Then select the Edit button for the first Invoice in the list. This will bring up the Invoice Edit page.</p> <p></p> </li> <li> <p>On the Edit Invoice page, review all the different sections of data that must be manually entered for the uploaded invoice document:</p> <ul> <li>Invoice fields (Vendor, SOW Name, Invoice Number, Amount, Invoice Date, Payment Status)</li> <li>Line Items must be extracted from the Invoice document and manually entered.</li> <li>Validations are manually entered by the user as they manually review the uploaded invoice document.</li> </ul> <p></p> </li> <li> <p>Within the Validations, notice the Result entered manually is generally very short and does not contain very much information.</p> <p></p> <p>Something you will notice as you integrate AI into the application, in later sections, is that Validation summaries generated by AI will be much more informative.</p> </li> </ol> <p>Congratulations! You have reviewed the SOW and Invoice data fields that are entered manually for the old workflow. In the next units, you will work to integrate an AI-powered workflow!</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/","title":"Integrate Generative AI into Azure Database for PostgreSQL - Flexible Server","text":"Using your own data? <p>To accommodate attendees who wish to integrate their own PostgreSQL databases into the solution accelerator, the following steps are recommended:</p> <p>1. Install Necessary Extensions Ensure your PostgreSQL database has the required extensions installed:</p> <p>azure_ai: Facilitates integration with Azure AI services. pgvector: Enables vector data storage and similarity searches. pg_diskann: Provides efficient vector indexing and searching capabilities.</p> <p>Note: The pg_diskann extension depends on the vector extension; ensure both are installed.</p> <p>2. Identify and Modify Relevant Tables Determine which tables in your existing database will store AI-generated data. For these tables:</p> <ul> <li>Add Vector Columns: Introduce columns of type vector to store embeddings. Example: SQL<pre><code>  ALTER TABLE your_table\n  ADD COLUMN embedding vector(1536); -- Adjust dimension as needed for your model\n</code></pre></li> <li>Create DiskANN Indexes: Enhance query performance by indexing the vector columns. Example: SQL<pre><code>  CREATE INDEX your_table_embedding_diskann_idx\n  ON your_table\n  USING diskann (embedding vector_cosine_ops);\n</code></pre></li> </ul> <p>3. Configure Managed Identity and Permissions Configure the following Azure services:</p> <ul> <li>Managed Identity: Assign a managed identity to your PostgreSQL server if not already done.</li> <li>Role Assignment: Grant the managed identity the Storage Blob Data Contributor role on the relevant Azure Storage account to permit necessary data access.</li> </ul> <p>By implementing these steps, you can seamlessly integrate your existing PostgreSQL databases into the solution accelerator, enabling efficient AI-driven data processing and analysis.</p> <p>Generative AI (GenAI) represents a cutting-edge class of AI algorithms designed to create new, original content based on patterns and data learned from existing information. Natural language processing (NLP) is a key part of this. NLP allows generative AI to understand and produce human language, making it capable of tasks like summarizing large blocks of text, translating languages, or conversing with people. Using NLP, generative AI can create content that sounds natural and makes sense in context. By employing techniques like prompting and retrieval augmented generation (RAG), GenAI can produce innovative outputs, such as text, images, and more.</p> <p>Incorporating Generative AI (GenAI) within Azure Database for PostgreSQL - Flexible Server is accomplished through the Azure AI (<code>azure_ai</code>) and pgvector (<code>vector</code>) extensions. The <code>azure_ai</code> extension enables the integration of large language models (LLMs) directly within your database, providing seamless interaction with Azure's advanced AI services, such as Azure OpenAI and Azure Cognitive Services. With these integrations, you can elevate your applications by embedding robust AI functionalities directly into your database infrastructure. The <code>vector</code> extension works with the <code>azure_ai</code> extension, allowing vector embeddings to be generated in database queries, then stored and queried in the database. It also enables powerful vector similarity search capabilities.</p> <p>In addition, the <code>pg_diskann</code> extension enables DiskANN support for efficient vector indexing and searching. DiskANN is a scalable approximate nearest neighbor search algorithm for efficient vector search at any scale. It offers high recall, high queries per second, and low query latency, even for billion-point datasets.</p> <p>In this section, you will use extensions to enhance your PostgreSQL database with Generative AI and Vector Search capabilities. Here's what you will accomplish:</p> <ul> <li> Install the <code>azure_ai</code>, <code>pg_diskann</code>, and <code>vector</code> extensions on your PostgreSQL database</li> <li> Configure the <code>azure_ai</code> extension with the connection details for your Azure AI services</li> <li> Add vector columns to database tables to allow embeddings to be stored alongside text data</li> <li> Improve vector query performance with DiskANN</li> <li> Generate and store embeddings for existing data</li> </ul> <p>Following these steps will transform your PostgreSQL database into a powerful AI-enhanced platform capable of executing advanced generative AI tasks and providing deeper insights from your data.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/01/","title":"3.1 Install extensions","text":"<p>Azure Database for PostgreSQL flexible server allows you to extend the functionality of your database using extensions. Extensions bundle multiple related SQL objects into a single package that can be loaded or removed from your database with a single command. After being loaded into the database, extensions function like built-in features.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/01/#allowlist-the-extensions","title":"Allowlist the extensions","text":"<p>Before installing and using extensions in Azure Database for PostgreSQL flexible server, you must add them to the server's allowlist, as described in how to use PostgreSQL extensions.</p> <p>Select the tab of the method you want to use for allowlisting the extensions and follow the instructions provided.</p> Azure CLIAzure portal <ol> <li>Open a new integrated terminal window in VS Code and execute the following Azure CLI command at the prompt.</li> </ol> <p>Ensure you replace the tokens in the command below with the appropriate values from your Azure environment.</p> <ul> <li>[YOUR_RESOURCE_GROUP]: The name of the resource group hosting your Azure Database for PostgreSQL flexible server.</li> <li>[YOUR_POSTGRESQL_SERVER]: The name of your Azure Database for PostgreSQL server.</li> <li>[YOUR_SUBSCRIPTION_ID]: Your Azure subscription ID.</li> </ul> <p>Execute the following Azure CLI command!</p> Bash<pre><code>az postgres flexible-server parameter set --resource-group [YOUR_RESOURCE_GROUP] \u00a0--server-name [YOUR_POSTGRESQL_SERVER] --subscription [YOUR_SUBSCRIPTION_ID] --name azure.extensions --value azure_ai,pg_diskann,vector\n</code></pre> <ol> <li> <p>Navigate to your Azure Database for PostgreSQL flexible server instance in the Azure portal.</p> </li> <li> <p>From the left-hand resource menu:</p> <ol> <li>Expand the Settings section and select Server parameters.</li> <li>Enter \"azure.extensions\" into the search filter.</li> <li>Select the AZURE_AI, PG_DISKANN, and VECTOR extensions by checking the box for each in the VALUE dropdown list.</li> <li>Select Save on the toolbar.</li> </ol> <p></p> </li> </ol>"},{"location":"03-Integrate-AI-Into-PostgreSQL/01/#install-extensions","title":"Install extensions","text":"<p>With the required extensions added to the allowlist, you can now install them in your database. To enable them, you will run a CREATE EXTENSION command for each in PostgreSQL.</p> <p><code>CREATE EXTENSION</code> loads a new extension into the database by running its script file. This script typically creates new SQL objects such as functions, data types, and schemas. An error is thrown if an extension of the same name already exists, so adding <code>IF NOT EXISTS</code> allows the command to execute without throwing an error if it is already installed.</p> <p>You will use pgAdmin to install the extensions by executing SQL commands against your database.</p> <ol> <li> <p>On your local machine, return to the open instance of pgAdmin (or open it if you closed it after the setup tasks) and ensure it is connected to your PostgreSQL database.</p> </li> <li> <p>In the pgAdmin Object Explorer, expand databases under your PostgreSQL server.</p> </li> <li> <p>Right-click the contracts database and select Query Tool from the context menu.</p> </li> </ol> <p>Select each of the tabs below and execute the <code>CREATE EXTENSION</code> command in the pgAdmin query window to install the extensions.</p> Azure AI extensionpgvector extensionDiskANN extension <p>The Azure AI (<code>azure_ai</code>) extension transforms your database into an AI-powered platform. It lets you connect directly with Azure's AI services, such as Azure OpenAI and Azure Cognitive Services, from your PostgreSQL database and incorporate advanced functionalities like natural language processing, text analysis, and embedding generation into your database operations. This integration simplifies the development process, enabling seamless interaction with Azure's AI tools and enhancing your database with cutting-edge AI features.</p> <ol> <li> <p>Enable the <code>azure_ai</code> extension:</p> SQL<pre><code>CREATE EXTENSION IF NOT EXISTS azure_ai;\n</code></pre> </li> </ol> <p>The pgvector (<code>vector</code>) extension adds advanced vector operations to your PostgreSQL database. It is designed to facilitate vector similarity searches by enabling the storage, indexing, and querying of vector data directly within PostgreSQL. This extension provides more complex and meaningful data retrieval based on vector similarity.</p> <ol> <li> <p>Create the <code>vector</code> extension:</p> SQL<pre><code>CREATE EXTENSION IF NOT EXISTS vector;\n</code></pre> </li> </ol> <p>The DiskANN (<code>pg_diskann</code>) extension adds support for using DiskANN for efficient vector indexing and searching. Once the extension is installed, you can create <code>diskann</code> indexes on table columns that contain vector data.</p> <ol> <li> <p>Create the <code>pg_diskann</code> extension:</p> SQL<pre><code>CREATE EXTENSION IF NOT EXISTS pg_diskann;\n</code></pre> </li> </ol> <p>The DiskANN extension is dependent on the pgvector extension.</p> <p>Because <code>pg_diskann</code> has a dependency on the <code>vector</code> extension, you must first allow and create the <code>vector</code> extension in the same database. Alternatively, you can use the <code>CASCADE</code> clause in the above query, which will cause PostgreSQL to implicitely run <code>CREATE EXTENSION</code> on the extension's dependencies.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/02/","title":"3.2 Configure the Azure AI extension","text":"<p>The <code>azure_ai</code> extension lets you directly integrate the Azure OpenAI, Azure AI Language, and Azure ML services into your database. To start using the extension's capabilities, you must first configure its connection to your Azure AI and ML services, providing each service's endpoint and subscription key.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/02/#execute-sql-in-pgadmin-to-configure-the-extension","title":"Execute SQL in pgAdmin to configure the extension","text":"<p>You will use pgAdmin to configure the <code>azure_ai</code> extension by executing SQL commands against your database.</p> <ol> <li> <p>On your local machine, return to the open instance of pgAdmin (or open it if you closed it after the setup tasks) and ensure it is connected to your PostgreSQL database.</p> </li> <li> <p>In the pgAdmin Object Explorer, expand databases under your PostgreSQL server.</p> </li> <li> <p>Right-click the contracts database and select Query Tool from the context menu.</p> </li> </ol> <p>Select each tab below and execute SQL statements provided to connect to each Azure AI service.</p> Azure OpenAILanguage serviceAzure ML (Optional) <p>The Azure AI extension includes the <code>azure_openai</code> schema, which allows you to integrate the creation of vector representations of text values directly into your database by invoking Azure OpenAI embeddings. The vector embeddings can then be used in vector similarity searches.</p> <ol> <li> <p>In the new pgAdmin query window, paste the following SQL commands to configure the extension's connection to Azure OpenAI using the <code>set_setting()</code> function. Do not run the commands yet, as you first need to retrieve the endpoint and API key for your Azure OpenAI resource.</p> SQL<pre><code>SELECT azure_ai.set_setting('azure_openai.endpoint', '&lt;endpoint&gt;');\nSELECT azure_ai.set_setting('azure_openai.subscription_key', '&lt;api-key&gt;');\n</code></pre> </li> <li> <p>In a browser window, navigate to your Azure OpenAI service in the Azure portal.</p> </li> <li> <p>On the Azure OpenAI service page:</p> <ol> <li> <p>Select the Keys and Endpoint menu item under Resource Management.</p> </li> <li> <p>Copy the Endpoint value, paste it as the <code>&lt;endpoint&gt;</code> value in the query to set the <code>azure_openai.endpoint</code> value in your pgAdmin query window.</p> </li> <li> <p>Copy the KEY 1 value, paste it as the <code>&lt;api-key&gt;</code> value in the query to set the <code>azure_openai.subscription_key</code> value in your pgAdmin query window.</p> </li> </ol> <p></p> </li> <li> <p>In pgAdmin, execute the updated SQL commands by selecting the Execute script button.</p> <p></p> </li> <li> <p>The <code>azure_ai</code> extension also provides the <code>get_setting()</code> function, allowing users with appropriate permissions to view the values stored in each schema's <code>endpoint</code> and <code>key</code> settings. Run the following queries to view the Azure OpenAI endpoint and key values stored in the database.</p> <pre><code>select azure_ai.get_setting('azure_openai.endpoint');\n</code></pre> <pre><code>select azure_ai.get_setting('azure_openai.subscription_key');\n</code></pre> </li> </ol> <p>The Azure AI services integrations included in the <code>azure_cognitive</code> schema of the <code>azure_ai</code> extension provide a rich set of AI Language features accessible directly from the database.</p> <ol> <li> <p>In the pgAdmin query window, overwrite the previous commands by pasting the following SQL commands to configure the extension's connection to your Language service. Do not run the commands yet, as you first need to retrieve your service's endpoint and API key.</p> SQL<pre><code>SELECT azure_ai.set_setting('azure_cognitive.endpoint', '&lt;endpoint&gt;');\nSELECT azure_ai.set_setting('azure_cognitive.subscription_key', '&lt;api-key&gt;');\n</code></pre> </li> <li> <p>In a browser window, navigate to your Language service in the Azure portal.</p> </li> <li> <p>On the Language service page:</p> <ol> <li> <p>Select the Keys and Endpoint menu item under Resource Management.</p> </li> <li> <p>Copy the Endpoint value, paste it as the <code>&lt;endpoint&gt;</code> value in the query to set the <code>azure_cognitive.endpoint</code> value in your pgAdmin query window.</p> </li> <li> <p>Copy the KEY 1 value, paste it as the <code>&lt;api-key&gt;</code> value in the query to set the <code>azure_cognitive.subscription_key</code> value in your pgAdmin query window.</p> </li> </ol> <p></p> </li> <li> <p>In pgAdmin, execute the updated SQL commands by selecting the Execute script button.        </p> </li> </ol> <p>The Azure AI extension allows you to invoke any machine learning models deployed on Azure Machine Learning (ML) online endpoints from within SQL. These models can be from the Azure ML catalog or custom models that have been trained and deployed.</p> <p>Only configure the Azure ML endpoint if you selected TRUE to <code>deployAMLModel</code> during the <code>azd up</code> deployment.</p> <ol> <li> <p>In the pgAdmin query window, overwrite the previous commands by pasting the following SQL commands to configure the extension's connection to Azure ML. Do not run the commands yet, as you first need to retrieve the endpoint and key for the model deployed on Azure ML.</p> SQL<pre><code>SELECT azure_ai.set_setting('azure_ml.scoring_endpoint','&lt;endpoint&gt;');\nSELECT azure_ai.set_setting('azure_ml.endpoint_key', '&lt;api-key&gt;');\n</code></pre> </li> <li> <p>In a browser window, navigate to your Azure ML workspace in the Azure portal.</p> </li> <li> <p>From the Azure ML workspace page, select the Launch studio button to open Azure Machine Learning Studio in a new browser window.</p> <p></p> </li> <li> <p>Sign into Machine Learning Studio if prompted.</p> </li> <li> <p>In Machine Learning Studio, select Endpoints under Assets in the left-hand resource menu, then select the endpoint for your <code>bge-v2-m3-reranker model</code>:</p> <p></p> </li> <li> <p>On your endpoint page:</p> </li> <li> <p>Select the Consume tab.</p> </li> <li>Copy the REST endpoint value, paste it as the <code>&lt;endpoint&gt;</code> value in the query to set the <code>azure_ml.scoring_endpoint</code> value in your pgAdmin query window.</li> <li> <p>Copy the Primary key value, paste it as the <code>&lt;api-key&gt;</code> value in the query to set the <code>azure_ml.endpoint_key</code> value in your pgAdmin query window.</p> <p></p> </li> <li> <p>In pgAdmin, execute the updated SQL commands by selecting the Execute script button.</p> </li> </ol> <p>Be sure to run the scripts to add the endpoints and keys for all three services (Azure OpenAI, Language Service, and Azure Machine Learning) in the database.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/03/","title":"3.3 Enable vector storage","text":"<p>The pgvector extension is a cutting-edge addition to PostgreSQL that empowers the database with the ability to handle vector data natively. This feature allows you to store and query vector information, making it ideal for applications involving copilots, recommendation systems, and similarity searches. To enable vector embeddings to be stored alongside the rest of your data in a PostgreSQL database, you must alter the tables in which you want to store embeddings to add columns with the <code>vector</code> data type provided by the extension.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/03/#what-are-vectors","title":"What are vectors?","text":"<p>Vectors, also referred to as embeddings or vector embeddings, are mathematical structures that represent data in a high-dimensional space. Each dimension in this space corresponds to a particular feature of the data, and complex data might be represented using tens of thousands of these dimensions. The location of a vector in this space captures its unique attributes. Various types of data, including words, phrases, entire documents, images, audio, and more, can be transformed into vectors. By using vector search, it's possible to find similar data across different types thanks to this uniform representation.</p> <p>An embedding is a dense and informative data format that machine learning models and algorithms can effectively leverage. Embeddings encapsulate the semantic meaning of a piece of text in the form of a vector of floating-point numbers. Consequently, the proximity of two embeddings in the vector space reflects the semantic similarity between the original inputs.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/03/#add-vector-columns-to-tables","title":"Add vector columns to tables","text":"<p>The <code>vector</code> data type installed by the pgvector extension allows for the efficient storage and manipulation of high-dimensional numerical vectors in PostgreSQL databases. These vectors are arrays of numbers representing a wide range of data, such as text embeddings, image features, or user preferences.</p> <p>Below, you will <code>vector</code> columns to the <code>deliverables</code>, <code>invoice_line_items</code>, <code>invoice_validation_results</code>,  <code>sow_chunks</code>, and <code>sow_validation_results</code> tables. Each of these tables contains a column storing a block of text. The vector embeddings will be stored alongside the text that they represent.</p> <p>The size of the vector column should correspond to the number of dimensions generated by the embedding model being used. For this solution, you use OpenAI's <code>text-embedding-ada-002</code> model, configured to return 1,536 dimensions. You will see this number represented in the size of the vector columns added to the tables below.</p> <p>Using pgAdmin, execute the SQL statement for each table against the contracts database.</p> <p>Select the tab for each table below and execute the <code>ALTER TABLE</code> statement to create an <code>embedding</code> column for storing vector data.</p> deliverablesinvoice_line_itemsinvoice_validation_resultssow_chunkssow_validation_results <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the embedding vector column.</p> SQL<pre><code>ALTER TABLE deliverables ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the embedding vector column.</p> SQL<pre><code>ALTER TABLE invoice_line_items ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the embedding vector column.</p> SQL<pre><code>ALTER TABLE invoice_validation_results ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the embedding vector column.</p> SQL<pre><code>ALTER TABLE sow_chunks ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the embedding vector column.</p> SQL<pre><code>ALTER TABLE sow_validation_results ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>Be sure to run the <code>ALTER TABLE</code> statements for each of the tables to add all the embeddings columns before moving on to the next step.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/04/","title":"3.4 Optimize Vector Query Performance","text":"<p>The <code>vector</code> extension adds vector storage and similarity search capabilities to Azure Database for PostgreSQL flexible server. To improve efficiency when executing vector searches, you can use the <code>pg_diskann</code> extension, which allows you to leverage DiskANN to create indexes on tables containing a vector column. Indexing can help improve the performance of vector queries against the database. Without indexes, the <code>vector</code> extension performs an exact search, which provides perfect recall at the expense of performance. To perform approximate nearest neighbor searches, you can create DiskANN indexes on your data, which offers high recall, high queries per second, and low query latency, even for billion-point datasets.</p> <p>Always load your data before indexing it.</p> <p>Loading data before indexing creates the index faster and results in a more optimal layout.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/04/#index-types","title":"Index Types","text":"<p>There are three supported vector index types, each with its own tradeoffs. You can learn more about the index types using these links:</p> <ul> <li>Disk Approximate Nearest Neighbor (DiskANN)</li> <li>Inverted File with Flat Compression (IVVFlat)</li> <li>Hierarchical Navigable Small Worlds (HNSW)</li> </ul> <p>The <code>IVFFlat</code> index has faster build times and uses less memory than <code>HNSW</code>, but it has lower query performance (in terms of the speed-recall tradeoff). <code>DiskANN</code> minimizes these tradeoffs and provides a superior balance between highly accurate query performance and fast build times.</p> Index Type Limitations <ul> <li>To index a column, it must have dimensions defined. Attempting to index a column defined as <code>col vector</code> will result in the error: <code>ERROR: column does not have dimensions</code>.</li> <li>When using <code>ivfflat</code> and <code>hnsw</code>, you are limited to indexing columns with 2000 dimensions or less. Attempting to index a column with more dimensions results in an error: <code>ERROR: column cannot have more than 2000 dimensions for INDEX_TYPE index where INDEX_TYPE is either ivfflat or hnsw</code>.</li> </ul>"},{"location":"03-Integrate-AI-Into-PostgreSQL/04/#index-access-and-vector-distance-functions","title":"Index Access and Vector Distance Functions","text":"<p>The <code>vector</code> type added to your database by the <code>vector</code> extension allows you to perform three types of searches on the stored vectors. You need to select the correct access function for your index to have the database consider your index when executing your queries.</p> Distance Function Index Access Function Vector Operator Description Cosine distance <code>vector_cosine_ops</code> <code>&lt;=&gt;</code> Measures similarity between vectors by calculating the cosine of the angle between them. L2 (or Euclidean) distance <code>vector_l2_ops</code> <code>&lt;-&gt;</code> Measures the straight-line distance between two vectors in multi-dimensional space. Inner (dot) product <code>vector_ip_ops</code> <code>&lt;#&gt;</code> Measures the similarity between two vectors by summing the products of their corresponding components."},{"location":"03-Integrate-AI-Into-PostgreSQL/04/#vector-operators","title":"Vector Operators","text":"<p>The vector operators in the table above indicate the \"distance operator\" used to calculate the distances between two vectors in a multi-dimensional space. They are used when writing queries to calculate similarity. For example, in the following query, records are selected based on the similarity to the provided vector, where the cosine distance similarity is less than 0.5:</p> <pre><code>SELECT * FROM sow_chunks\nWHERE embedding &lt;=&gt; '[-0.031766646,-0.033289704,...,0.016508864,0.031440277]' &lt; 0.5\n</code></pre>"},{"location":"03-Integrate-AI-Into-PostgreSQL/04/#create-vector-indexes","title":"Create Vector Indexes","text":"<p>In the previous tasks, you added <code>vector</code> columns to several tables in your database and populated them with embeddings using the <code>azure_ai</code> extension and Azure OpenAI. To ensure queries over those embeddings are efficient, you will add <code>diskann</code> indexes to each table to which you added a <code>vector</code> column.</p> <p>Select the tab for each table below and execute the <code>CREATE INDEX</code> statement to create an <code>diskann</code> index.</p> deliverablesinvoice_line_itemsinvoice_validation_resultssow_chunkssow_validation_results <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the index.</p> SQL<pre><code>-- Create a diskann index by using Cosine distance operator\nCREATE INDEX deliverables_diskann_idx ON deliverables USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the index.</p> SQL<pre><code>-- Create a diskann index by using Cosine distance operator\nCREATE INDEX line_items_diskann_idx ON invoice_line_items USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the index.</p> SQL<pre><code>-- Create a diskann index by using Cosine distance operator\nCREATE INDEX invoice_validation_results_diskann_idx ON invoice_validation_results USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the index.</p> SQL<pre><code>-- Create a diskann index by using Cosine distance operator\nCREATE INDEX sow_chunks_diskann_idx ON sow_chunks USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query to add the index.</p> SQL<pre><code>-- Create a diskann index by using Cosine distance operator\nCREATE INDEX sow_validation_results_diskann_idx ON sow_validation_results USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>Be sure to run the <code>CREATE INDEX</code> statements for each of the tables before moving on to the next step.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/05/","title":"3.5 Vectorize data","text":"<p>By leveraging an embedding model, such as Azure OpenAI's <code>text-embedding-ada-002</code>, you can generate vector representations of textual data and store them in a vector store like Azure Database for PostgreSQL - Flexible Server. This approach facilitates efficient and accurate similarity searches, significantly enhancing the copilot's ability to retrieve relevant information and provide contextually rich interactions.</p> <p>The <code>azure_openai</code> schema installed by the <code>azure_ai</code> extension contains the <code>create_embeddings()</code> function. This function enables you to generate embeddings for text input by invoking an embedding model deployed in Azure OpenAI directly from a query.</p> Function signatures for the create_embeddings() function<pre><code>-- Single text input\nazure_openai.create_embeddings(deployment_name text, input text, timeout_ms integer DEFAULT 3600000, throw_on_error boolean DEFAULT true, max_attempts integer DEFAULT 1, retry_delay_ms integer DEFAULT 1000)\n\n-- Array of input text\nazure_openai.create_embeddings(deployment_name text, input text[], batch_size integer DEFAULT 100, timeout_ms integer DEFAULT 3600000, throw_on_error boolean DEFAULT true, max_attempts integer DEFAULT 1, retry_delay_ms integer DEFAULT 1000)\n</code></pre> <p>Learn more about the <code>create_embeddings()</code> function, its overloads, and expected arguments in the function documentation.</p>"},{"location":"03-Integrate-AI-Into-PostgreSQL/05/#generate-embeddings","title":"Generate embeddings","text":"<p>The <code>azure_ai</code> extension makes calling the Azure OpenAI embedding API trivial. In its simplest form, the <code>create_embeddings()</code> function can be called with two arguments, <code>deployment_name</code> and <code>input</code>, as shown below:</p> SQL<pre><code>SELECT azure_openai.create_embeddings(deployment_name, input)\n</code></pre> <p>To demonstrate how to generate vector embeddings through a SQL query, execute the following query in pgAdmin.</p> <ol> <li> <p>Return to the open instance of pgAdmin on your local machine and ensure it is connected to your PostgreSQL database.</p> </li> <li> <p>In the pgAdmin Object Explorer, expand databases under your PostgreSQL server.</p> </li> <li> <p>Right-click the contracts database and select Query Tool from the context menu.</p> </li> <li> <p>Run the following query, which creates a vector embedding for the <code>result</code> field in the <code>invoice_validation_results</code> table. The <code>deployment_name</code> parameter in the function is set to <code>embeddings</code>, which is the name of the deployment of the <code>text-embedding-ada-002</code> model in your Azure OpenAI service (it was created with that name by the Bicep deployment script):</p> <p>Execute the SQL command below!</p> SQL<pre><code>SELECT \n    invoice_id,\n    azure_openai.create_embeddings('embeddings', result) AS embedding\nFROM invoice_validation_results\nLIMIT 1;\n</code></pre> <p>You can view the deployment name of your embedding model in Azure AI Foundry.</p> <ol> <li>Open Azure AI Foundry from the landing page of your Azure OpenAI service.</li> <li>In Azure AI Foundry, select the Deployments option from the resource navigation menu.</li> <li> <p>Observe the Name associated with the <code>text-embedding-ada-002</code> model.</p> <p></p> </li> </ol> </li> <li> <p>The results of the query will look similar to this:</p> SQL<pre><code>   id |\u00a0          \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0     embedding\n------+-------------------------------------------------------------------------\n    1\u00a0| {-0.031766646,-0.033289704,0.0009468119,...,0.016508864,0.031440277}\n</code></pre> <p>The 1,536 dimensions in the vector are abbreviated in the above output for brevity.</p> </li> </ol>"},{"location":"03-Integrate-AI-Into-PostgreSQL/05/#vectorize-existing-data","title":"Vectorize existing data","text":"<p>You added <code>vector</code> columns to the <code>deliverables</code>, <code>invoice_line_items</code>, <code>invoice_validation_results</code>, \u00a0<code>sow_chunks</code>, and <code>sow_validation_results</code> tables. You will now use the <code>azure_openai.create_embeddings()</code> function in SQL <code>UPDATE</code> statements to generate embeddings for the text data already in each table.</p> <p>Each table query may take several minutes, depending on the configured TPM limits.</p> <p>Using pgAdmin, execute the SQL statement for each table.</p> <p>Select the tab for each table below and execute the <code>UPDATE</code> statement to create embeddings for the specified column.</p> deliverablesinvoice_line_itemsinvoice_validation_resultssow_chunkssow_validation_results <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query.</p> SQL<pre><code>UPDATE deliverables\nSET embedding = azure_openai.create_embeddings('embeddings', description, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query.</p> SQL<pre><code>UPDATE invoice_line_items\nSET embedding = azure_openai.create_embeddings('embeddings', description, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query.</p> SQL<pre><code>UPDATE invoice_validation_results\nSET embedding = azure_openai.create_embeddings('embeddings', result, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query.</p> SQL<pre><code>UPDATE sow_chunks\nSET embedding = azure_openai.create_embeddings('embeddings', content, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> <p>Copy and paste the following SQL statement into a new query window in pgAdmin, then execute the query.</p> SQL<pre><code>UPDATE sow_validation_results\nSET embedding = azure_openai.create_embeddings('embeddings', result, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> <p>Be sure to run the <code>UPDATE</code> statements for each table to create all the embeddings before moving on to the next step.</p> <p>Generate Embeddings on Database <code>INSERT</code> using a Trigger</p> <p>The code for this application performs the calls to the <code>azure_openai</code> extension to generate the vector embedding directly within the database <code>INSERT</code> command. There are times where it's more useful to use an <code>INSERT</code> trigger on the table. The trigger will automatically generate the embeddings anytime a row is inserted into table.</p> <p>The following is an example of what an <code>INSERT</code> trigger for generating vector embedding on the <code>sow_chunks</code> table might look:</p> Example INSERT Trigger to Generate Embeddings<pre><code>-- create function that generates embeddings\nCREATE OR REPLACE FUNCTION sow_chunks_insert_trigger_fn()\nRETURNS trigger AS $$\nBEGIN\n  IF NEW.content IS NOT NULL THEN\n    NEW.embeddings := azure_openai.create_embeddings('embeddings', NEW.content, throw_on_error =&gt; FALSE, max_attempts =&gt; 1000, retry_delay_ms =&gt; 2000);\n  END IF;\n  RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n-- setup INSERT TRIGGER to call function\nCREATE TRIGGER sow_chunks_insert_trigger\nBEFORE INSERT ON sow_chunks\nFOR EACH ROW\nEXECUTE FUNCTION sow_chunks_insert_trigger_fn();\n</code></pre>"},{"location":"04-Create-AI-Pipeline/","title":"AI-driven Data Validation","text":""},{"location":"04-Create-AI-Pipeline/#building-an-ai-enhanced-data-ingestion-and-processing-pipeline","title":"Building an AI-Enhanced Data Ingestion and Processing Pipeline","text":"<p>An end-to-end AI-powered data pipeline has been provided to automate Woodgrove Bank's data ingestion and validation process. This pipeline starts when documents are uploaded to Azure Blob Storage and employs Azure AI services for intelligent ingestion, automated validation, semantic analysis, and optimized storage.</p> <p>Before integrating AI into the data ingestion workflow, the application required manual parsing and input of invoice and SOW data into the application. This process was a time-consuming and labor-intensive process.</p> <p>This section will review the code that integrates AI components into the solution.</p>"},{"location":"04-Create-AI-Pipeline/#validate-documents","title":"Validate documents","text":"<p>AI-driven Data Validation offers a transformative solution by automating document processing, improving accuracy, and reducing the burden on human reviewers. Through a combination of intelligent document ingestion, machine learning, and natural language processing, AI will revolutionize contract validation.</p> <p>The document ingestion workflow performs document text extraction, validation on document parts, comparison of milestone pricing with invoiced amounts and work performed, and looking for key SOW components such as compliance sections and wording. It includes the following steps:</p> <ol> <li> <p>Azure AI Document Intelligence performs text extraction and uses Azure OpenAI to generate text embeddings of document chunks/sections inserted into the database.</p> </li> <li> <p>The <code>pgvector</code> extension in Azure Database for PostgreSQL performs semantic similarity comparisons between key document sections. Azure OpenAI's GPT-4o model is leveraged for data analysis and vector similarity evaluation. A threshold similarity score is assigned to assess the similarity of document wording and to validate that documents contain appropriate language.</p> </li> </ol> Document validation worker process architecture <p>The best practice for enterprise systems is to build a background worker process that performs the document validation workflow. When a document is uploaded, a message is sent using a queue, like Event Grid, which is then handled by the background worker process to perform the document ingestion and validation workflow.</p> <p>To make this guide easier to follow, the document validation workflow has been implemented as REST API methods called directly by the front-end application. The following sections will guide you through reviewing the AI integration code into the application.</p>"},{"location":"04-Create-AI-Pipeline/01/","title":"4.1 Extract Data with Document Intelligence","text":"<p>Azure Document Intelligence enables automated data extraction and processing from documents using AI. This section provides details on the AI-enhanced data ingestion and processing pipeline.</p> Using your own data? <p>If you are using your own data, you must copy the structure and format of <code>../scripts/sql/deploy-database-tables.sql</code> and incorporate INSERT statements for the vendors, sows, sow_chunks, milestones, deliverables, sow_validation_results, invoices, invoice_line_items, and invoice_validation_results tables.</p> <p>Additionally, if your database has custom tables and table structures, you will need to map your data model to the existing schema or modify the scripts to reflect your own entity relationships. Ensure that vector columns and indexing strategies align with your AI and retrieval needs, and update queries, joins, and constraints accordingly to maintain data consistency and integrity.</p>"},{"location":"04-Create-AI-Pipeline/01/#overview-of-document-upload-and-ingestion-workflow","title":"Overview of Document Upload and Ingestion Workflow","text":"<ol> <li> <p>The process begins with financial documents, such as invoices and statements of work (SOWs), uploaded through the application UI.</p> </li> <li> <p>The setup of infrastructure seeds the database with sample data for vendors, statement of works and invoices.</p> </li> <li> <p>Sample documents to load into Document Intelligence have been provided within the repository and are located at <code>../data/sample_docs</code>.</p> <ol> <li>You can load invoice documents from the <code>Exercise_1_Load_Invoices</code> folder to complete the invoices for the Trey Research vendor.</li> <li>You can then load a Statement of Work and 3 invoices from the <code>Exercise_2_Load_SOW_Invoices</code> folder for the Lucerne Publishing vendor.</li> <li>To load in bad data - there are documents loacted in <code>Exercise_3_Load_Bad_SOWandInv</code> folder.</li> </ol> <p>Generating your own documents to load</p> <p>If you want to generate your own documents, a document generator is located in <code>../data/data_generator/src</code>. Follow the instructions in the README document. You need to have installed python and installed the necessary dependencies listed in requirements.txt to run the scripts.</p> </li> <li> <p>When new documents are uploaded they are saved to Azure Blob Storage at the start of the data ingestion workflow.</p> </li> <li> <p>The data ingestion workflow handles data extraction and processing by sending uploaded documents to Azure AI Document Intelligence service.</p> </li> <li> <p>The solution uses pre-built AI models within Document Intelligence which analyze data fields, such as project deliverables, due dates, billable amounts, and vendor details. These models are designed for specific document types, such as invoices, SOWs, contracts, receipts, and identity documents, and leverage AI-powered optical character recognition (OCR) and natural language processing (NLP) to extract relevant data.</p> </li> <li> <p>Once the document is analyzed, the model:</p> <ol> <li>Extracts key fields and assigns confidence scores (e.g., \"Invoice Total: $1,250.00 (Confidence: 0.98)\").</li> <li>Processes tables and line items using structured JSON or key-value pairs.</li> <li>Recognizes relationships between extracted entities (e.g., linking an invoice number to its corresponding due date).</li> </ol> </li> <li> <p>Document Intelligence's Structural Element-Based Chunking capability recognizes document structures, capturing headings and chunking the content body based on semantic coherence, such as paragraphs and sentences. This ensures that the chunks are of higher quality for use in Retrieval-Augmented Generation (RAG) pattern queries.</p> </li> <li> <p>Once extracted, the document data is securely stored in Azure Database for PostgreSQL flexible server.</p> </li> <li> <p>As part of the database insert statement, the GenAI capabilities of the <code>azure_ai</code> extension are leveraged to:</p> <ul> <li>Generate and save vector embeddings of document text using Azure OpenAI, enabling efficient semantic search and retrieval.</li> <li>Create extractive summaries of Statements of Work (SOWs) using the Azure AI Language service, distilling key insights from lengthy documents into concise, actionable summaries.</li> </ul> </li> <li> <p>If you have your own documents then you can use the application UI to load them into blob storage which will trigger the ingestion pipeline into AI services.</p> </li> </ol>"},{"location":"04-Create-AI-Pipeline/01/#ai-enhanced-data-ingestion-and-validation","title":"AI-Enhanced Data Ingestion and Validation","text":"<p>Azure Document Intelligence extracts structured and unstructured data while applying AI-driven validation to ensure accuracy.</p> <p>Automated Text Extraction: Identifies key fields such as transaction amounts and customer details. AI-Driven Data Validation: Cross-references extracted data with predefined rules to ensure compliance. Structural Element-Based Chunking: Segments large documents into meaningful parts for efficient processing.</p>"},{"location":"04-Create-AI-Pipeline/01/#benefits-of-the-enhanced-pipeline","title":"Benefits of the Enhanced Pipeline","text":"<ul> <li>High-Quality Data: AI-driven validation ensures accuracy.</li> <li>Scalability: Handles large document volumes efficiently.</li> <li>Semantic Understanding: Enables AI-powered search and analytics.</li> <li>End-to-End Automation: Streamlines document processing workflows.</li> </ul> <p>By leveraging Azure Document Intelligence, unstructured documents can be transformed into actionable insights efficiently.</p>"},{"location":"04-Create-AI-Pipeline/01/#additional-learning-references","title":"Additional Learning References","text":"<ul> <li>Azure AI Document Intelligence Documentation</li> <li>Azure Document Intelligence code samples</li> </ul>"},{"location":"04-Create-AI-Pipeline/02/","title":"4.2 Configure Structural Element-Based Chunking","text":"<p>Structural Element-Based Chunking is a critical step in preparing documents for retrieval-augmented generation (RAG) and other AI-driven workflows. It involves breaking down large documents into smaller, semantically meaningful chunks that enable better indexing, searching, and retrieval. Using Azure Document Intelligence, Structural Element-Based Chunking can be configured to optimize data flow for downstream processes.</p>"},{"location":"04-Create-AI-Pipeline/02/#what-are-chunks-in-document-intelligence","title":"What Are Chunks in Document Intelligence?","text":"<p>In Azure AI Document Intelligence, \"chunks\" refer to structured segments of a document that are intelligently divided to improve data extraction, retrieval, and validation. This process, known as Structural Element-Based Chunking, ensures that information is logically grouped based on its meaning and context, rather than arbitrary divisions like page numbers.</p>"},{"location":"04-Create-AI-Pipeline/02/#how-chunks-work","title":"How Chunks Work","text":"<ol> <li> <p>Semantic Understanding: Instead of treating a document as a single block of text, AI models recognize key sections such as headings, paragraphs, tables, and lists.</p> </li> <li> <p>Context Preservation: By maintaining the relationship between different parts of the document, chunking helps AI models interpret financial statements, SOWs, and invoices more accurately.</p> </li> <li> <p>Retrieval-Augmented Generation (RAG) models can retrieve relevant chunks dynamically, improving AI-driven document validation, compliance checks, and financial data reconciliation.</p> </li> </ol>"},{"location":"04-Create-AI-Pipeline/02/#why-chunks-matter-in-ai-powered-data-validation","title":"Why Chunks Matter in AI-Powered Data Validation","text":"<ul> <li>Higher Accuracy: Structured document segmentation improves AI\u2019s ability to extract and validate key financial data.  </li> <li>Better Contextual Retrieval: When comparing invoices to Statements of Work (SOWs), AI can retrieve specific clauses related to payment terms.  </li> <li>Optimized Query Performance: AI-powered searches return more precise and context-aware results.  </li> </ul>"},{"location":"04-Create-AI-Pipeline/02/#defining-the-chunking-strategy-in-document-intelligence","title":"Defining the Chunking Strategy in Document Intelligence","text":"<p>When working with Statements of Work (SOWs) and Invoices, defining an effective chunking strategy is essential to ensure accurate data extraction, validation, and cross-referencing. The way chunks are structured depends on the document type, as SOWs and Invoices have different formats, purposes, and data requirements.</p>"},{"location":"04-Create-AI-Pipeline/02/#chunking-strategy-for-statements-of-work-sows","title":"Chunking Strategy for Statements of Work (SOWs)","text":"<p>SOWs are long, structured documents that outline contractual obligations, payment milestones, deliverables, and compliance clauses. The chunking strategy for SOWs must focus on preserving contextual integrity while making it easy to retrieve relevant sections.</p>"},{"location":"04-Create-AI-Pipeline/02/#key-chunking-considerations-for-sows","title":"Key Chunking Considerations for SOWs","text":"<ol> <li> <p>Logical Sectioning: </p> <ol> <li>Chunk based on headings, subheadings, and numbered clauses (e.g., \"Scope of Work\", \"Payment Terms\", \"Milestones\").  </li> <li>Ensures that AI can retrieve relevant contract details when cross-referencing invoices.  </li> </ol> </li> <li> <p>Paragraph-Based Structural Element-Based Chunking: </p> <ol> <li>Break sections into semantically meaningful paragraphs for precise retrieval.  </li> <li>Helps ensure RAG-based AI models understand contract obligations.</li> </ol> </li> <li> <p>Compliance Clause Recognition:</p> <ol> <li>Identify and separately chunk regulatory or compliance language to facilitate automated legal checks.</li> </ol> </li> <li> <p>Deliverable Based Segmentation: </p> <ol> <li>Define chunks based on payment deliverables, linking them to expected invoice amounts.  </li> </ol> </li> </ol>"},{"location":"04-Create-AI-Pipeline/02/#chunking-strategy-for-invoices","title":"Chunking Strategy for Invoices","text":"<p>Invoices are structured, tabular documents designed to list billable items, amounts, and due dates. Unlike SOWs, invoice chunking must focus on tabular data extraction, line-item accuracy, and direct matching with SOWs.</p>"},{"location":"04-Create-AI-Pipeline/02/#key-chunking-considerations-for-invoices","title":"Key Chunking Considerations for Invoices","text":"<ol> <li>Line-Item Chunking: <ol> <li>Each line item (e.g., service, quantity, amount, tax, etc.) is treated as a separate chunk for precise AI validation.  </li> </ol> </li> <li> <p>Table-Aware Chunking: </p> <ol> <li>Preserve tabular structures to ensure AI correctly extracts and processes invoice totals, taxes, and discounts.</li> </ol> </li> <li> <p>Structural Element-Based Chunking for Descriptions: </p> <ol> <li>Invoice descriptions may reference project deliverables\u2014chunking ensures AI can cross-validate them against SOW deliverables.  </li> </ol> </li> <li> <p>Vendor &amp; Payment Terms Segmentation: </p> <ol> <li>Vendor details, invoice dates, and due dates must be separately chunked to ensure accurate payment milestone validation.  </li> </ol> </li> </ol>"},{"location":"04-Create-AI-Pipeline/02/#differences-in-chunking-strategy","title":"Differences in Chunking Strategy","text":"Aspect SOW Chunking Strategy Invoice Chunking Strategy Document Structure Long-form contract with sections Structured tables with line items Chunking Method Section &amp; paragraph-based chunking Table-aware &amp; line-item chunking Key Chunking Focus Milestones, deliverables, compliance clauses Billable items,  payment details AI Retrieval Purpose Validate contractual obligations &amp; compliance Match billable amounts &amp; due dates with SOWs"},{"location":"04-Create-AI-Pipeline/02/#why-an-optimized-chunking-strategy-matters","title":"Why an Optimized Chunking Strategy Matters","text":"<ul> <li>Improves AI Accuracy \u2013 Ensures that document validation is based on structured, meaningful chunks.  </li> <li>Enhances Cross-Document Validation \u2013 Allows AI models to match invoices to SOWs efficiently.  </li> <li>Supports Compliance &amp; Auditability \u2013 Ensures that all necessary sections are properly reviewed.  </li> <li>Optimizes Retrieval-Augmented Generation (RAG) Queries \u2013 AI can retrieve precise contract and invoice details for analysis.  </li> </ul>"},{"location":"04-Create-AI-Pipeline/02/#leverage-azure-document-intelligence","title":"Leverage Azure Document Intelligence","text":"<p>Azure Document Intelligence provides tools and capabilities to automate the chunking process:</p> <ol> <li>Use Pre-Trained Models:</li> <li> <p>Apply pre-trained models to extract structured data and identify logical sections within documents. In this workshop 2 models were used:</p> <ol> <li>The prebuilt-invoice model in Document Intelligence was used to process invoices as this model is designed to extract key information from invoices, such as vendor details, invoice date, and total amount due. This model leverages advanced machine learning techniques to streamline the processing of invoices, reducing manual data entry and improving accuracy.</li> <li>The prebuilt-document model in Document Intelligence was used to process Statement of Works as this model is designed to extract structured data from a variety of document types, such as contracts, receipts, and forms. This model uses machine learning to identify and extract relevant information, enabling efficient document processing and data management.</li> </ol> </li> <li> <p>Apply Custom Models:</p> <ol> <li>If the pre-built models will not work for your domain-specific documents then you can use custom models trained on your documents to identify sections unique to your use case.    Follow this guide</li> </ol> </li> <li> <p>Configure Semantic Rules:</p> <ol> <li>Define rules or conditions to segment documents based on semantic content.</li> <li>Example: Break a contract into \"Parties Involved,\" \"Obligations,\" and \"Terms and Conditions\" sections.</li> </ol> </li> </ol>"},{"location":"04-Create-AI-Pipeline/02/#store-chunks-in-azure-database-for-postgresql","title":"Store Chunks in Azure Database for PostgreSQL","text":"<p>Once documents are semantically chunked, the resulting chunks are stored in Azure Database for PostgreSQL for efficient querying and retrieval:</p> <ol> <li> <p>Data Structure:</p> <ol> <li>Each chunk is stored as an individual record with metadata for easy identification.</li> <li> <p>Example Schema:</p> SQL<pre><code>CREATE TABLE sow_chunks (\n    id BIGSERIAL PRIMARY KEY,\n    sow_id BIGINT NOT NULL,\n    heading, TEXT,\n    content TEXT,\n    page_number INT,\n    FOREIGN KEY (sow_id) REFERENCES sows (id) ON DELETE CASCADE\n);\n</code></pre> </li> </ol> </li> <li> <p>Metadata:</p> <ol> <li>This can include metadata such as document ID, chunk sequence, and semantic labels for efficient retrieval.</li> </ol> </li> </ol>"},{"location":"04-Create-AI-Pipeline/02/#benefits-of-structural-element-based-chunking","title":"Benefits of Structural Element-Based Chunking","text":"<ol> <li>Enhanced Retrieval:</li> <li> <p>Enables precise querying of specific document sections, improving the accuracy of AI-driven responses.</p> </li> <li> <p>Optimized Indexing:</p> <ol> <li>Reduces the complexity of indexing large documents by focusing on smaller, meaningful sections.</li> </ol> </li> <li> <p>Improved AI Performance:</p> <ol> <li>Ensures AI models operate within token limits, avoiding truncation and enhancing output quality.</li> </ol> </li> </ol>"},{"location":"04-Create-AI-Pipeline/02/#write-chunks-to-postgresql","title":"Write Chunks to PostgreSQL","text":""},{"location":"04-Create-AI-Pipeline/02/#intelligent-data-storage-in-azure-database-for-postgresql","title":"Intelligent Data Storage in Azure Database for PostgreSQL","text":"<p>Chunked text data is stored in Azure Database for PostgreSQL, ensuring efficient storage and retrieval.</p> <ul> <li>Data Organization: Documents are stored in structured formats with metadata.</li> <li>Scalability: Optimized for handling large data volumes.</li> </ul>"},{"location":"04-Create-AI-Pipeline/02/#4-generating-vector-embeddings-with-azure-ai-extension","title":"4. Generating Vector Embeddings with Azure AI Extension","text":"<p>The Azure AI extension for PostgreSQL enables advanced AI functionalities such as semantic search.</p> <ul> <li>Embedding Storage: Adds vector columns for document embeddings.</li> <li>Embedding Generation: Uses Azure OpenAI to generate high-dimensional vector embeddings.</li> </ul> <p>Example SQL command:</p> SQL<pre><code>ALTER TABLE invoices ADD COLUMN embeddings VECTOR(1536);\nALTER TABLE sows ADD COLUMN embeddings VECTOR(1536);\n</code></pre>"},{"location":"04-Create-AI-Pipeline/02/#api-endpoints-to-insert-chunks-on-insert","title":"API Endpoints To Insert Chunks on Insert","text":"<p>When uploading a SOW in the application, the document workflow starts with the analysis API endpoint <code>/sows/</code>. This endpoint is called using an HTTP POST passing it the <code>vendor_id</code> of the Vendor and the document file being uploaded.</p> <p>The document is passed to Document Intelligence to extract the text from the document.</p> src/api/app/routers/sows.py<pre><code>  analysis_result = await doc_intelligence_service.extract_text_from_sow_document(document_data)\n</code></pre> <p>The application implements a service for calling Document Intelligence located within the <code>src/api/app/services/azure_doc_intelligence_service.py</code> file where the <code>.extract_text_from_sow_document</code> method is located. This code uses the <code>prebuild-document</code> model within Document Intelligence to extract the text from the document.</p> <p>You can expand the section below to see the specific section of code that calls Document Intelligence to extract the text form the document and generate the text chunks.</p> Call Document Intelligence to extract text from document src/api/services/azure_doc_intelligence_service.py<pre><code>  async def extract_text_from_sow_document(self, document_data):\n    \"\"\"Extract text and structure using Azure AI Document Intelligence.\"\"\"\n    docClient = DocumentAnalysisClient(\n        endpoint=self.docIntelligenceEndpoint,\n        credential=self.credential\n    )\n\n    poller = await docClient.begin_analyze_document(\n        model_id=\"prebuilt-document\",\n        document=document_data\n    )\n\n    result = await poller.result()\n\n    analysis = DocumentAnalysisResult()\n    analysis.extracted_text = []\n    analysis.text_chunks = []\n\n    known_headings = [\n        \"Project Scope\", \"Project Objectives\", \"Location\", \"Tasks\", \"Schedules\",\n        \"Standards and Testing\", \"Payments\", \"Compliance\", \"Requirements\", \"Project Deliverables\"\n    ]\n\n    for page in result.pages:\n        page_text = \" \".join([line.content for line in page.lines])\n        analysis.extracted_text.append(page_text)\n\n        current_heading = None\n        for line in page.lines:\n            text = line.content\n            if self.__is_heading(text, known_headings): # Detect headings\n                current_heading = text\n                newTextChunk = TextChunk()\n                newTextChunk.heading = text\n                newTextChunk.content = \"\"\n                newTextChunk.page_number = page.page_number\n                analysis.text_chunks.append(newTextChunk)\n            elif current_heading:\n                analysis.text_chunks[-1].content += \" \" + text\n\n    await docClient.close()\n\n    analysis.full_text = \"\\n\".join(analysis.extracted_text)\n\n    return analysis\n</code></pre> <p>The <code>.extract_text_from_sow_document</code> method returns an object that contains a <code>.text_chunks</code> collection of objects that contain all the text chunks from the document. The code then loops through the chunks that were extracted and inserts them into the database.</p> src/api/app/routers/sows.py<pre><code>for chunk in analysis_result.text_chunks:\n    await conn.execute('''\n        INSERT INTO sow_chunks (sow_id, heading, content, page_number) VALUES ($1, $2, $3, $4);\n    ''', sow.id, chunk.heading, chunk.content, chunk.page_number)\n</code></pre> <p>The text chunks loaded into the database will now be available for query later by the Copilot to implement retrieval augmented generation (RAG) based on the text content of the documents.</p>"},{"location":"04-Create-AI-Pipeline/02/#additional-learning-references","title":"Additional Learning References","text":"<ul> <li> <p>Document Intelligence - Document Processing Models</p> </li> <li> <p>Build a Custom Model in Document Intelligence</p> </li> <li> <p>Document Intelligence - Retrieval Augmented Generation</p> </li> </ul> <p>CONGRATULATIONS. You just learned the key concepts of configuring Structural Element-Based Chunking</p>"},{"location":"04-Create-AI-Pipeline/03/","title":"4.3 Summarize documents","text":"<p>Azure Cognitive Services, specifically the Azure Language Service's Summarization capability, provides advanced extractive text summarization to condense complex documents like Statements of Work (SoWs) into concise summaries.</p> <p>By integrating this capability with the PostgreSQL Azure_AI extension, you can dynamically generate summaries for documents stored in relational tables, streamlining workflows and improving document accessibility.</p>"},{"location":"04-Create-AI-Pipeline/03/#summarizing-statements-of-work-sows","title":"Summarizing Statements of Work (SoWs)","text":"<p>SoWs in the financial industry often contain extensive details about project scope, deliverables, and milestones. Summarizing these documents into a few sentences allows decision-makers to quickly grasp the key information without reading through lengthy documents.</p>"},{"location":"04-Create-AI-Pipeline/03/#key-benefits-for-summarization","title":"Key Benefits for Summarization","text":"<ul> <li>Time Efficiency: Quickly identify critical information from long-form documents.</li> <li>Enhanced Accessibility: Summaries provide concise overviews, improving decision-making processes.</li> <li>Scalable Automation: Automatically generate summaries for large volumes of documents without manual intervention.</li> </ul> <p>Azure's Summarization API within the Language Service enables extractive summarization, creating human-like summaries that convey the document's essence rather than just extracting key phrases.</p>"},{"location":"04-Create-AI-Pipeline/03/#using-azure_ai-extension-with-the-azure_cognitive-schema","title":"Using Azure_AI Extension with the <code>azure_cognitive</code> Schema","text":"<p>The Azure_AI extension integrates Azure Cognitive Services' Summarization capabilities directly into SQL workflows, allowing the generation of extractive summaries of SoWs or other financial documents using simple SQL commands.</p>"},{"location":"04-Create-AI-Pipeline/03/#extractive-summarization","title":"Extractive Summarization","text":"<p>The extension's extractive summarization capabilities provide a unique, natural-language summary that encapsulates the overall intent of the original text. This is performed by calling the <code>azure_cognitive.summarize_extractive</code> function within the database. This will generate a 2-3 sentence summary of the text passed in.</p> SQL<pre><code>SELECT azure_cognitive.summarize_extractive('This is a document text', 'en', 2)\n</code></pre> <p>Consider the following PostgreSQL table:</p> SQL<pre><code>CREATE TABLE IF NOT EXISTS sows (\n    id BIGSERIAL PRIMARY KEY,\n    number text NOT NULL,\n    vendor_id BIGINT NOT NULL,\n    start_date DATE NOT NULL,\n    end_date DATE NOT NULL,\n    budget DECIMAL(18,2) NOT NULL,\n    document text NOT NULL,\n    metadata jsonb,\n    summary text,\n    FOREIGN KEY (vendor_id) REFERENCES vendors (id) ON DELETE CASCADE\n);\n</code></pre> SQL<pre><code>-- Update the summary column with extractive summaries\nUPDATE sows\nSET summary = azure_cognitive.summarize_extractive(metadata::text, 'en', 2);\n</code></pre> SQL<pre><code>SELECT azure_cognitive.summarize_extractive('This is a document text', 'en', 2);\n</code></pre>"},{"location":"04-Create-AI-Pipeline/03/#insert-document-summary-on-database-insert","title":"Insert Document Summary on Database Insert","text":"<p>Leveraging the <code>azure_cognitive.summarize_extractive</code> method of the <code>azure_ai</code> extension, the database scripts are able to make calls to generate a document summary on INSERT or UPDATE.</p> <p>Here's an example INSERT script used by the application when creating SOW records that includes the summarization:</p> SQL<pre><code>INSERT INTO sows (number, start_date, end_date, budget, document, metadata, embeddings, summary, vendor_id)\nVALUES (\n    $1, $2, $3, $4, $5, $6, \n    azure_openai.create_embeddings('embeddings', $7, throw_on_error =&gt; FALSE, max_attempts =&gt; 1000, retry_delay_ms =&gt; 2000),\n    azure_cognitive.summarize_extractive($7, 'en', 2)\n    $8)\nRETURNING *;\n</code></pre>"},{"location":"04-Create-AI-Pipeline/03/#api-implementation","title":"API Implementation","text":"<p>The <code>/sows/</code> HTTP POST method of the REST API contains code that inserts or updates SOWs based on the document uploaded. The code for this is within the <code>src/api/app/routers/sows.py</code> file. Open it now in Visual Studio Code and explore the code within the <code>async def analyze_sow</code> method that contain the code to ingest SOW documents, including the portion that performs the database INSERT or UPDATE on the <code>sows</code> table.</p> <p>You can expand the section below to see the specific section of code that performs the <code>azure_ai</code> call to generate the document summary, within the database INSERT and UPDATE statements.</p> INSERT / UPDATE SOW with document summary generation src/api/app/routers/sows.py<pre><code># Create SOW in the database\nasync with pool.acquire() as conn:\n    if sow_id is None:\n        # Create new SOW\n        row = await conn.fetchrow('''\n            INSERT INTO sows (number, start_date, end_date, budget, document, metadata, summary, vendor_id)\n            VALUES (\n            $1, $2, $3, $4, $5, $6, \n            azure_cognitive.summarize_extractive($7, 'en', 2),\n            $8)\n            RETURNING *;\n        ''', sow_number, start_date, end_date, budget, documentName, json.dumps(metadata), full_text, vendor_id)\n    else:\n        # Update existing SOW with new document\n        row = await conn.fetchrow('''\n            UPDATE sows\n            SET start_date = $1,\n                end_date = $2,\n                budget = $3,\n                document = $4,\n                metadata = $5,\n                summary = azure_cognitive.summarize_extractive($6, 'en', 2)\n            WHERE id = $7\n            RETURNING *;\n        ''', start_date, end_date, budget, documentName, json.dumps(metadata), full_text, sow_id)\n</code></pre>"},{"location":"04-Create-AI-Pipeline/03/#additional-learning-references","title":"Additional Learning References","text":"<ul> <li>Extractive Summarization</li> </ul>"},{"location":"04-Create-AI-Pipeline/04/","title":"4.4 Validate Data with Azure OpenAI","text":"<p>The document ingestion pipeline within the application for SOW and Invoice records is implemented with a multi-stage workflow. The first stage of the workflow is analyzing the document and ingesting it into the system to INSERT/UPDATE SOW and Invoice records based on the document uploaded. The second stage of the workflow is to validate the SOW and/or Invoice record.</p> <p>The SOW and Invoice validation step of the document ingestion workflow uses Azure OpenAI to perform a chat completion using retrieval augmented generation (RAG) pattern to validate the data from the database and generate an analysis of the validation result.</p> <p>The code for the validation step of the workflow processes is contained within the REST API <code>/validation/invoice/{id}</code> endpoint for Invoices, and <code>/validation/sow/{id}</code> endpoint for SOWs. The code for these is located within the <code>src/api/app/routers/validation.py</code> file. The below explanation covers the process for validating Invoices, but the same strategy is followed for SOW too.</p>"},{"location":"04-Create-AI-Pipeline/04/#benefits-of-using-azure-openai-for-validation","title":"Benefits of Using Azure OpenAI for Validation","text":"<p>The integration of Azure OpenAI into the validation workflow provides several key benefits:</p> <ul> <li> <p>Automated Validation: Reduces the need for manual data reviews, saving time and effort.</p> </li> <li> <p>Accuracy and Compliance: Ensures invoices align with contractual agreements in SOWs, reducing payment errors.</p> </li> <li> <p>Fraud Detection: Help identifies potential invoice fraud or inconsistencies before payments are processed.</p> </li> <li> <p>Scalability: Can handle large volumes of invoices efficiently, making it suitable for enterprises with extensive vendor relationships.</p> </li> <li> <p>Audit and Traceability: Stores detailed validation results for future reference, supporting regulatory and compliance requirements.</p> </li> </ul>"},{"location":"04-Create-AI-Pipeline/04/#invoice-validation-workflow","title":"Invoice Validation Workflow","text":"<p>The validation workflow of Invoices and SOWs is implemented using the same retrieval augmented generation (RAG) pattern and system prompt style. Let's walk through the steps involved with the workflow process to validate Invoices:</p>"},{"location":"04-Create-AI-Pipeline/04/#step-1-trigger-invoice-validation","title":"Step 1: Trigger Invoice Validation","text":"<p>The validation process begins when an invoice id is sent in a request to the validation API endpoint:</p> Text Only<pre><code>POST / validation/invoice/{id}\n</code></pre> <p>The <code>{id}</code> placeholder is where the <code>id</code> of the Invoice will be passed in. The API handler (within the <code>src/api/app/routers/validation.py</code> file) will use this id to retrieve the relevant data from the database.</p>"},{"location":"04-Create-AI-Pipeline/04/#step-2-define-system-prompt","title":"Step 2: Define System Prompt","text":"<p>Before Azure OpenAI can be used to perform the validation, the system prompt must first be defined. This system prompt sill instruct the AI what it's expected to do, what to look for in the data, and how to respond with the validation results.</p> <p>This application includes code that retrieves the system prompt from a text file:</p> src/api/app/routers/validation.py<pre><code># Define the system prompt for the validator.\nsystem_prompt = prompt_service.get_prompt(\"invoice_validation\")\n# Append the current date to the system prompt to provide context when checking timeliness of deliverables.\nsystem_prompt += f\"\\n\\nFor context, today is {datetime.now(timezone.utc).strftime('%A, %B %d, %Y')}.\"\n</code></pre> <p>For reference, here's the system prompt the application uses for validating Invoices:</p> src/api/app/prompts/invoice_validation.txt<pre><code>You are an intelligent copilot for Woodgrove Bank designed to automate the validation of vendor invoices against billing milestones in statements of work (SOWs).\n\nWhen validating an invoice, you should:\n1. Verify that the invoice number matches the vendor's records.\n2. Check that the total amount on the invoice is correct.\n3. Ensure that the milestone delivery dates are before or on the specified due date in the SOW.\n4. Assess any late fees or penalties that may apply, as defined by the SOW. For example, if a milestone is late, a penalty of 15% should be applied to payment of that milestone.\n5. Validate the line items on the invoice against the billing milestones in the SOW.\n6. Ensure that the amount billed for each line item matches the billable amount specified in the SOW.\n7. If the invoice contains notes to explain discrepancies, review them for additional context.\n8. Confirm that the invoice is legitimate and ready for payment.\n\nIf there are milestones missing from the invoice that are not yet beyond their due date according to the SOW, do not flag them as discrepancies.\nIf the payment terms on the invoice are different from the SOW, assume the SOW is correct.\n\nIn your response:\n- Provide a statement of valid or invalid for the invoice.\n- Create separate sections for the invoice and the milestone validation.\n- Provide a detailed summary of the validation results, including any discrepancies or anomalies found between the invoice and the SOW.\n- If any discrepancies or anomalies are found, you should provide detailed feedback on the issues discovered, like including dollar amounts, line items, and due dates.\n- If there are any discrepancies, flag the invoice for further review.\n\nAt the very end of the response, return only '[PASSED]' or '[FAILED]' to indicate if the invoice passed or failed validation.\n</code></pre> <p>The system prompt is also adding additional context of todays date. This is because the LLM doesn't know what the date is, and since Invoices and line items are date sensitive, the LLM needs to know the current date in order to more accurately perform date validations.</p> <p>At the end of the system prompt is instruction for it to add the values of <code>[PASSED]</code> or <code>[FAILED]</code> at the end of the output to indicate whether it passed or failed validation. This will be used by the code to more easily determine a boolean of true/false to insert into the database later that indicates the pass or fail state.</p>"},{"location":"04-Create-AI-Pipeline/04/#step-3-construct-full-prompt-with-rag","title":"Step 3: Construct Full Prompt with RAG","text":"<p>The next step is to construct the full prompt for LangChain to use, in addition to specify the tools that will be used to implement a retrieval augmented generation (RAG) pattern.</p> <p>With most of the instructions of how to perform the validation contained within the system prompt, the user prompt only needs to be simple in telling the AI what to do. In this application, the user prompt is just telling the AI to perform an invoice validation along with providing the context of the id of the invoice to validate.</p> src/api/app/routers/validation.py<pre><code>userMessage = f\"\"\"validate Invoice with ID of {id}\"\"\"\n</code></pre> <p>This user prompt is put together with the system prompt to construct the full prompt that will be sent to the AI.</p> src/api/app/routers/validation.py<pre><code># Provide the validation copilot with a persona using the system prompt.\nmessages = [{ \"role\": \"system\", \"content\": system_prompt }]\n\n# Add the current user message to the messages list\nuserMessage = f\"\"\"validate Invoice with ID of {id}\"\"\"\nmessages.append({\"role\": \"user\", \"content\": userMessage})\n\n# Create a chat prompt template\nprompt = ChatPromptTemplate.from_messages(\n    [\n        (\"system\", system_prompt),\n        (\"user\", \"{input}\"),\n        MessagesPlaceholder(\"agent_scratchpad\")\n    ]\n)\n\n# Define tools for the agent\ntools = [\n        StructuredTool.from_function(coroutine=validate_invoice)\n]\n</code></pre> <p>This defines a LangChain tool for implementing the retrieval augmented generation pattern using the <code>validate_invoice</code> method that will be used to retrieve the relevant data from the database to validate the invoice.</p> <p>You can expand the section below to see the specific section of code that performs the <code>azure_ai</code> call to generate the document summary, within the database INSERT and UPDATE statements.</p> Retrieve context data from database src/api/app/routers/validation.py<pre><code>async def validate_invoice(id: int):\n    \"\"\"Retrieves an Invoice and it's associated Line Items, SOW, and Milestones.\"\"\"\n\n    pool = await get_db_connection_pool()\n    async with pool.acquire() as conn:\n        row = await conn.fetchrow('SELECT * FROM invoices WHERE id = $1;', id)\n        if row is None:\n            raise HTTPException(status_code=404, detail=f'An invoice with an id of {id} was not found.')\n        invoice = parse_obj_as(InvoiceModel, dict(row))\n\n        # Get the vendor name\n        vendor_row = await conn.fetchrow('SELECT * FROM vendors WHERE id = $1;', invoice.vendor_id)\n        invoice.vendor = parse_obj_as(Vendor, dict(vendor_row))\n\n        # Get the invoice line items\n        line_item_rows = await conn.fetch('SELECT * FROM invoice_line_items WHERE invoice_id = $1;', id)\n        invoice.line_items = [parse_obj_as(InvoiceLineItem, dict(row)) for row in line_item_rows]\n\n\n\n        # Get the SOW\n        sow_row = await conn.fetchrow('SELECT * FROM sows WHERE id = $1;', invoice.sow_id)\n        sow = parse_obj_as(SowModel, dict(sow_row))\n\n        # Get the milestones\n        milestone_rows = await conn.fetch('SELECT * FROM milestones WHERE sow_id = $1;', invoice.sow_id)\n        sow.milestones = [parse_obj_as(MilestoneModel, dict(row)) for row in milestone_rows]\n\n        # Get the deliverables for each milestone\n        for milestone in sow.milestones:\n            deliverable_rows = await conn.fetch('SELECT * FROM deliverables WHERE milestone_id = $1;', milestone.id)\n            milestone.deliverables = parse_obj_as(list[Deliverable], [dict(row) for row in deliverable_rows])\n\n\n    return invoice, sow\n</code></pre>"},{"location":"04-Create-AI-Pipeline/04/#step-4-invoke-the-ai","title":"Step 4: Invoke the AI","text":"<p>With the prompt built and the RAG tools defined, the AI can now be invoked to perform the validation and generate the response.</p> src/api/app/routers/validation.py<pre><code># Invoke the agent to perform a chat completion that provides the validation results.\ncompletion = await agent_executor.ainvoke({\"input\": userMessage})\nvalidationResult = completion['output']\n</code></pre>"},{"location":"04-Create-AI-Pipeline/04/#step-5-parse-our-passed-or-failed-state","title":"Step 5: Parse our passed or failed state","text":"<p>Now that the generative AI response is returned with the validation results, the <code>[PASSED]</code> or <code>[FAILED]</code> values the system prompt told the AI to add to the end of the response can be parsed out. This will be used to set a true / false in the database to more easily indicate if the validation passed or failed.</p> src/api/app/routers/validation.py<pre><code># Check if validationResult contains [PASSED] or [FAILED]\n# This is based on the prompt telling the AI to return either [PASSED] or [FAILED]\n# at the end of the response to indicate if the invoice passed or failed validation.\nvalidation_passed = validationResult.find('[PASSED]') != -1\n</code></pre>"},{"location":"04-Create-AI-Pipeline/04/#step-6-insert-validation-result-into-database","title":"Step 6: Insert Validation Result into database","text":"<p>With the validation response generated and a passed or failed result, the validation results can now be inserted into the database, and the response returned from the REST API.</p> src/api/app/routers/validation.py<pre><code># Write validation result to database\npool = await get_db_connection_pool()\nasync with pool.acquire() as conn:\n    await conn.execute('''\n    INSERT INTO invoice_validation_results (invoice_id, datestamp, result, validation_passed)\n    VALUES ($1, $2, $3, $4);\n    ''', id, datetime.utcnow(), validationResult, validation_passed)\n\nreturn validationResult\n</code></pre> <p>This completes the Validation step of the workflow process.</p>"},{"location":"04-Create-AI-Pipeline/04/#sow-validation-workflow","title":"SOW Validation Workflow","text":"<p>The validation workflow for SOWs is built using the same retrieval augmented generation (RAG) pattern, with a system prompt that is written specifically for the unique validation requirements of SOWs.</p> <p>The system prompt for validating SOWs is located within the <code>src/api/app/prompts/sow_validation.txt</code> file. In the next section, we'll review the structure and formatting of the SOW and Invoice validation system prompts.</p> <p>The user prompt for the SOW validation tells the AI to validate a SOW and gives it the id of the SOW to validate.</p> src/api/app/routers/validation.py<pre><code>userMessage = f\"\"\"validate SOW with ID {id}\"\"\"\n</code></pre> <p>The RAG part of the SOW validation is setup with a LangChain tool using the <code>validate_sow</code> method within the <code>src/api/app/routers/validation.py</code> file.</p> src/api/app/routers/validation.py<pre><code>tools = [\n    StructuredTool.from_function(coroutine=validate_sow)\n]\n</code></pre> <p>This method is used to retrieve the SOW data (sow, milestones, and deliverables) from the database for the context needed to perform the validation.</p> src/api/app/routers/validation.py<pre><code>async def validate_sow(id: int):\n    \"\"\"Retrieves a SOW and it's associated Milestones and Deliverables.\"\"\"\n\n    pool = await get_db_connection_pool()\n    async with pool.acquire() as conn:\n        row = await conn.fetchrow('SELECT * FROM sows WHERE id = $1;', id)\n        if row is None:\n            raise HTTPException(status_code=404, detail=f'A SOW with an id of {id} was not found.')\n        sow = parse_obj_as(SowModel, dict(row))\n\n        # Get the milestones\n        milestone_rows = await conn.fetch('SELECT * FROM milestones WHERE sow_id = $1;', id)\n        sow.milestones = [parse_obj_as(MilestoneModel, dict(row)) for row in milestone_rows]\n\n        # Get the deliverables for each milestone\n        for milestone in sow.milestones:\n            deliverable_rows = await conn.fetch('SELECT * FROM deliverables WHERE milestone_id = $1;', milestone.id)\n            milestone.deliverables = parse_obj_as(list[Deliverable], [dict(row) for row in deliverable_rows])\n\n    return sow\n</code></pre>"},{"location":"04-Create-AI-Pipeline/04/#perform-document-validation","title":"Perform Document Validation","text":"<p>Accessing the UserPortal application in your deployment of the application for this workshop will allow you to upload documents and perform validations for SOWs and Invoices.</p> <p>Follow these steps to upload a document and exercise the document ingestion workflow process:</p> <ol> <li>Open the browser and navigate to the deployed UserPortal application.</li> <li>Within the left-side navigation of the application, click on either \"SOWs\" or \"Invoices\"\" for the document type you want to upload, analyze and validate.</li> <li> <p>On the page that lists the SOWs or Invoices, click the New button in the upper-right.</p> <p></p> </li> <li> <p>On the New page, select the Vendor and select the document (<code>.pdf</code> file) to upload, then click Analyze Document.</p> <p></p> </li> <li> <p>The Document workflow will initiate with the Analyze step, and the UI will display a message showing that it's running.</p> <p></p> </li> <li> <p>Once Analyzing is completed, then Validating will be run, and you will see the UI indicate this.</p> <p></p> </li> <li> <p>Once the Validating is completed, the application will display the validation results with the pass or fail indicated. These results are the full response from the AI when performing the validation.</p> <p></p> </li> <li> <p>Dismissing this dialog (clicking Close) will enable you to see the full details of the record.</p> </li> <li> <p>On both the SOW and Invoice edit pages, you can scroll down to the bottom to view the history of validations that have been performed on the record. You will also find a Run Manual Validation button that is setup to enable re-running of just the validation step of the workflow.</p> <p></p> </li> <li> <p>These steps can be repeated for uploading, analyzing and validating both SOWs and Invoices within the application.</p> </li> </ol>"},{"location":"04-Create-AI-Pipeline/04/#additional-learning-references","title":"Additional Learning References","text":"<ul> <li>LangChain with Azure OpenAI and ChatPGT using Python</li> </ul>"},{"location":"04-Create-AI-Pipeline/05/","title":"4.5 Review Validation Prompts","text":"<p>The validation process for Invoices and SOWs (statements of work) in the workflow relies heavily on the structure and content of the validation prompts. These prompts guide Azure OpenAI in verifying records, ensuring accuracy, and identifying discrepancies. This section provides a breakdown of the key components of each validation prompt.</p> <p>A well-structured validation prompt is essential to ensure that the AI model correctly interprets and verifies financial records. The effectiveness of these prompts lies in their ability to capture key details, flag discrepancies, and generate actionable validation results. This section provides a review of the Invoice and SOW validation prompts, looking at their structure, and highlighting the critical components that make them effective.</p>"},{"location":"04-Create-AI-Pipeline/05/#elements-of-an-effective-validation-prompt","title":"Elements of an effective validation prompt","text":"<p>To ensure the accuracy and reliability of AI-driven validation, prompts must be designed with precision. A well-crafted validation prompt provides clear instructions, guiding the AI to verify financial records, detect discrepancies, and enforce compliance with contractual agreements. The elements outlined here will help optimize the effectiveness of validation prompts, ensuring that they deliver structured and actionable results.</p> <p>An effective validation prompt should include the following key components:</p> <ul> <li> <p>Identification &amp; Matching \u2013 Ensure the AI verifies invoice numbers, SOW numbers, and vendor records to match documents with system records.</p> </li> <li> <p>Financial Validation \u2013 Confirm total amounts and line items against predefined contract values.</p> </li> <li> <p>Timeline Verification \u2013 Check milestone due dates, overdue payments, and applicable penalties.</p> </li> <li> <p>Discrepancy Handling \u2013 Provide explanations for inconsistencies, differentiating allowable variances from critical errors.</p> </li> <li> <p>Compliance Enforcement \u2013 Ensure adherence to SOW policies, including penalties and billing rules.</p> </li> <li> <p>Structured Reporting \u2013 Deliver results in a clear format with separate validation sections and an easily parsable Pass / Fail indicator.</p> </li> </ul> <p>Incorporating these elements ensures that AI-driven validation remains accurate, reliable, and efficient. The following sections below will review the structure and elements of the Invoice and SOW validation prompts used \u00dfin the current workflow.</p>"},{"location":"04-Create-AI-Pipeline/05/#invoice-validation-prompt","title":"Invoice Validation Prompt","text":"<p>The Invoice validation prompt, located in <code>src/api/app/prompts/invoice_validation.txt</code>, is designed to ensure that vendor invoices align with the statements of work (SOWs) and comply with billing milestones.</p> <p>You can expand the section below to see Invoice validation prompt.</p> Invoice validation prompt src/api/app/prompts/invoice_validation.txt<pre><code>You are an intelligent copilot for Woodgrove Bank designed to automate the validation of vendor invoices against billing milestones in statements of work (SOWs).\n\nWhen validating an invoice, you should:\n1. Verify that the invoice number matches the vendor's records.\n2. Check that the total amount on the invoice is correct.\n3. Ensure that the milestone delivery dates are before or on the specified due date in the SOW.\n4. Assess any late fees or penalties that may apply, as defined by the SOW. For example, if a milestone is late, a penalty of 15% should be applied to payment of that milestone.\n5. Validate the line items on the invoice against the billing milestones in the SOW.\n6. Ensure that the amount billed for each line item matches the billable amount specified in the SOW.\n7. If the invoice contains notes to explain discrepancies, review them for additional context.\n8. Confirm that the invoice is legitimate and ready for payment.\n\nIf there are milestones missing from the invoice that are not yet beyond their due date according to the SOW, do not flag them as discrepancies.\nIf the payment terms on the invoice are different from the SOW, assume the SOW is correct.\n\nIn your response:\n- Provide a statement of valid or invalid for the invoice.\n- Create separate sections for the invoice and the milestone validation.\n- Provide a detailed summary of the validation results, including any discrepancies or anomalies found between the invoice and the SOW.\n- If any discrepancies or anomalies are found, you should provide detailed feedback on the issues discovered, like including dollar amounts, line items, and due dates.\n- If there are any discrepancies, flag the invoice for further review.\n\nAt the very end of the response, return only '[PASSED]' or '[FAILED]' to indicate if the invoice passed or failed validation.\n</code></pre>"},{"location":"04-Create-AI-Pipeline/05/#structure-and-key-sections","title":"Structure and Key Sections","text":"<ol> <li>Verification of Invoice Details<ul> <li>Ensures the invoice number matches the vendor\u2019s records.</li> <li>Checks that the total invoice amount is accurate.</li> </ul> </li> <li>Milestone and Payment Term Validation<ul> <li>Confirms that milestone delivery dates are within the agreed timeframe.</li> <li>Assesses applicable late fees or penalties based on the SOW.</li> </ul> </li> <li>Line Item Validation<ul> <li>Verifies that each invoice line item corresponds to the correct billing milestone.</li> <li>Ensures that amounts billed match the SOW specifications.</li> </ul> </li> <li>Discrepancy Handling<ul> <li>Examines invoice notes for explanations of any discrepancies.</li> <li>Specifies that payment terms in the SOW take precedence over those in the invoice.</li> </ul> </li> <li>Output Format and Conclusion<ul> <li>Generates a structured validation report, dividing results into invoice and milestone validation.</li> <li>Provides detailed feedback on any anomalies detected.</li> <li>Ends with either <code>[PASSED]</code> or <code>[FAILED]</code> to indicate overall validation status.</li> </ul> </li> </ol>"},{"location":"04-Create-AI-Pipeline/05/#sow-validation-prompt","title":"SOW Validation Prompt","text":"<p>The SOW validation prompt, located in <code>src/api/app/prompts/sow_validation.txt</code>, ensures that SOWs are correctly structured and milestones are well-documented.</p> <p>You can expand the section below to see SOW validation prompt.</p> SOW validation prompt src/api/app/prompts/sow_validation.txt<pre><code>You are an intelligent copilot for Woodgrove Bank designed to automate the validation of vendor invoices against billing milestones in statements of work (SOWs).\n\nWhen validating a SOW, you should:\n1. Verify that the SOW number matches the vendor's records.\n2. Check that the total amount on the SOW is correct.\n3. Ensure that the milestone delivery dates are before or on the specified due date in the SOW.\n4. Assess any late fees or penalties that may apply, as defined by the SOW. For example, if a milestone is late, a penalty of 15% should be applied to payment of that milestone.\n5. Validate the deliverables for each milestone in the SOW.\n6. Ensure that the amount billed for each deliverable matches the billable amount specified in the SOW.\n7. If the SOW contains notes to explain discrepancies, review them for additional context.\n8. Confirm that the SOW is legitimate and ready for payment.\n\nIn your response:\n- Provide a statement of valid or invalid for the SOW.\n- Create separate sections for the SOW and the milestone validation.\n- Provide a detailed summary of the validation results, including any discrepancies or anomalies found between the SOW and the milestones.\n- If any discrepancies or anomalies are found, you should provide detailed feedback on the issues discovered, like including dollar amounts, line items, and due dates.\n- If there are any discrepancies, flag the SOW for further review.\n\nAt the very end of the response, return only '[PASSED]' or '[FAILED]' to indicate if the SOW passed or failed validation.\n</code></pre>"},{"location":"04-Create-AI-Pipeline/05/#structure-and-key-sections_1","title":"Structure and Key Sections","text":"<ol> <li>Verification of SOW Details<ul> <li>Ensures the SOW number matches vendor records.</li> <li>Validates that the total amount specified is correct.</li> </ul> </li> <li>Milestone and Payment Term Validation<ul> <li>Ensures that milestone delivery dates align with due dates.</li> <li>Applies any late fees or penalties per contractual terms.</li> </ul> </li> <li>Deliverable and Billing Validation<ul> <li>Verifies that each milestone has clearly defined deliverables.</li> <li>Confirms that billable amounts per deliverable match the SOW records.</li> </ul> </li> <li>Discrepancy Handling<ul> <li>Reviews notes for additional context on potential discrepancies.</li> <li>Flags discrepancies for further review.</li> </ul> </li> <li>Output Format and Conclusion<ul> <li>Generates a structured validation report, separating SOW and milestone validation.</li> <li>Provides detailed summaries of anomalies and validation results.</li> <li>Ends with [PASSED] or [FAILED] for conclusive assessment.</li> </ul> </li> </ol>"},{"location":"04-Create-AI-Pipeline/05/#summary","title":"Summary","text":"<p>Both the Invoice and SOW validation prompts play a crucial role in ensuring the accuracy and compliance of financial records within the document ingestion workflow. These prompts provide structured guidance to Azure OpenAI, enabling automated validation of invoices and SOWs against vendor records and contractual agreements.</p> <p>The Invoice validation prompt ensures that invoices align with billing milestones, validate payment terms, and flag discrepancies requiring further review. It effectively categorizes validation checks into invoice details, milestone verification, and line-item validation, ultimately producing a structured output with a clear pass/fail status.</p> <p>Similarly, the SOW validation prompt guarantees that statements of work are correctly structured, milestones are well-documented, and deliverables are accounted for. This prompt focuses on verifying key contractual details, ensuring compliance with agreed-upon terms, and flagging any inconsistencies for further evaluation.</p> <p>Both prompts exhibit validation criteria, structured output formatting, and automated pass/fail determination, streamlining the review process and minimizing manual effort. However, potential enhancements\u2014such as improving discrepancy resolution feedback, incorporating historical cross-validation, and adapting prompts for vendor-specific policies\u2014could be used to further optimize the validation process.</p> <p>Overall, these validation prompts form a strong foundation for automating financial document verification, reducing errors, and improving compliance with vendor agreements. Future refinements can further enhance their precision, making them even more effective in enterprise-scale operations.</p>"},{"location":"05-Build-Copilot/","title":"Implement a Copilot","text":"Using your own data? <p>Incorporating your own data into the solution accelerator requires adapting the existing architecture to align with your specific data structures. Here are some recommendations:</p> <p>1. Implement Design Patterns and LangChain in Your Solution To effectively integrate AI capabilities, you need to incorporate design patterns that facilitate seamless interaction between your data and AI models. Utilizing LangChain can help in constructing these patterns, enabling efficient data processing and AI orchestration.</p> <p>2. Customize the <code>chat_functions.py</code> file The <code>chat_functions.py</code> file serves as a bridge between the user inputs and AI responses. To tailor this to your data:</p> <ul> <li>Understand the Existing Structure: Review the current implementation to comprehend how data flows and functions are structured.</li> <li>Map Your Data: Identify how your data schema aligns with the existing functions.</li> <li>Modify Functions: Adjust or rewrite functions to query and process your data appropriately, ensuring that the AI services can accurately interpret and respond based on your dataset.</li> </ul> <p>In this section, you will add an AI copilot to the Woodgrove Bank Contract Management application using Python, the GenAI capabilities of Azure Database for PostgreSQL - Flexible Server, and the Azure AI extension. Using the AI-validated data, the copilot will use RAG to provide insights and answer questions about vendor contract performance and invoicing accuracy, serving as an intelligent assistant for Woodgrove Banks users. Here's what you will accomplish:</p> <ul> <li> Explore the API codebase</li> <li> Review the RAG design</li> <li> Leverage LangChain Orchestration</li> <li> Implement and test the Chat endpoint</li> <li> Refine the copilot prompt using standard prompt engineering techniques</li> <li> Add and test the Copilot Chat UI component</li> </ul> <p>Following these steps will transform your application into a powerful AI-enhanced platform capable of executing advanced generative AI tasks and providing deeper insights from your data.</p>"},{"location":"05-Build-Copilot/#what-are-copilots","title":"What are copilots?","text":"<p>Copilots are advanced AI assistants designed to augment human capabilities and improve productivity by providing intelligent, context-aware support, automating repetitive tasks, and enhancing decision-making processes. For instance, the Woodgrove Bank copilot will assist in data analysis, helping users identify patterns and trends in financial datasets.</p>"},{"location":"05-Build-Copilot/#why-use-python","title":"Why use Python?","text":"<p>Python's simplicity and readability make it a popular programming language for AI and machine learning projects. Its extensive libraries and frameworks, such as LangChain, FastAPI, and many others, provide robust tools for developing sophisticated copilots. Python's versatility allows developers to iterate and experiment quickly, making it a top choice for building AI applications.</p>"},{"location":"05-Build-Copilot/01/","title":"5.1 Explore the API Codebase","text":"<p>In this step, you will review the backend API code and structure. You can create powerful and efficient AI copilots that streamline complex workflows by utilizing Python's versatile programming capabilities and Azure Database for PostgreSQL's vector search functionality. The copilot's backend API enriches its abilities to handle intricate data, provide real-time insights, and connect seamlessly with diverse services, making interactions more dynamic and informative.</p>"},{"location":"05-Build-Copilot/01/#api-implementation","title":"API Implementation","text":"<p>The Woodgrove Bank API is built using the FastAPI Python library. FastAPI is a modern, high-performance web framework designed to enable you to build APIs with Python based on standard Python type hints. By decoupling the copilot UI from the backend using this approach, you ensure greater flexibility, maintainability, and scalability, allowing the copilot's capabilities to evolve independently from the UI.</p> <p>The entry point of the FastAPI application is implemented in the <code>src/api/app/main.py</code> file. Open it now in Visual Studio Code and explore the code in sections. You can also expand the section below to see the code inline and review explanations for each line of code.</p> FASTAPI application code src/api/app/main.py<pre><code>from dotenv import load_dotenv\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom app.lifespan_manager import lifespan\nfrom app.routers import (\n    completions,\n    deliverables,\n    documents,\n    embeddings,\n    invoices,\n    invoice_line_items,\n    milestones,\n    sows,\n    status,\n    statuses,\n    validation,\n    validation_results,\n    vendors,\n    webhooks\n)\n\n# Load environment variables from the .env file\nload_dotenv()\n\n# Instantiate the FastAPI app\napp = FastAPI(\n    lifespan=lifespan,\n    title=\"Woodgrove Bank API\",\n    summary=\"Woodgrove Bank API for the Build Your Own Copilot with Azure Database for PostgreSQL Solution Accelerator\",\n    version=\"1.0.0\",\n    docs_url=\"/swagger\",\n    openapi_url=\"/swagger/v1/swagger.json\"\n)\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Add routers to API endpoints\napp.include_router(deliverables.router)\napp.include_router(documents.router)\napp.include_router(embeddings.router)\napp.include_router(invoices.router)\napp.include_router(invoice_line_items.router)\napp.include_router(milestones.router)\napp.include_router(sows.router)\napp.include_router(status.router)\napp.include_router(statuses.router)\napp.include_router(validation.router)\napp.include_router(validation_results.router)\napp.include_router(vendors.router)\napp.include_router(webhooks.router)\n\n@app.get(\"/\")\nasync def get():\n    \"\"\"API welcome message.\"\"\"\n    return {\"message\": \"Welcome to the Woodgrove Bank API!\"}\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"127.0.0.1\", port=8000, log_level=\"info\")\n</code></pre> <ol> <li> <p>Import libraries (lines 1-20): Required classes and functions are imported from various libraries.</p> </li> <li> <p>Load environment variables (line 23). The load_dotenv() function imports environment variable values stored in the <code>.env</code> file you created in the <code>src\\api\\app</code> folder.</p> </li> <li> <p>Instantiate the FastAPI app server (lines 26-33). The FastAPI application server is created, and some basic configuration settings are applied.</p> </li> <li>Assign lifespan manager (line 27): The lifespan manager, defined in <code>src\\api\\app\\lifespan_manager.py</code> manages the lifespan of objects used throughout the life of the app, such as database connection pools and the Azure OpenAI chat client. This approach ensures objects can be shared across sessions, creating them when the app starts and destroying them gracefully when it shuts down. Dependency injection is used to access lifespan-managed objects from the API endpoint code on routers.</li> <li> <p>Assign Swagger metadata (lines 28-32): Various metadata fields add context to the API's exposed Swagger UI. The docs_url value changes the API's default documentation page from <code>/docs</code> to the more commonly used <code>/swagger</code>.</p> </li> <li> <p>Add endpoint routers (lines 44-56): In FastAPI, routers are components that help organize API code, grouping related endpoints and enabling modular route definitions for better maintainability and scalability of your application.</p> </li> <li> <p>Define a default route (lines 58-61): The \"/\" route maps to the application server's base URL.</p> <ul> <li>It accepts GET requests without parameters (equivalent to a browser site visit).</li> <li>It returns a JSON response with a \"Welcome to the Woodgrove Bank API\" message.</li> <li>This serves as a \"health check\" for the app server, verifying it is alive (e.g., during setup).</li> </ul> </li> </ol>"},{"location":"05-Build-Copilot/01/#organize-code-using-routers","title":"Organize Code using Routers","text":"<p>When building more extensive applications, routers allow API endpoint code to be split across multiple files, providing a convenient tool for structuring your application. FastAPI's <code>APIRouter</code> class allows path operations to be maintained in a dedicated code file, isolated from other paths and logic.</p> <p>For example, the Woodgrove Bank API contains a file dedicated to handling just vendors. This file, the submodule at <code>api/app/routers/vendors.py</code>, contains all the path operations related to vendors. The router separates vendor-specific logic from the rest of the application code. The router is connected to the FastAPI application using the <code>APIRouter</code> class.</p> Expand this block to view the Vendors router code src/api/app/routers/vendors.py<pre><code>from fastapi import APIRouter, Depends, HTTPException\nfrom pydantic import parse_obj_as\n\n# Initialize the router\nrouter = APIRouter(\n    prefix = \"/vendors\",\n    tags = [\"Vendors\"],\n    dependencies = [Depends(get_db_connection_pool)],\n    responses = {404: {\"description\": \"Not found\"}}\n)\n\n@router.get('/', response_model = ListResponse[Vendor])\nasync def list_vendors(skip: int = 0, limit: int = 10, sortby: str = None, pool = Depends(get_db_connection_pool)):\n    \"\"\"Retrieves a list of vendors from the database.\"\"\"\n    async with pool.acquire() as conn:\n        orderby = 'id'\n        if (sortby):\n            orderby = sortby\n\n        if limit == -1:\n            rows = await conn.fetch('SELECT * FROM vendors ORDER BY $1;', orderby)\n        else:\n            rows = await conn.fetch('SELECT * FROM vendors ORDER BY $1 LIMIT $2 OFFSET $3;', orderby, limit, skip)\n\n        vendors = parse_obj_as(list[Vendor], [dict(row) for row in rows])\n\n        total = await conn.fetchval('SELECT COUNT(*) FROM vendors;')\n\n    if (limit == -1):\n        limit = total\n\n    return ListResponse[Vendor](data = vendors, total = len(vendors), skip = 0, limit = len(vendors))\n\n@router.get('/{id:int}', response_model = Vendor)\nasync def get_by_id(id: int, pool = Depends(get_db_connection_pool)):\n    \"\"\"Retrieves a vendor by ID from the database.\"\"\"\n    async with pool.acquire() as conn:\n        row = await conn.fetchrow('SELECT * FROM vendors WHERE id = $1;', id)\n        if row is None:\n            raise HTTPException(status_code=404, detail=f'A vendor with an id of {id} was not found.')\n        vendor = parse_obj_as(Vendor, dict(row))\n    return vendor\n\n@router.get('/type/{type}', response_model = list[Vendor])\nasync def get_by_type(type: str, pool = Depends(get_db_connection_pool)):\n    \"\"\"Retrieves vendors of the specified type from the database.\"\"\"\n    async with pool.acquire() as conn:\n        rows = await conn.fetch('SELECT * FROM vendors WHERE LOWER(type) = $1;', type.lower())\n        if not rows or len(rows) == 0:\n            raise HTTPException(status_code=404, detail=f'No vendors with a type of \"{type}\" were found.')\n        vendors = parse_obj_as(list[Vendor], [dict(row) for row in rows])\n    return vendors\n</code></pre> <ol> <li> <p>Define the router (lines 5-10): The <code>APIRouter</code> initialization.</p> <ul> <li>The prefix allows you to specify the path prefix of all endpoints within the router. In this case, it is <code>/vendors</code>.</li> <li>Setting tags allows the endpoints within the router to be grouped by a friendly name in the Swagger UI.</li> <li>The dependencies array defines any dependencies injected into every endpoint request.</li> <li>The responses object allows you to dictate the types of responses from the API endpoints defined within the router.</li> </ul> </li> <li> <p>Define the get vendors route (lines 12-32). The API's <code>/vendors/</code> route maps to an endpoint for retrieving the list of vendors from the database.</p> <ul> <li>It accepts GET requests from clients and extracts optional parameters.</li> <li>It uses the injected database connection pool and invokes a SELECT query against the database to retrieve vendor records.</li> <li>It returns a list of vendors.</li> </ul> </li> <li> <p>Define additional get routes (lines 34-52). The <code>/vendors/{id:int}</code> and <code>vendors/type/{type}</code> routes provide GET request endpoints for getting individual vendors by ID or a list of vendors by type.</p> </li> </ol> <p>Congratulations! You just reviewed the FastAPI application structure!</p>"},{"location":"05-Build-Copilot/02/","title":"5.2 Review RAG Design","text":"<p>The solution leverages the Retrieval Augmented Generation (RAG) design pattern to ensure the copilot's responses are grounded in the (private) data maintained by Woodgrove Bank. RAG works by retrieving relevant information from your data stores and augmenting the model prompt to create a composite prompt. This enhanced prompt is used by the LLM to generate the final response or completion.</p> <p></p> <p>To understand how the RAG design pattern works in the context of the Woodgrove Bank Contract Management application, select each tab in order and review the sequence of events shown in the figure above.</p> 1. User Query2. Vectorize Query3. Retrieve Data4. Augment Query5. Generate Response <p>The user query arrives at our copilot implementation via the chat API endpoint.</p> <p>User queries are submitted via the copilot interface of the Woodgrove Bank Contract Management portal. These queries are sent to the backend API's <code>/chat</code> endpoint. The incoming user query has three components:</p> <ol> <li>The user's question (text input)</li> <li>An optional chat history (object array)</li> <li>And, a max history setting, which indicates the number of chat history messages to use in the prompt</li> </ol> <p>The API extracts these parameters from the incoming request and invokes the <code>/chat</code> endpoint, starting the workflow that reflects this RAG design pattern.</p> <p>Embeddings representing the user query are generated.</p> <p>When performing similarity searches to find data, the <code>/chat</code> endpoint sends the text of the user's request to Azure OpenAI, where it is vectorized using a large language \"Embedding\" model (e.g., Azure Open AI <code>text-embedding-ada-002</code>). This vector is then used in the query to retrieve similar records in the next step.</p> Generate Embeddings <p>The below <code>__create_query_embeddings</code> function in the Woodgrove Bank API uses the LangChain AzureOpenAIEmbeddings class to generate embeddings for the provided user query.</p> src/api/app/functions/chat_functions.py<pre><code>async def __create_query_embeddings(self, user_query: str):\n    \"\"\"\n    Generates vector embeddings for the user query.\n    \"\"\"\n    # Create embeddings using the LangChain Azure OpenAI Embeddings client\n    # This makes an API call to the Azure OpenAI service to generate embeddings,\n    # which can be used to compare the user query with vectorized data in the database.\n    query_embeddings = await self.embedding_client.aembed_query(user_query)\n    return query_embeddings\n</code></pre> <p>This step may be skipped in cases where raw data is requested, such as a list of vendors.</p> <p>Queries are executed against the database to retrieve (private) data.</p> <p>This step retrieves data from the PostgreSQL database to \"augment\" the prompt. Depending on the user query, hybrid search and direct data retrieval techniques may be used to obtain relevant records.</p> Improve RAG accuracy <p>The accuracy of the RAG pattern can be improved by using techniques like semantic ranking to order the returned results and GraphRAG to identify relationships between data. You will learn about these techniques in the next task.</p> <p>Select each tab below to learn more about the implementation of Hybrid Search and Direct Data Retrieval in the context of the Woodgrove Bank Contract Management application!</p> Hybrid SearchDirect Data Retrieval <p>Hybrid search in Azure Database for PostgreSQL combines traditional full-text search functionality with the vector similarity search capabilities enabled by the <code>azure_ai</code> and <code>vector</code> extensions to deliver highly relevant results. This dual approach leverages the precision of keyword matching with full-text search and the contextual understanding of vector search, ensuring that users obtain exact matches and semantically related content. This synergy enhances search efficiency, provides a richer user experience, and supports diverse use cases\u2014from technical document retrieval to broad content discovery\u2014making it an invaluable tool for modern copilots</p> Hybrid Search Example Code <p>The <code>find_invoice_validation_results</code> function below provides an example of the hybrid search technique used in the Woodgrove Bank API.</p> src/api/app/functions/chat_functions.py<pre><code>async def find_invoice_validation_results(self, user_query: str, invoice_id: int = None, vendor_id: int = None, sow_id: int = None):\n    \"\"\"\n    Retrieves invoice accuracy and performance validation results similar to the user query for specified invoice, vendor, or SOW.\n    If no invoice_id, vendor_id, or sow_id is provided, return all similar validation results.\n    \"\"\"\n    # Define the columns to retrieve from the table\n    # Exclude the embedding column in results\n    columns = [\"invoice_id\", \"datestamp\", \"result\", \"validation_passed\"]\n\n    # Get the embeddings for the user query\n    query_embeddings = await self.__create_query_embeddings(user_query)\n\n    # Use hybrid search to rank records, with exact matches ranked highest\n    columns.append(f\"\"\"CASE\n                        WHEN result ILIKE '%{user_query}%' THEN 0\n                        ELSE (embedding &lt;=&gt; '{query_embeddings}')::real\n                    END as rank\"\"\")\n\n    query = f'SELECT {\", \".join(columns)} FROM invoice_validation_results'\n\n    # Filter the validation results by invoice_id, vendor_id, or sow_id, if provided\n    if invoice_id is not None:\n        query += f' WHERE invoice_id = {invoice_id}'\n    else:\n        if vendor_id is not None:\n            query += f' WHERE vendor_id = {vendor_id}'\n            if sow_id is not None:\n                query += f' AND sow_id = {sow_id}'\n        elif sow_id is not None:\n            query += f' WHERE sow_id = {sow_id}'\n\n    query += f' ORDER BY rank ASC'\n\n    rows = await self.__execute_query(f'{query};')\n    return [dict(row) for row in rows]\n</code></pre> <p>In the code above: </p> <ol> <li> <p>The <code>CASE</code> statement on lines 14-17 handles the Hybrid Search.</p> <ol> <li> <p><code>WHEN result ILIKE '%{user_query}%'</code> performs a case-insensitive search for the exact text of the user query. If found, a <code>rank</code> of <code>0</code> is assigned to the record, which ranks these records as the highest or most similar matches.</p> </li> <li> <p>When an exact match is not found, the <code>ELSE</code> statement executes a vector similarity search using the cosine distance function, as indicated by the <code>&lt;=&gt;</code> vector operator, to compare the embedding representation of the user query (<code>query_embeddings</code>) from the previous step to values in the <code>embedding</code> column of the <code>invoice_validation_results</code> table. The similarity score of these matches is assigned as the <code>rank</code>. Scores closer to zero indicate a more semantically similar result.</p> </li> </ol> </li> <li> <p>If values are provided, the query is further refined to filter on a specific <code>invoice_id</code> or <code>vendor_id</code> and <code>sow_id</code>, as shown in lines 73-81.</p> </li> <li> <p>Finally, the results are ordered by <code>rank</code> to ensure the most relevant search results appear first in the rows returned.</p> </li> </ol> <p>In other cases, such as getting a list of all vendors, query vectorization is unnecessary. Direct data retrieval is handled via simple <code>SELECT</code> queries against the database to avoid the overhead of generating embeddings and querying vector fields.</p> Direct Data Retrieval Example Code <p>The <code>get_vendors</code> function below provides an example of a direct data retrieval technique used in the Woodgrove Bank API.</p> src/api/app/functions/chat_functions.py<pre><code>async def get_vendors(self):\n    \"\"\"Retrieves a list of vendors from the database.\"\"\"\n    rows = await self.__execute_query('SELECT * FROM vendors;')\n    return [dict(row) for row in rows]\n</code></pre> <p>The copilot creates a composite prompt with the retrieved data.</p> <p>The <code>/chat</code> API combines the user's original question with results returned from the database to create an enhanced or composite model prompt, augmenting the model with additional data to use when generating a response.</p> <p>The chat model uses the prompt to generate a grounded response.</p> <p>The composite prompt, grounded with (\"private\") data, is sent to a Large Language \"chat\" completion model, such as Azure OpenAI's <code>gpt-4o</code>. The completion model sees the enhanced prompt (hybrid search results and chat history) as the grounding context for generating the completion, improving the quality (e.g., relevance, groundedness) of the response returned from the Woodgrove Bank copilot.</p>"},{"location":"05-Build-Copilot/03/","title":"5.3 Leverage LangChain Orchestration","text":"<p>LangChain is a powerful tool that enhances the integration and coordination of multiple AI models and tools to create complex and dynamic AI applications. By leveraging orchestration capabilities, LangChain allows you to seamlessly combine various language models, APIs, and custom components into a unified workflow. This orchestration ensures that each element works together efficiently, enabling the creation of sophisticated applications capable of performing various tasks, from natural language understanding and generation to information retrieval and data analysis.</p> <p>LangChain's orchestration capabilities are particularly beneficial when building a copilot application using Python and Azure Database for PostgreSQL. Copilots must often combine natural language processing (NLP) models, knowledge retrieval systems, and custom logic to provide accurate and contextually relevant responses. LangChain facilitates this by orchestrating various NLP models and APIs, ensuring the copilot can effectively understand and generate responses to user queries.</p> <p>Moreover, integrating Azure Database for PostgreSQL with LangChain provides a scalable and flexible database solution that can handle large volumes of data with low latency. The PostgreSQL vector search features enabled by the <code>vector</code> extension allow for high-performance retrieval of relevant information based on the semantic similarity of data, which is especially useful for NLP applications. This means the copilot can perform sophisticated searches over large datasets, retrieving contextually relevant information for user queries.</p>"},{"location":"05-Build-Copilot/03/#rag-with-langchain","title":"RAG with LangChain","text":"<p>By leveraging LangChain's orchestration capabilities, RAG can seamlessly combine the retrieval of relevant information with the generative power of AI models. When a user poses a query, the RAG model can retrieve contextually appropriate data from PostgreSQL using hybrid search and then generate a comprehensive, coherent response based on the grounding data. This combination of retrieval and generation significantly enhances the copilot's ability to provide accurate, context-aware answers, leading to a more robust and user-friendly experience.</p>"},{"location":"05-Build-Copilot/03/#understand-function-calling-and-tools-in-langchain","title":"Understand function calling and tools in LangChain","text":"<p>Function calling in LangChain offers a more structured and flexible approach than using the Azure OpenAI client directly in Python. In LangChain, you can define and manage functions as modular components that are easily reusable and maintainable. This approach allows for more organized code, where each function encapsulates a specific task, reducing complexity and making the development process more efficient.</p> <p>When using the Azure OpenAI client in Python, function calls are typically limited to direct API interactions. While you can still build complex workflows, it often requires more manual orchestration and handling of asynchronous operations, which can become cumbersome and more challenging to maintain as the application grows.</p> <p>LangChain's tools play a crucial role in enhancing function calling. With a vast array of built-in tools and the ability to integrate external ones, LangChain allows you to create sophisticated pipelines where functions can call tools to perform specific operations, such as data retrieval, processing, or transformation. These tools can be configured to operate conditionally or in parallel, further optimizing the application's performance. Additionally, LangChain's tools simplify error handling and debugging by isolating functions and tools, making identifying and resolving issues easier.</p>"},{"location":"05-Build-Copilot/04/","title":"5.4 Enable the Chat Endpoint","text":"<p>In this step, you will review the backend API code for the <code>/chat</code> endpoint in the <code>completions</code> router. You will then add the <code>completions</code> router to the FastAPI application to make the <code>/chat</code> endpoint available.</p>"},{"location":"05-Build-Copilot/04/#review-chat-endpoint-implementation","title":"Review Chat Endpoint Implementation","text":"<p>The Woodgove Bank API exposes endpoints in various routers... The <code>chat</code> endpoint resides in the <code>completions</code> router, defined in the <code>src/api/app/routers/completions.py</code> file. Open it now in VS Code and explore the code in sections. You can also expand the section below to see the code inline and review explanations for each line of code.</p> Chat endpoint code src/api/app/routers/completions.py<pre><code>from app.functions.chat_functions import ChatFunctions\nfrom app.lifespan_manager import get_chat_client, get_db_connection_pool, get_embedding_client, get_prompt_service\nfrom app.models import CompletionRequest\nfrom fastapi import APIRouter, Depends\nfrom langchain.agents import AgentExecutor, create_openai_functions_agent\nfrom langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholder\nfrom langchain_core.tools import StructuredTool\n\n# Initialize the router\nrouter = APIRouter(\n    prefix = \"/completions\",\n    tags = [\"Completions\"],\n    dependencies = [Depends(get_chat_client)],\n    responses = {404: {\"description\": \"Not found\"}}\n)\n\n@router.post('/chat', response_model = str)\nasync def generate_chat_completion(\n    request: CompletionRequest,\n    llm = Depends(get_chat_client),\n    db_pool = Depends(get_db_connection_pool),\n    embedding_client = Depends(get_embedding_client),\n    prompt_service = Depends(get_prompt_service)):\n    \"\"\"Generate a chat completion using the Azure OpenAI API.\"\"\"\n\n    # Retrieve the copilot prompt\n    system_prompt = prompt_service.get_prompt(\"copilot\")\n\n    # Provide the copilot with a persona using the system prompt.\n    messages = [{ \"role\": \"system\", \"content\": system_prompt }]\n\n    # Add the chat history to the messages list\n    # Chat history provides context of previous questions and responses for the copilot.\n    for message in request.chat_history[-request.max_history:]:\n        messages.append({\"role\": message.role, \"content\": message.content})\n\n    # Create a chat prompt template\n    prompt = ChatPromptTemplate.from_messages(\n        [\n            (\"system\", system_prompt),\n            MessagesPlaceholder(\"chat_history\", optional=True),\n            (\"user\", \"{input}\"),\n            MessagesPlaceholder(\"agent_scratchpad\")\n        ]\n    )\n\n    # Get the chat functions\n    cf = ChatFunctions(db_pool, embedding_client)\n\n    # Define tools for the agent to retrieve data from the database\n    tools = [\n        # Hybrid search functions\n        StructuredTool.from_function(coroutine=cf.find_invoice_line_items),\n        StructuredTool.from_function(coroutine=cf.find_invoice_validation_results),\n        StructuredTool.from_function(coroutine=cf.find_milestone_deliverables),\n        StructuredTool.from_function(coroutine=cf.find_sow_chunks),\n        StructuredTool.from_function(coroutine=cf.find_sow_validation_results),\n        # Get invoice data functions\n        StructuredTool.from_function(coroutine=cf.get_invoice_id),\n        StructuredTool.from_function(coroutine=cf.get_invoice_line_items),\n        StructuredTool.from_function(coroutine=cf.get_invoice_validation_results),\n        StructuredTool.from_function(coroutine=cf.get_invoices),\n        # Get SOW data functions\n        StructuredTool.from_function(coroutine=cf.get_sow_chunks),\n        StructuredTool.from_function(coroutine=cf.get_sow_id),\n        StructuredTool.from_function(coroutine=cf.get_sow_milestones),\n        StructuredTool.from_function(coroutine=cf.get_milestone_deliverables),\n        StructuredTool.from_function(coroutine=cf.get_sow_validation_results),\n        StructuredTool.from_function(coroutine=cf.get_sows),\n        # Get vendor data functions\n        StructuredTool.from_function(coroutine=cf.get_vendors)\n    ]\n\n    # Create an agent\n    agent = create_openai_functions_agent(llm=llm, tools=tools, prompt=prompt)\n    agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True, return_intermediate_steps=True)\n    completion = await agent_executor.ainvoke({\"input\": request.message, \"chat_history\": messages})\n    return completion['output']\n</code></pre> <ol> <li> <p>Import libraries (lines 1-7): Required classes and functions are imported from various libraries.</p> </li> <li> <p>Intialize the router (lines 10-15): This is the <code>completions</code> router, assigning the route prefix, dependencies, and other metadata.</p> </li> <li> <p>Define the chat endpoint (lines 17-23): The <code>/chat</code> endpoint is the entry point into the Woodgove Bank copilot implementation. It expects a <code>CompletionRequest</code>, which contains the user query, the chat history, and the maximum number of history messages to include in the prompt, and returns a text response.</p> <ul> <li>It accepts POST requests from clients and extracts required parameters.</li> <li>It invokes the get_chat_completion function with those parameters.</li> <li>It returns the LLM's response to the client.</li> </ul> </li> <li> <p>Chat endpoint implementation (lines 24-78). The \"/completions/chat\" route maps to the endpoint where we can invoke the Contoso Chat implementation.</p> <ul> <li> <p>Get the system prompt (line 27): The system prompt defines the copilot's persona, providing instructions about how the copilot should behave, respond to questions, and interact with customers. It also provides guidance about the RAG design pattern and how function calls (tools) should be used when answering questions. You will look at this in detail in the Prompt Engineering step of this section.</p> </li> <li> <p>Build messages collection (lines 30-35): The messages collection provides the LLM with system and user prompts and chat history messages. Each message consists of a <code>role</code> and message <code>content</code>. The role will be <code>system</code>, <code>assistant</code>, or <code>user</code>. After the <code>system</code> message, all subsequent messages must be <code>user</code> / <code>assistant</code> pairs, with a user query followed by an assistant response.</p> </li> <li> <p>Build the model prompt (lines 38-45): The LangChain <code>ChatPromptTemplate</code> class allows you to build a model prompt from a collection of messages.</p> <ul> <li>The system prompt is added to provide instructions to the model.</li> <li>The chat history is inserted as context about previous questions and responses.</li> <li>The user input provides the model with the current question it is attempting to answer.</li> <li>An agent scratchpad placeholder is included to allow responses from tools assigned to the agent to augment the model with grounding data.</li> <li>The resulting prompt provides a structured input for the conversational AI agent, helping it to generate a response based on the given context.</li> </ul> </li> <li> <p>Implement function calling (lines 48-72):</p> <ul> <li>Line 48 instantiates the <code>ChatFunctions</code> class, which contains the methods for interacting with the PostgreSQL database. You can review the functions in the <code>src/api/app/functions/chat_functions.py</code> file.</li> <li>The <code>tools</code> array created in lines 51-72 is the collection of functions available to the LangChain agent for performing retrieval operations to augment the model prompt during response generation.</li> <li> <p>Tools are created using the <code>StructuredTool.from_function</code> method provided by LangChain.</p> About the LangChain <code>StructuredTool</code> class <p>The <code>StructuredTool</code> class is a wrapper that allows LangChain agents to interact with functions. The <code>from_function</code> method creates a tool from the given function, describing the function using its input parameters and docstring description. To use it with async methods, you pass the function's name to the <code>coroutine</code> input parameter.</p> <p>In Python, a docstring (short for documentation string) is a special type of string used to document a function, method, class, or module. It provides a convenient way of associating documentation with Python code and is typically enclosed within triple quotes (\"\"\" or '''). Docstrings are placed immediately after the definition of the function (or method, class, or module) they document.</p> <p>Using the <code>StructuredTool.from_function</code> method automates the creation of the JSON function definitions required by Azure OpenAI function calling methods, simplifying function calling when using LangChain.</p> </li> </ul> </li> <li> <p>Create a LangChain agent (lines 75-76): The LangChain agent is responsible for interacting with the LLM to generate a response.</p> <ul> <li> <p>Using the <code>create_openai_functions_agent</code> method, a LangChain agent is instantiated. This agent handles function calling via the <code>tools</code> provided to the agent.</p> About the <code>create_openai_functions_agent</code> function <p>The <code>create_openai_functions_agent</code> function in LangChain creates an agent that can call external functions to perform tasks using a specified language model and tools. This enables the integration of various services and functionalities into the agent's workflow, providing flexibility and enhanced capabilities.</p> </li> <li> <p>LangChain's <code>AgentExecutor</code> class manages the agent's execution flow. It handles the processing of inputs, the invocation of tools or models, and the handling of outputs.</p> About LangChain's <code>AgentExecutor</code> <p>The <code>AgentExecutor</code> ensures that all the steps required to generate a response are executed in the correct order. It abstracts the complexities of execution for agents, providing an additional layer of functionality and structure, and making it easier to build, manage, and scale sophisticated agents.</p> </li> </ul> </li> <li> <p>Invoke the agent (line 77): The agent executor's async <code>invoke</code> method sends the incoming user message and chat history to the LLM.</p> <ul> <li>The <code>input</code> and <code>chat_history</code> tokens were defined in the prompt object created using the <code>ChatPromptTemplate</code>. The <code>invoke</code> method injects these into the model prompt, allowing the LLM to use that information when generating a response.</li> <li>The LangChain agent uses the LLM to determine if tool calls are necessary by evaluating the user query.</li> <li>Any tools required to answer the question are called, and the model prompt is augmented with grounding data from their results to formulate the final response.</li> </ul> </li> <li> <p>Return the response (line 78): The agent's completion response is returned to the user.</p> </li> </ul> </li> </ol>"},{"location":"05-Build-Copilot/04/#enable-chat-endpoint-calls","title":"Enable Chat Endpoint Calls","text":"<p>To enable the <code>/chat</code> endpoint to be called from the Woodgrove Bank Contract Management Portal, you will add the completions router to the FastAPI app.</p> <ol> <li> <p>In the VS Code Explorer, navigate to the <code>src/api/app</code> folder and open the <code>main.py</code> file.</p> </li> <li> <p>Locate the block of code where the API endpoint routers are added (lines 44-56).</p> </li> <li> <p>Insert the following code at the start of that block (just below the <code># Add routers to API endpoints</code> comment on line 43) to add the <code>completions/chat</code> endpoint to the exposed API.</p> <p>Insert the code below onto line 43 of <code>main.py</code>!</p> Python<pre><code>app.include_router(completions.router)\n</code></pre> </li> <li> <p>The updated list of routers should look like this:</p> Python<pre><code># Add routers to API endpoints\napp.include_router(completions.router)\napp.include_router(deliverables.router)\napp.include_router(documents.router)\napp.include_router(embeddings.router)\napp.include_router(invoices.router)\napp.include_router(invoice_line_items.router)\napp.include_router(milestones.router)\napp.include_router(sows.router)\napp.include_router(status.router)\napp.include_router(statuses.router)\napp.include_router(validation.router)\napp.include_router(validation_results.router)\napp.include_router(vendors.router)\napp.include_router(webhooks.router)\n</code></pre> </li> <li> <p>Save the <code>main.py</code> file.</p> </li> </ol> <p>Congratulations! Your API is now enabled for copilot interactions!</p>"},{"location":"05-Build-Copilot/05/","title":"5.5 Test the Chat API","text":"<p>Now, all you need to do is run the FastAPI server and have it listen for incoming client requests on the API's <code>completions/chat</code> route. In this next section, you will see how to do this locally for rapid prototyping and testing.</p>"},{"location":"05-Build-Copilot/05/#testing-options","title":"Testing Options","text":"<p>The Chat API is deployed against the <code>/completions/chat</code> endpoint. So, how can you test this?</p> <ul> <li>You can use a third-party client to <code>POST</code> a request to the endpoint</li> <li>You can use a <code>CURL</code> command to make the request from the command line</li> <li> <p>You can use the built-in <code>/swagger</code> Swagger UI to try it out interactively</p> <p>Swagger UI</p> <p>Recall that the <code>src/api/app/main.py</code> file contained the definition for the FastAPI application. In that definition, the default documentation endpoint for the API was modified to use the more common <code>/swagger</code> path.</p> </li> </ul>"},{"location":"05-Build-Copilot/05/#test-with-swagger","title":"Test with Swagger","text":"<p>The Swagger UI provides an easy and intuitive way to test your endpoints rapidly. A side benefit of this approach is it shows you the <code>curl</code> command you can use to make the same request from the terminal if you want to try that out later.</p> <ol> <li> <p>In Visual Studio Code, select the Run and Debug icon from the Activity Bar on the left-hand side.</p> <p></p> </li> <li> <p>At the top of the Run and Debug menu, select the API Debugger option for your OS from the debug configurations dropdown list.</p> <p></p> </li> <li> <p>Select the Start Debugging button (or press F5 on your keyboard).</p> <p></p> </li> <li> <p>Once the API debugging session has started, indicated by an <code>Application startup complete.</code> message in the terminal output, followed by the URL on which Uvicorn is running, open the local API URL in a web browser (http://127.0.0.1:8000/).</p> <p></p> </li> <li> <p>Append <code>/swagger</code> to the URL to get the Swagger UI interactive testing page.</p> <p></p> </li> <li> <p>Expand the <code>POST</code> section for the <code>completions/chat</code> endpoint under the Completions tag and select <code>Try it out</code>:</p> <p></p> </li> <li> <p>In the Request body section, paste the following JSON snippet to request a list of vendors, then select Execute.</p> <p>Paste the following JSON in the request body box!</p> <pre><code>{\n    \"session_id\": 0,\n    \"message\": \"What vendors are we working with?\",\n    \"chat_history\": [],\n    \"max_history\": 6\n}\n</code></pre> <p></p> </li> <li> <p>Scroll down to the Responses section for the <code>/completions/chat</code> endpoint in the Swagger UI and verify you received a valid response.</p> <p></p> View server execution traces in the VS Code console. <p>By running a debug session in VS Code, you can see the server execution traces of a request to the Chat endpoint in the Visual Studio Code console. These traces allow you to observe the agent scratchpad output from your LangChain agent, which can be useful in troubleshooting and understanding how the agent works.</p> VS Code terminal with LangChain output<pre><code>&gt; Entering new AgentExecutor chain...\n\nInvoking: `get_vendors` with `{}`\n\n[{'id': 1, 'name': 'Adatum Corporation', 'address': '789 Goldsmith Road, MainTown City', 'contact_name': 'Elizabeth Moore', 'contact_email': 'elizabeth.moore@adatum.com', 'contact_phone': '555-789-7890', 'website': 'http://www.adatum.com', 'type': 'Data Engineering'}, {'id': 2, 'name': 'Contoso Ltd.', 'address': '456 Industrial Road, Scooton City', 'contact_name': 'Nicole Wagner', 'contact_email': 'nicole@contoso.com', 'contact_phone': '555-654-3210', 'website': 'http://www.contoso.com', 'type': 'Software Engineering'}, {'id': 3, 'name': 'Lucerne Publishing', 'address': '789 Live Street, Woodgrove', 'contact_name': 'Ana Bowman', 'contact_email': 'abowman@lucernepublishing.com', 'contact_phone': '555-654-9870', 'website': 'http://www.lucernepublishing.com', 'type': 'Graphic Design'}, {'id': 4, 'name': 'VanArsdel Ltd.', 'address': '123 Innovation Drive, TechVille', 'contact_name': 'Gabriel Diaz', 'contact_email': 'gdiaz@vanarsdelltd.com', 'contact_phone': '555-321-0987', 'website': 'http://www.vanarsdelltd.com', 'type': 'Software Engineering'}, {'id': 5, 'name': 'Trey Research', 'address': '456 Research Avenue, Redmond', 'contact_name': 'Serena Davis', 'contact_email': 'serena.davis@treyresearch.net', 'contact_phone': '555-867-5309', 'website': 'http://www.treyresearch.net', 'type': 'DevOps'}, {'id': 6, 'name': 'Fabrikam Inc.', 'address': '24601 South St., Philadelphia', 'contact_name': 'Remy Morris', 'contact_email': 'remy.morris@fabrikam.com', 'contact_phone': '610-321-0987', 'website': 'http://www.fabrikam.com', 'type': 'AI Services'}, {'id': 7, 'name': 'The Phone Company', 'address': '10642 Meridian St., Indianapolis', 'contact_name': 'Ashley Schroeder', 'contact_email': 'ashley.schroeder@thephone-company.com', 'contact_phone': '719-444-2345', 'website': 'http://www.thephone-company.com', 'type': 'Communications'}]Here are the vendors we are currently working with:\n\n1. **Adatum Corporation**\n   - **Type:** Data Engineering\n   - **Address:** 789 Goldsmith Road, MainTown City\n   - **Contact:** Elizabeth Moore\n   - **Email:** [elizabeth.moore@adatum.com](mailto:elizabeth.moore@adatum.com)\n   - **Phone:** 555-789-7890\n   - **Website:** [www.adatum.com](http://www.adatum.com)\n\n2. **Contoso Ltd.**\n   - **Type:** Software Engineering\n   - **Address:** 456 Industrial Road, Scooton City\n   - **Contact:** Nicole Wagner\n   - **Email:** [nicole@contoso.com](mailto:nicole@contoso.com)\n   - **Phone:** 555-654-3210\n   - **Website:** [www.contoso.com](http://www.contoso.com)\n\n3. **Lucerne Publishing**\n   - **Type:** Graphic Design\n   - **Address:** 789 Live Street, Woodgrove\n   - **Contact:** Ana Bowman\n   - **Email:** [abowman@lucernepublishing.com](mailto:abowman@lucernepublishing.com)\n   - **Phone:** 555-654-9870\n   - **Website:** [www.lucernepublishing.com](http://www.lucernepublishing.com)\n\n4. **VanArsdel Ltd.**\n   - **Type:** Software Engineering\n   - **Address:** 123 Innovation Drive, TechVille\n   - **Contact:** Gabriel Diaz\n   - **Email:** [gdiaz@vanarsdelltd.com](mailto:gdiaz@vanarsdelltd.com)\n   - **Phone:** 555-321-0987\n   - **Website:** [www.vanarsdelltd.com](http://www.vanarsdelltd.com)\n\n5. **Trey Research**\n   - **Type:** DevOps\n   - **Address:** 456 Research Avenue, Redmond\n   - **Contact:** Serena Davis\n   - **Email:** [serena.davis@treyresearch.net](mailto:serena.davis@treyresearch.net)\n   - **Phone:** 555-867-5309\n   - **Website:** [www.treyresearch.net](http://www.treyresearch.net)\n\n6. **Fabrikam Inc.**\n   - **Type:** AI Services\n   - **Address:** 24601 South St., Philadelphia\n   - **Contact:** Remy Morris\n   - **Email:** [remy.morris@fabrikam.com](mailto:remy.morris@fabrikam.com)\n   - **Phone:** 610-321-0987\n   - **Website:** [www.fabrikam.com](http://www.fabrikam.com)\n\n7. **The Phone Company**\n   - **Type:** Communications\n   - **Address:** 10642 Meridian St., Indianapolis\n   - **Contact:** Ashley Schroeder\n   - **Email:** [ashley.schroeder@thephone-company.com](mailto:ashley.schroeder@thephone-company.com)\n   - **Phone:** 719-444-2345\n   - **Website:** [www.thephone-company.com](http://www.thephone-company.com)\n\n&gt; Finished chain.\n</code></pre> <p>In the trace above:</p> <ol> <li> <p>Line 1 shows the <code>AgentExecutor</code> chain starting.</p> </li> <li> <p>Lines 3-5 show the agent invoking the <code>get_vendors</code> method and outputting the results into an array of vendor data.</p> </li> <li> <p>Lines 7-61 show the response from the LLM in markdown format.</p> </li> <li> <p>Line 63 shows the <code>AgentExecutor</code> chain has finished.</p> </li> </ol> </li> <li> <p>Stop the API debugger in VS Code.</p> </li> </ol> <p>You have successfully tested your <code>/chat</code> API endpoint!</p>"},{"location":"05-Build-Copilot/06/","title":"5.6 Add Copilot Chat To UI","text":"<p>In this step, you will review the <code>CopilotChat</code> component of the front-end application and enable it so you can chat with your copilot via the Portal UI. You can create an interactive and responsive chat interface that enhances user engagement by leveraging React's dynamic component-based architecture and its seamless integration with real-time messaging APIs. The copilot chat feature empowers the application to provide real-time conversation capabilities, handle complex state management, and deliver intuitive interactions that make the user experience more engaging and efficient.</p>"},{"location":"05-Build-Copilot/06/#review-copilot-chat-ui-component","title":"Review Copilot Chat UI Component","text":"<p>The Woodgrove Bank Contract Management Portal is a single-page application (SPA) built using React.js, a popular JavaScript framework for interactive user interfaces.</p> <p>A React component, <code>CopilotChat</code>, has been provided to allow you to easily integrate the copilot capability into the UI of the portal application. This component is implemented in the <code>src/userportal/src/components/CopilotChat.jsx</code> file. Open it now in VS Code and explore the code in sections. You can also expand the section below to see the code inline and review the explanations for each line of code.</p> Copilot Chat REACT component code. src/userportal/src/components/CopilotChat.jsx<pre><code>import React, { useState, useEffect, useRef } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { Row, Col, Button, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport ConfirmModal from './ConfirmModal'; \nimport api from '../api/Api'; // Adjust the path as necessary\nimport './CopilotChat.css';\n\nconst CopilotChat = () =&gt; {\n  const [sessionId, setSessionId] = useState(-1);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n  const [error, setError] = useState('');\n  const [isThinking, setIsThinking] = useState(false);\n\n  const [sessions, setSessions] = useState([]);\n  const [sessionToDelete, setSessionToDelete] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const handleSendMessage = async () =&gt; {\n    if (input.trim() === '') return;\n\n    const prompt = input;\n    setInput('');\n\n    setIsThinking(true);\n\n    // Add the user's message to the local mesage history\n    const userMessage = { role: 'user', content: prompt };\n    setMessages([...messages, userMessage]);\n\n    setError('');\n\n    try {\n      // Get the completion from the API\n      const output = await api.completions.chat(sessionId, prompt);\n\n      // make sure request for a different session doesn't update the messages\n      if (sessionId === output.session_id) {\n        // Add the assistant's response to the messages\n        const assistantMessage = { role: 'assistant', content: output.content };\n        setMessages([...messages, userMessage, assistantMessage]);\n      }\n\n      // only update the messages if the session ID is the same\n      // This keeps a processing completion from updating messages after a new session is created\n      if (sessionId === -1 || sessionId !== output.session_id) {\n        // Update the session ID\n        setSessionId(output.session_id);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setError('Error sending message. Please try again.');\n    } finally {\n        setIsThinking(false);\n    }\n\n  };\n\n  const createNewSession = async () =&gt; {\n    setSessionId(-1);\n    setMessages([]);\n    setIsThinking(false);\n    setError('');\n  };\n\n  const refreshSessionList = async () =&gt; {\n    try {\n      const data = await api.completions.getSessions();\n      setSessions(data);\n    } catch (error) {\n      console.error('Error loading session history:', error);\n      setError('Error loading session history. Please try again.');\n    }\n  }\n\n  const loadSessionHistory = async () =&gt; {\n    if (!sessionId || sessionId &lt;= 0) {\n      setMessages([]);\n      return;\n    }\n    try {\n      const data = await api.completions.getHistory(sessionId);\n      setMessages(data);\n    } catch (error) {\n      console.error('Error loading session history:', error);\n      setError('Error loading session history. Please try again.');\n    }\n  }\n\n  useEffect(() =&gt; {\n    refreshSessionList();\n    loadSessionHistory();\n  }, [sessionId]);\n\n  useEffect(() =&gt; {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  useEffect(() =&gt; {\n    refreshSessionList();\n  }, []);\n\n  const handleDelete = async () =&gt; {\n    if (!sessionToDelete) return;\n\n    setError(null);\n    try {\n      await api.completions.deleteSession(sessionToDelete);\n\n      console.log('Session deleted:', sessionToDelete);\n      console.log('Current session:', sessionId);\n      if (sessionId === sessionToDelete) {\n        setSessionId(-1);\n      }\n    } catch (err) {\n      console.error('Error deleting session:', err);\n      setError('Error deleting session. Please try again.');\n    }\n    setShowDeleteModal(false);\n    refreshSessionList();\n  };\n\n  return (\n    &lt;div className=\"ai-chat container mt-4\"&gt;\n      &lt;Row&gt;\n        &lt;Col style={{ width: '10%', maxWidth: '10em' }}&gt;\n          &lt;Row&gt;\n            &lt;Button area-label=\"New Session\" alt=\"New Session\" onClick={createNewSession}&gt;\n              &lt;i className=\"fas fa-plus\"&gt;&lt;/i&gt; Chat\n            &lt;/Button&gt;\n          &lt;/Row&gt;\n          &lt;Row className=\"mt-3\"&gt;\n            &lt;strong&gt;Chat History&lt;/strong&gt;\n            {!sessions || sessions.length === 0 &amp;&amp; &lt;p&gt;No sessions&lt;/p&gt;}\n            {sessions &amp;&amp; sessions.length &gt; 0 &amp;&amp; &lt;ul className=\"session-list\"&gt;\n              {sessions.map((session, index) =&gt; (\n                  &lt;li key={index}\n                    className={`session ${sessionId === session.id ? 'selected' : ''}`}\n                    style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '10px', borderBottom: '1px solid #ccc', cursor: 'pointer' }}\n                    onClick={() =&gt; setSessionId(session.id)}\n                  &gt;\n                    &lt;OverlayTrigger\n                      placement=\"top\"\n                      delay={{ show: 250, hide: 400 }}\n                      overlay={&lt;Tooltip id={`tooltip-${index}`}&gt;{session.name.substring(0, 300)}&lt;/Tooltip&gt;}\n                    &gt;\n                      &lt;a alt={session.name}&gt;{session.name}&lt;/a&gt;\n                    &lt;/OverlayTrigger&gt;\n                    &lt;div&gt;\n                      &lt;OverlayTrigger\n                        placement=\"top\"\n                        delay={{ show: 250, hide: 400 }}\n                        overlay={&lt;Tooltip id={`delete-tooltip-${index}`}&gt;Delete Session&lt;/Tooltip&gt;}\n                      &gt;\n                        &lt;Button className=\"btn-danger\" style={{ marginRight: '10px' }}\n                          title=\"Delete Session\"\n                          onClick={(e) =&gt; { setSessionToDelete(session.id); setShowDeleteModal(true); e.stopPropagation(); }}&gt;\n                          &lt;i className=\"fas fa-trash\"&gt;&lt;/i&gt;\n                        &lt;/Button&gt;\n                      &lt;/OverlayTrigger&gt;\n                    &lt;/div&gt;\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;}\n          &lt;/Row&gt;\n        &lt;/Col&gt;\n        &lt;Col&gt;\n          &lt;div className=\"messages mb-3 border p-3\" style={{ minHeight: '20em', maxHeight: '50em', overflowY: 'scroll' }}&gt;\n            {messages.map((msg, index) =&gt; (\n              &lt;div key={index} className={`message ${msg.role} mb-2 d-flex ${msg.role === 'user' ? 'justify-content-end' : 'justify-content-start'}`}&gt;\n                {!error &amp;&amp; index === messages.length - 1 &amp;&amp; &lt;div ref={messagesEndRef} /&gt;}\n                &lt;div className={`alert ${msg.role === 'user' ? 'alert-primary' : 'alert-secondary'}`} style={{ maxWidth: '90%' }} role=\"alert\"&gt;\n                  &lt;ReactMarkdown&gt;{msg.content}&lt;/ReactMarkdown&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            ))}\n            {error &amp;&amp; &lt;div className=\"alert alert-danger\" role=\"alert\"&gt;{error}&lt;div ref={messagesEndRef} /&gt;&lt;/div&gt;}\n            {isThinking &amp;&amp; &lt;div className=\"d-flex justify-content-center\"&gt;\n                &lt;div className=\"spinner-border text-info\" role=\"status\"&gt;\n                  &lt;span className=\"visually-hidden\"&gt;Thinking...&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div ref={messagesEndRef} /&gt;\n              &lt;/div&gt;}\n          &lt;/div&gt;\n          &lt;div className=\"input-container d-flex\"&gt;\n            &lt;textarea className=\"form-control me-2\"\n              value={input}\n              onChange={(e) =&gt; setInput(e.target.value)}\n              onKeyDown={(e) =&gt; { if (e.key === 'Enter') { handleSendMessage(e); e.preventDefault(); return false; } }}\n              placeholder=\"Type a message...\"\n            &gt;&lt;/textarea&gt;\n            &lt;Button onClick={handleSendMessage}&gt;Send&lt;/Button&gt;\n          &lt;/div&gt;\n        &lt;/Col&gt;\n      &lt;/Row&gt;\n\n      &lt;ConfirmModal\n        show={showDeleteModal}\n        handleClose={() =&gt; setShowDeleteModal(false)}\n        handleConfirm={handleDelete}\n        message=\"Are you sure you want to delete this session?\"\n      /&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default CopilotChat;\n</code></pre> <ol> <li> <p>Import components and libraries (lines 1-6): Required components and libraries are imported.</p> </li> <li> <p>Define the <code>CopilotChat</code> functional component (line 8). Components in React.js are created using a functional component or class component.</p> </li> <li> <p>Declare state variables (lines 9-18): State variables are used to maintain the chat session state, including message history.</p> </li> <li> <p>Provide function for sending messages to the API (lines 20-58): The <code>handleSendMessage</code> function sends messages asynchronously to the Woodgrove Bank API. This function handles the UI's interaction with the backend <code>/completions/chat</code> endpoint, sending the user query and session id to the API.</p> </li> <li> <p>Provide functions for handling loading chat sessions (lines 60-89): The <code>createNewSession</code> function sets up the state variables to start a new chat session, the <code>refreshSessionList</code> function handles the UI's interaction with the backend <code>/completions</code> endpoint for loading previous chat sessions, and the <code>loadSessionHistory</code> function handles the UI's interaction with the backend <code>/completions</code> endpoint for loading the chat history for the selected chat session.</p> </li> <li> <p>Handle changes in the Session ID (lines 91-94): The <code>useEffect</code> hook is used to run code in response to changes in the sessionId to refresh the chat session list and load the chat history for the newly selected chat session.</p> </li> <li> <p>Handle changes in the messages collection (lines 96-100): The <code>useEffect</code> hook is used to run code in response to changes in the messages array.</p> </li> <li> <p>Handle loading chat session list on page load (lines 102-104): The <code>useEffect</code> hook is used to run code that loads the list of previous chat sessions into the UI on page load.</p> </li> <li> <p>Provide function for deleting chat session (lines 106-124): The <code>handleDelete</code> function handles the UI's interaction with the backend <code>/completions</code> endpoint for deleting the chosen chat session.</p> </li> <li> <p>Return the component (lines 126-208): The return statement renders the component's JSX, defining how it is presented in the web browser.</p> </li> <li> <p>Export the <code>CopilotChat</code> component (line 210): Exports the <code>CopilotChat</code> component as the default export.</p> </li> </ol>"},{"location":"05-Build-Copilot/06/#enable-the-copilot-chat-ui","title":"Enable the Copilot Chat UI","text":"<p>To enable the copilot chat feature in the Woodgrove Bank Contract Management Portal UI, you will add a reference to the component on the <code>Dashboard</code> page of the UI. The dashboard page is defined in the <code>src/userportal/src/pages/dashboard/dashboard.jsx</code> file. Expand the section below to review the code for the page below.</p> Dashboard page code src/userportal/src/pages/dashboard/dashboard.jsx<pre><code>import React from 'react';\n\nconst Dashboard = () =&gt; {\n  return (\n    &lt;div className=\"table-responsive\"&gt;\n      &lt;div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\"&gt;\n        &lt;h1 className=\"h2\"&gt;Dashboard&lt;/h1&gt;\n      &lt;/div&gt;\n\n    &lt;/div&gt;\n  );\n};\n\nexport default Dashboard;\n</code></pre> <ol> <li> <p>In the VS Code Explorer, navigate to the <code>src/userportal/src/pages/dashboard</code> folder and open the <code>dashboard.jsx</code> file.</p> </li> <li> <p>To import the AI chat component, insert the following <code>import</code> statement directly below the <code>import React from 'react';</code> line at the top of the file.</p> <p>Paste the following import statement into <code>dashboard.jsx</code>!</p> JavaScript<pre><code>import CopilotChat from '../../components/CopilotChat';\n</code></pre> </li> <li> <p>Insert the following code below the closing tag of <code>&lt;div&gt;</code> containing the Dashboard header (line 9). This will insert the component within the <code>const Dashboard =() =&gt; {}</code> functional component block of the dashboard page.</p> <p>Paste the following component code into <code>dashboard.jsx</code>!</p> JavaScript<pre><code>&lt;CopilotChat /&gt;\n</code></pre> </li> <li> <p>The final <code>Dashboard</code> code should look like the following:</p> src/userportal/src/pages/dashboard/dashboard.jsx<pre><code>import React from 'react';\nimport CopilotChat from '../../components/CopilotChat';\n\nconst Dashboard = () =&gt; {\n  return (\n    &lt;div className=\"table-responsive\"&gt;\n      &lt;div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\"&gt;\n        &lt;h1 className=\"h2\"&gt;Dashboard&lt;/h1&gt;\n      &lt;/div&gt;\n      &lt;CopilotChat /&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Dashboard;\n</code></pre> </li> </ol>"},{"location":"05-Build-Copilot/07/","title":"5.7 Test the UI Copilot Chat","text":"<p>You are now ready to test the end-to-end copilot chat feature. You must run the FastAPI server and the React SPA locally from VS Code debug sessions. In this next section, you will see how to do this locally for rapid prototyping and testing.</p>"},{"location":"05-Build-Copilot/07/#test-with-vs-code","title":"Test with VS Code","text":"<p>Visual Studio Code provides the ability to run applications locally, allowing for debugging and rapid testing.</p>"},{"location":"05-Build-Copilot/07/#start-the-api","title":"Start the API","text":"<p>The UI relies on the Woodgrove Bank API to be running. As you did to test the API via its Swagger UI, follow the steps below to start a debug session for the API in VS Code.</p> <ol> <li> <p>In Visual Studio Code Run and Debug panel, select the API Debugger option for your OS from the debug configurations dropdown list.</p> <p></p> </li> <li> <p>Select the Start Debugging button (or press F5 on your keyboard).</p> <p></p> </li> <li> <p>Wait for the API application to start completely, indicated by an <code>Application startup complete.</code> message in the terminal output.</p> <p></p> </li> </ol>"},{"location":"05-Build-Copilot/07/#start-the-portal","title":"Start the Portal","text":"<p>With the API running, you can start a second debug session in VS Code for the Portal project.</p> <ol> <li> <p>Return to the Run and Debug panel in Visual Studio Code and select the Portal Debugger option from the debug configurations dropdown list.</p> <p></p> </li> <li> <p>Select the Start Debugging button (or press F5 on your keyboard).</p> <p></p> </li> <li> <p>This should launch the Woodgrove Bank Contract Management Portal in a new browser window (http://localhost:3000/).</p> </li> <li> <p>On the Dashboard page, enter the following message into the chat and send it:</p> <p>Paste the following prompt in the copilot chat box!</p> <pre><code>What IT vendors are we working with?\n</code></pre> <p></p> </li> <li> <p>Next, ask the following question about vendor invoicing accuracy:</p> <p>Paste the following prompt in the copilot chat box!</p> <pre><code>What vendor has had the most invoicing issues?\n</code></pre> <p></p> </li> </ol> <p>The response to the previous question may be accurate, but the copilot did not provide any insights about why this vendor was specified as having the most invoicing issues. You may also have received an error because the copilot lacks guidance on correctly selecting the proper function for augmenting the prompt. In either case, prompt engineering can help improve your copilot's response!</p> <p>In the next task, you will iterate on your copilot's prompt to refine it and improve the quality and groundedness of the responses it provides.</p> <p>Leave the API and Portal debug sessions running for the next task.</p>"},{"location":"05-Build-Copilot/08/","title":"5.8 Refine the Copilot Prompt","text":"<p>Prompt engineering is the art of crafting precise and effective prompts to guide AI models in generating desired outputs, making them respond in a way that aligns closely with the user's intentions and context. It involves understanding the model's capabilities and tailoring the input to produce precise, relevant, and valuable results.</p> <p>The initial prompt used by your copilot looks like this:</p> Starter prompt<pre><code>You are an intelligent copilot for Woodgrove Bank, designed to provide insights about the bank's vendors, active Statements of Work (SOWs), and the accuracy of invoices submitted in relation to those SOWs. You are helpful, friendly, and knowledgeable, but can only answer questions about Woodgrove's vendors and associated documents (invoices and SOWs).\n</code></pre> <p>This is a very basic prompt that does little to provide guidance to your copilot in how it interacts with users, leverages the tools available to it, or responds to questions. Now, you are going to iterate on that prompt to improve its interaction with users and the types of responses it is able to provide.</p> <p>Prompt engineering typically involves an iterative process of making minor changes to the prompt and then testing their impact. This process generally requires multiple cycles of changes and evaluations to create an effective prompt for your particular use case. Typicall, the iterative follows steps similar to the following:</p> <ol> <li>Ask questions</li> <li>Review responses</li> <li>Modify prompt</li> <li>Restart the API</li> <li>Repeat the above steps until you are satisfied with the quality and relevance of the responses you are receiving.</li> </ol>"},{"location":"05-Build-Copilot/08/#iterate-to-improve-your-prompt","title":"Iterate to improve your prompt","text":"<p>You will use the active VS Code debug sessions for both the API and the Portal you started in the last task to test a few changes to the copilot's prompt and evaluate the responses you are receiving.</p> <ol> <li> <p>Open the copilot prompt by navigating to the <code>src/api/app/prompts</code> folder in the VS Code Explorer and opening the <code>copilot.txt</code> file.</p> <p>Prompts are loaded by the API's lifespan manager</p> <p>In the Woodgrove Bank API project, prompts are stored in text files and loaded into memory by the <code>lifespan_manager</code> used by the FastAPI application.</p> </li> <li> <p>To get started, add the following language to the bottom of the prompt to provide some guidelines it should follow when responding to questions. This guidance contains details about the information that should be included in the response based on the type of information the user query is about:</p> <p>Update the prompt with response guidelines!</p> Provide response guidelines<pre><code>Use the following guidelines when responding:\n- If asked about a specific vendor, provide information about the vendor, their SOWs, and invoices. Always include a description of the vendor, the type of services they provide, and their contact information.\n- If asked about a specific SOW, always provide information about the SOW, its milestones, and deliverables. Include the name of the vendor performing the work.\n- If asked about a specific invoice, always provide information about the invoice and its line items.\n</code></pre> </li> <li> <p>Your prompt should now resemble this:</p> Intermediate prompt<pre><code>You are an intelligent copilot for Woodgrove Bank, designed to provide insights about the bank's vendors, active Statements of Work (SOWs), and the accuracy of invoices submitted in relation to those SOWs. You are helpful, friendly, and knowledgeable, but can only answer questions about Woodgrove's vendors and associated documents (invoices and SOWs).\n\nUse the following guidelines when responding:\n- If asked about a specific vendor, provide information about the vendor, their SOWs, and invoices. Always include a description of the vendor, the type of services they provide, and their contact information.\n- If asked about a specific SOW, always provide information about the SOW, its milestones, and deliverables. Include the name of the vendor performing the work.\n- If asked about a specific invoice, always provide information about the invoice and its line items.\n</code></pre> </li> <li> <p>In VS Code, restart the API Debugger session using the floating debugger toolbar. Ensure the API Debugger is selected in the configurations dropdown list before restarting the debugger. Alternatively, you can stop and restart the API Debugger via the Run and Debug panel.</p> <p></p> </li> <li> <p>In the Woodgrove Bank Contract Management Portal, ask a few questions about specific vendors, SOWs, and invoices and evaluate the responses.</p> </li> <li> <p>Now, make another change to the copilot prompt by adding the following guidance on using validation results to assess a vendor's performance and billing accuracy.</p> <p>Update the prompt with additional instructions!</p> Provide instructions about assessing performance and accuracy<pre><code>When asked about a vendor's performance or billing accuracy:\n1. Use validation results for SOWs and invoices to perform your analysis.\n2. Assess timeliness and quality of deliverables based on the validation results.\n3. Provide a summary of the vendor's performance and accuracy based on the validation results.\n4. Include only your assessment in your response, without any invoice and SOW data, unless specifically asked otherwise.\n</code></pre> </li> <li> <p>Your updated prompt should look like:</p> Final prompt<pre><code>You are an intelligent copilot for Woodgrove Bank, designed to provide insights about the bank's vendors, active Statements of Work (SOWs), and the accuracy of invoices submitted in relation to those SOWs. You are helpful, friendly, and knowledgeable, but can only answer questions about Woodgrove's vendors and associated documents (invoices and SOWs).\n\nUse the following guidelines when responding:\n- If asked about a specific vendor, provide information about the vendor, their SOWs, and invoices. Always include a description of the vendor, the type of services they provide, and their contact information.\n- If asked about a specific SOW, always provide information about the SOW, its milestones, and deliverables. Include the name of the vendor performing the work.\n- If asked about a specific invoice, always provide information about the invoice and its line items.\n\nWhen asked about a vendor's performance or billing accuracy:\n1. Use validation results for SOWs and invoices to perform your analysis.\n2. Assess timeliness and quality of deliverables based on the validation results.\n3. Provide a summary of the vendor's performance and accuracy based on the validation results.\n4. Include only your assessment in your response, without any invoice and SOW data, unless specifically asked otherwise.\n</code></pre> </li> <li> <p>Restart the API Dugger session again.</p> </li> <li> <p>Return to the Woodgrove Bank Contract Management Portal, and ask some questions about vendor performance, accuracy, and billing issues. Select + Chat to ensure you're in a new chat session, then ask your questions. For example, ask, \"What vendor has had the most invoicing issues?\"</p> <p></p> </li> <li> <p>Review the response, comparing it to the more direct response from your initial prompt. Ask a few more questions about the vendors, SOWs, and invoices to see how your copilot performs.</p> </li> <li> <p>Continue to iterate on the prompt until you are happy with the responses you are receiving.</p> </li> </ol> <p>Congratulations! You have successfully implemented an intelligent copilot in the Woodgrove Bank Contract Management application!</p>"},{"location":"06-Improve-RAG-Accuracy/","title":"Improve RAG Accuracy","text":"Using your own data? <p>To effectively integrate your own data into the solution accelerator, it's essential to adapt the existing components to align with your specific data structures and relationships.</p> <p>1. Customize the Semantic Ranker The semantic ranker enhances search relevance by reordering search results based on contextual understanding. To tailor it to your data:</p> <ul> <li>Understand the Existing Semantic Ranker: Review the current implementation to comprehend how it processes and ranks data.</li> <li>Adapt Ranking Functions: Modify the ranking algorithms to consider the unique attributes and relationships within your data. This may involve adjusting weightings or incorporating additional data fields to improve relevance.</li> <li>Test and Validate: After modifications, rigorously test the ranker's performance to ensure it accurately reflects the importance and context of your data elements.</li> </ul> <p>2. Modify GraphRAG Function Calls Graph Retrieval-Augmented Generation (GraphRAG) combines knowledge graphs with AI models to provide contextually rich responses. To align GraphRAG with your data:</p> <ul> <li>Analyze Your Data Structure: Identify the nodes (entities) and edges (relationships) that are pertinent to your domain.</li> <li>Adjust Function Calls: Modify existing GraphRAG function calls to navigate your specific graph schema effectively. This includes updating queries to traverse the correct nodes and edges that mirror your data's relationships.</li> <li>Integrate with AI Models: Ensure that the data retrieved via GraphRAG is appropriately fed into your AI models to enhance response generation with accurate context.</li> </ul> <p>3. Revise Data Export Procedures Exporting data accurately is crucial for maintaining the integrity of your knowledge graph. To adapt the export process:</p> <ul> <li>Map Data Relationships: Clearly define how your data entities relate to one another, establishing the nodes and edges that will form your knowledge graph.</li> <li>Update Export Scripts: Modify data export scripts to extract information from the appropriate tables and fields that correspond to your defined nodes and edges.</li> <li>Validate Exported Data: After exporting, verify that the data correctly represents the intended relationships and entities within your knowledge graph framework.</li> </ul> <p>As Generative AI (GenAI) becomes increasingly integral to modern enterprises, users' trust in these applications is paramount and heavily reliant on the accuracy of their responses. The productivity loss from incorrect answers and the consequent erosion of user trust are issues that cannot be overlooked. For many organizations, the decision to deploy GenAI apps hinges on their ability to elevate the accuracy of the app's responses to an acceptable level.</p> <p>In this section, you will use Semantic Ranking and GraphRAG to enhance the accuracy of responses from the Woodgrove Bank Contract Management copilot. Here's what you will accomplish:</p> <ul> <li> Review Semantic Ranking</li> <li> Use Semantic Ranking to rerank hybrid search results</li> <li> Review GraphRAG and the Apache AGE extension</li> <li> Implement the AGE extension to enable graph queries against your PostgreSQL database</li> </ul>"},{"location":"06-Improve-RAG-Accuracy/#the-accuracy-problem","title":"The Accuracy Problem","text":"<p>Despite significant advancements, accuracy remains a challenge for GenAI. Retrieval Augmented Generation (RAG) helps by grounding responses in factual data. Still, as datasets expand or when documents become too similar, vector search techniques can falter, leading to a loss of user trust and diminished productivity. Enhancing accuracy requires optimizing the information retrieval pipeline through various techniques. General methods include chunking, larger embeddings, and hybrid search, while advanced, dataset-specific approaches like semantic ranking and GraphRAG are essential.</p>"},{"location":"06-Improve-RAG-Accuracy/#enhance-genai-accuracy-with-advanced-techniques","title":"Enhance GenAI Accuracy with Advanced Techniques","text":"<p>Innovations like Semantic Ranking and GraphRAG are crucial to address the accuracy problem. These techniques enhance the RAG approach by improving how grounding data is gathered and integrated into AI model responses, thereby increasing precision and reliability. Optimizing information retrieval pipelines through advanced techniques ensures that GenAI applications deliver accurate, trustworthy, and insightful responses, thereby maintaining user trust and productivity.</p> <p>Select the tabs below to understand how Semantic Ranking and GraphRAG can improve RAG accuracy.</p> Semantic RankingGraphRAG <p>Semantic ranking is an advanced technique used in information retrieval systems to enhance the relevance of search results by understanding the context and meaning of queries and documents rather than relying solely on keyword matching. By leveraging natural language processing and machine learning algorithms, semantic ranking can analyze the relationships between words and concepts to provide more accurate and meaningful results. This approach allows search engines to better comprehend the intent behind user queries and deliver results that are contextually aligned with what users are looking for. The benefits of semantic ranking include improved accuracy in search results, enhanced user satisfaction, and more efficient retrieval of information, making it a powerful tool for modern search engines and recommendation systems.</p> <p>GraphRAG, developed by Microsoft Research, is an innovative approach to information retrieval and generation, combining the power of knowledge graphs with large language models (LLMs) to enhance the accuracy and relevance of generated content. GraphRAG allows LLMs to provide more contextually aware and insightful responses by integrating structured data from knowledge graphs into the retrieval process. This method enhances the model's ability to understand complex queries and synthesize information from various sources, leading to more accurate and informative outputs. GraphRAG's benefits include improved information retrieval, enhanced reasoning capabilities, and the ability to deliver precise answers even when dealing with intricate or multi-faceted questions.</p>"},{"location":"06-Improve-RAG-Accuracy/01/","title":"6.1 Understand Semantic Ranking","text":"<p>Semantic ranking improves accuracy of the vector search by re-ranking results using a semantic ranker model, which brings more relevant items to the top of the ranked list. In the context of Azure Database for PostgreSQL, semantic ranking can enhance the accuracy and relevance of search results within the database, significantly improving the information retrieval pipelines in Generative AI (GenAI) applications. Unlike vector search, which primarily measures the similarity between two vector embeddings, semantic ranking delves deeper by analyzing the semantic relevance between text strings at the actual text level. This approach ensures that search results are more contextually aligned with user queries, improving information retrieval and higher user satisfaction.</p>"},{"location":"06-Improve-RAG-Accuracy/01/#reranking-search-results-with-semantic-ranker-models","title":"Reranking Search Results with Semantic Ranker Models","text":"<p>Semantic ranker models compare two text strings: the search query and the text of one of the items being searched. The ranker produces a relevance score that indicates how well the text string matches the query, essentially determining if the text holds an answer to the query. Typically, the semantic ranker is a machine learning model, often a variant of the BERT language model fine-tuned for ranking tasks, but it can also be a large language model (LLM). These ranker models, also called cross-encoder models, take two text strings as input and output a relevance score, usually ranging from 0 to 1.</p>"},{"location":"06-Improve-RAG-Accuracy/01/#semantic-ranker-model-inference-from-postgresql","title":"Semantic Ranker Model Inference from PostgreSQL","text":"<p>The <code>azure_ai</code> extension enables the invocation of machine learning models deployed on Azure Machine Learning online endpoints directly from within PostgreSQL.</p> <p></p> <p>Using the <code>azure_ml.invoke()</code> method, inference with a semantic ranker model can be performed through SQL queries. This allows for the reranking of vector search results based on the semantic relevance of the text, rather than relying solely on keyword matching.</p>"},{"location":"06-Improve-RAG-Accuracy/02/","title":"6.2 Use Semantic Ranking in PostgreSQL","text":"<p>By leveraging the power of semantic re-ranking, you can improve the accuracy of data retrieval and help ensure the success of your Generative AI applications. In this task, you will create a user-defined function (UDF) in your database that utilizes model inferencing capabilities of the Azure AI extension. Specifically, the <code>azure_ml.invoke()</code> method of the extension will be called from within the UDF to seamlessly invoke a semantic ranking model directly within SQL queries.</p> Your Semantic Ranker model was deployed to Azure ML. <p>Depending on what semantic re-ranker setting you chose during azd up deployment, the deployment of this solution accelerator included executing a post-deployment script to download either the <code>mini</code> model: ms-marco-MiniLM-L6-v2 or the <code>bge</code> model: BGE-reranker-v2-m3 cross encoder model and deploy it as an Azure Machine Learning (AML) inference endpoint in your subscription. These models were selected because they are lightweight, easy to deploy, and provides fast inference.</p>"},{"location":"06-Improve-RAG-Accuracy/02/#create-a-reranking-function","title":"Create a reranking function","text":"<p>To simplify the integration of semantic ranking and invocation of the semantic ranker model from Azure ML, you will create a user-defined function (UDF). The function uses the <code>azure_ai</code> extension to directly make remote calls to the AML inference endpoint from a SQL query. Using the <code>azure_ml.invoke()</code> function within a UDF, you can make calls to the semantic ranker model.</p> You already configured the extension's connection to Azure ML <p>Recall that you already configured the Azure AI extension's connection to Azure ML in task 3.2 Configure the Azure AI extension using the following commands:</p> <pre><code>SELECT azure_ai.set_setting('azure_ml.scoring_endpoint','&lt;endpoint&gt;');\nSELECT azure_ai.set_setting('azure_ml.endpoint_key', '&lt;api-key&gt;');\n</code></pre> <p>The UDF will be defined within your SQL database, allowing you to seamlessly incorporate semantic ranking into your queries. You will use pgAdmin to create it.</p> <ol> <li> <p>Return to the open instance of pgAdmin on your local machine and ensure it is connected to your PostgreSQL database.</p> </li> <li> <p>In the pgAdmin Object Explorer, expand databases under your PostgreSQL server.</p> </li> <li> <p>Right-click the contracts database and select Query Tool from the context menu.</p> </li> <li> <p>Run one of the following queries to create the <code>semantic_reranking</code> function:</p> <ul> <li>Run the first one if you chose the <code>mini</code> model</li> <li>Run the second one if you chose the <code>bge</code> model</li> </ul> <p>Execute one of the following SQL commands below in pgAdmin!</p> For mini model - Create Semantic Reranking UDF<pre><code>CREATE OR REPLACE FUNCTION semantic_reranking(query TEXT, vector_search_results TEXT[])\nRETURNS TABLE (content TEXT, relevance NUMERIC) AS $$\nBEGIN\n    RETURN QUERY\n    WITH\n    json_pairs AS (\n        SELECT jsonb_build_object(\n            'pairs', jsonb_agg(jsonb_build_array(query, content_))\n        ) AS json_pairs_data\n        FROM (\n            SELECT a.content AS content_\n            FROM unnest(vector_search_results) AS a(content)\n        )\n    ),\n    relevance_scores_raw AS (\n        SELECT azure_ml.invoke(\n            (SELECT json_pairs_data FROM json_pairs),\n            deployment_name =&gt; 'msmarco-minilm-deployment-6',\n            timeout_ms =&gt; 120000\n        ) AS response_json\n    ),\n    relevance_scores AS (\n    SELECT jsonb_array_elements(response_json) AS item\n    FROM relevance_scores_raw\n    )\n    SELECT\n        item -&gt;&gt; 'content' AS content,\n        (item -&gt;&gt; 'score')::NUMERIC AS relevance\n    FROM relevance_scores;\nEND $$ LANGUAGE plpgsql;\n</code></pre> For bge model - Create Semantic Reranking UDF<pre><code>CREATE OR REPLACE FUNCTION semantic_reranking(query TEXT, vector_search_results TEXT[])\nRETURNS TABLE (content TEXT, relevance NUMERIC) AS $$\nBEGIN\n    RETURN QUERY\n        WITH\n        json_pairs AS(\n            SELECT jsonb_build_object(\n                    'pairs', \n                    jsonb_agg(\n                        jsonb_build_array(query, content_)\n                    )\n                ) AS json_pairs_data\n            FROM (\n                SELECT a.content as content_\n                FROM unnest(vector_search_results) as a(content)\n            )\n        ), \n        relevance_scores AS(\n            SELECT jsonb_array_elements(invoke.invoke) as relevance_results\n            FROM azure_ml.invoke(\n                    (SELECT json_pairs_data FROM json_pairs),\n                    deployment_name=&gt;'bgev2m3-v1', timeout_ms =&gt; 120000)\n        ),\n        relevance_scores_rn AS (\n            SELECT *, ROW_NUMBER() OVER () AS idx\n            FROM relevance_scores\n        )\n        SELECT a.content,\n               (r.relevance_results::TEXT)::NUMERIC AS relevance\n            FROM\n                unnest(vector_search_results) WITH ORDINALITY AS a(content, idx2)\n            JOIN\n                relevance_scores_rn AS r(relevance_results, idx)\n            ON\n                a.idx2 = r.idx;\nEND $$ LANGUAGE plpgsql;\n</code></pre> How does the `semantic_reranking function work? <p>The <code>semantic_reranking</code> function enhances search results by re-ranking them based on their semantic relevance to a given query. Here's a breakdown of how it works:</p> <p>Input Parameters</p> <ul> <li><code>query</code>: A text string representing the search query.</li> <li><code>vector_search_results</code>: An array of text strings representing the initial search results obtained from a vector search.</li> </ul> <p>Return Value</p> <ul> <li>The function returns a table with two columns: <code>content</code> (the original search result content) and <code>relevance</code> (a NUMERIC object representing the relevance score).</li> </ul> <p>Steps</p> <ul> <li>Json Pairs Construction: The function starts by constructing a JSON object that pairs the query with each initial search result.</li> <li>Relevance Scoring: It then calls the <code>azure_ml.invoke</code> function to send the JSON pairs to an Azure Machine Learning endpoint, which computes the relevance scores for each pair. The results are returned as a JSON array.</li> <li>Row Number Assignment: The relevance scores are assigned row numbers to maintain their order.</li> <li>Combining Results: Finally, the function combines the original search results with corresponding relevance scores using the row numbers, ensuring that each result is paired with the correct relevance score.</li> </ul> <p>This function's overall purpose is to improve the relevance of search results by leveraging a semantic model hosted on Azure ML. This ensures that the results returned are more contextually relevant to the user's query.</p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/02/#test-the-udf","title":"Test the UDF","text":"<p>To see how semantic ranking works in your queries, you can execute a test query from pgAdmin. The example below shows how to perform semantic reranking of vector search results for the query \"cost management and optimization\" over the <code>sow_chunks</code> table using the <code>semantic_reranking</code> UDF you created.</p> <ol> <li> <p>In the pgAdmin query window, run the following query and observe the results.</p> <p>Execute the following SQL command in pgAdmin! (Works for both <code>mini</code> and <code>bge</code> models)</p> Semantic ranking query<pre><code>WITH vector_results AS (\n    SELECT content FROM sow_chunks c\n    ORDER BY embedding &lt;=&gt; azure_openai.create_embeddings('embeddings', 'cost management and optimization')::vector\n    LIMIT 10\n)\nSELECT content, relevance\nFROM semantic_reranking('cost management and optimization',  ARRAY(SELECT content from vector_results))\nORDER BY relevance DESC\nLIMIT 3;\n</code></pre> </li> </ol> <p>Next, you will update the <code>get_sow_chunks</code> function used by your copilot to use semantic ranking to improve the accuracy and quality of the copilot's responses.</p>"},{"location":"06-Improve-RAG-Accuracy/03/","title":"6.3 Update Copilot With Semantic Ranking","text":"<p>The next step is to update your API to use the semantic ranking capability. For this, you will update how it finds and retrieves SOW chunks, which are the blocks of content extracted from each SOW uploaded into the application.</p>"},{"location":"06-Improve-RAG-Accuracy/03/#review-the-function","title":"Review the function","text":"<p>Following the function calling pattern used by your LangChain agent to retrieve data from the database, you will use a Python function to execute semantic ranking queries from your copilot. Within the <code>src/api/app/functions/chat_functions.py</code> file, the <code>find_sow_chunks_with_semantic_ranking</code> function has been provided for executing queries using the <code>semantic_reranking</code> UDF you added to your database in the previous step. Open it now in Visual Studio Code and explore the code with the function. You can also expand the section below to see the code inline.</p> Find SOW Chunks with Semantic Ranking code src/api/app/functions/chat_functions.py<pre><code>async def find_sow_chunks_with_semantic_ranking(self, user_query: str, vendor_id: int = None, sow_id: int = None, max_results: int = 3):\n        \"\"\"\n        Retrieves content chunks similar to the user query for the specified SOW.\n        \"\"\"\n\n        # Get the embeddings for the user query\n        query_embeddings = await self.__create_query_embeddings(user_query)\n\n        # Create a vector search query\n        cte_query = f\"SELECT content FROM sow_chunks\"\n        cte_query += f\" WHERE sow_id = {sow_id}\" if sow_id is not None else f\" WHERE vendor_id = {vendor_id}\" if vendor_id is not None else \"\"\n        cte_query += f\" ORDER BY embedding &lt;=&gt; '{query_embeddings}'\"\n        cte_query += f\" LIMIT 10\"\n\n        # Create the semantic ranker query\n        query = f\"\"\"\n        WITH vector_results AS (\n            {cte_query}\n        )\n        SELECT content, relevance\n        FROM semantic_reranking('{user_query}',  ARRAY(SELECT content from vector_results))\n        ORDER BY relevance DESC\n        LIMIT {max_results};\n        \"\"\"\n\n        rows = await self.__execute_query(f'{query};')\n        return [dict(row) for row in rows]\n</code></pre> <ol> <li> <p>Generate embeddings (line 18): Azure OpenAI generates embeddings representing the user query.</p> </li> <li> <p>Create vector search query (lines 21-24): The UDF expects vector search results as input, so a vector search query is created. The query selects the <code>content</code> field from the <code>sow_chunks</code> table and orders them by semantic similarity.</p> </li> <li> <p>Create a semantic ranker query (lines 27-35): The results of the vector search query are required to call the <code>semantic_reranking</code> UDF.</p> <ul> <li>Create CTE (lines 28-30): A common table expression (CTE) executes the vector search query and extracts the content values and relevancy scores from that query.</li> <li>Execute the <code>semantic_reranking</code> UDF (lines 31-33): Using the results of the CTE, the results are reranked using the <code>semantic_reranking</code> UDF.</li> <li>Limit results (line 34): The number of results is limited to ensure the more relevant records are sent to the LLM.</li> </ul> </li> <li> <p>Return the results (lines 37-38): The query results are extracted and returned to the LLM.</p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/03/#implement-semantic-ranker","title":"Implement semantic ranker","text":"<p>To use the semantic ranking functionality instead of the vector search to retrieve SOW chunks, you must replace the function assigned to your LangChain agent's <code>tools</code> collection. You will replace the <code>find_sow_chunks</code> tool with the <code>find_sow_chunks_with_semantic_ranking</code> function.</p> <ol> <li> <p>In the VS Code Explorer, navigate to the <code>src/api/app/routers</code> folder and open the <code>completions.py</code> file.</p> </li> <li> <p>Within the <code>tools</code> array, locate the following line:</p> Python<pre><code>StructuredTool.from_function(coroutine=cf.find_sow_chunks),\n</code></pre> </li> <li> <p>Replace that line with the following:</p> <p>Insert the code to use the semantic ranking function!</p> Python<pre><code>StructuredTool.from_function(coroutine=cf.find_sow_chunks_with_semantic_ranking),\n</code></pre> </li> <li> <p>Your new <code>tools</code> array should look like this:</p> Python<pre><code># Define tools for the agent to retrieve data from the database\ntools = [\n    # Hybrid search functions\n    StructuredTool.from_function(coroutine=cf.find_invoice_line_items),\n    StructuredTool.from_function(coroutine=cf.find_invoice_validation_results),\n    StructuredTool.from_function(coroutine=cf.find_milestone_deliverables),\n    StructuredTool.from_function(coroutine=cf.find_sow_chunks_with_semantic_ranking),\n    StructuredTool.from_function(coroutine=cf.find_sow_validation_results),\n    # Get invoice data functions\n    StructuredTool.from_function(coroutine=cf.get_invoice_id),\n    StructuredTool.from_function(coroutine=cf.get_invoice_line_items),\n    StructuredTool.from_function(coroutine=cf.get_invoice_validation_results),\n    StructuredTool.from_function(coroutine=cf.get_invoices),\n    # Get SOW data functions\n    StructuredTool.from_function(coroutine=cf.get_sow_chunks),\n    StructuredTool.from_function(coroutine=cf.get_sow_id),\n    StructuredTool.from_function(coroutine=cf.get_sow_milestones),\n    StructuredTool.from_function(coroutine=cf.get_milestone_deliverables),\n    StructuredTool.from_function(coroutine=cf.get_sow_validation_results),\n    StructuredTool.from_function(coroutine=cf.get_sows),\n    # Get vendor data functions\n    StructuredTool.from_function(coroutine=cf.get_vendors)\n]\n</code></pre> </li> <li> <p>Save the <code>completions.py</code> file.</p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/03/#test-with-vs-code","title":"Test with VS Code","text":"<p>As you have done previously, you will test your updates using Visual Studio Code.</p>"},{"location":"06-Improve-RAG-Accuracy/03/#start-the-api","title":"Start the API","text":"<p>Follow the steps below to start a debug session for the API in VS Code.</p> <ol> <li> <p>In Visual Studio Code Run and Debug panel, select the API Debugger option for your OS from the debug configurations dropdown list.</p> <p></p> </li> <li> <p>Select the Start Debugging button (or press F5 on your keyboard).</p> <p></p> </li> <li> <p>Wait for the API application to start completely, indicated by an <code>Application startup complete.</code> message in the terminal output.</p> <p></p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/03/#start-the-portal","title":"Start the Portal","text":"<p>With the API running, you can start a second debug session in VS Code for the Portal project.</p> <ol> <li> <p>Return to the Run and Debug panel in Visual Studio Code and select the Portal Debugger option from the debug configurations dropdown list.</p> <p></p> </li> <li> <p>Select the Start Debugging button (or press F5 on your keyboard).</p> <p></p> </li> <li> <p>This should launch the Woodgrove Bank Contract Management Portal in a new browser window (http://localhost:3000/).</p> </li> <li> <p>On the Dashboard page, enter the following message into the chat and send it:</p> <p>Paste the following prompt into the copilot chat box!</p> <pre><code>Show me SOWs pertaining to cost management and optimization.\n</code></pre> </li> <li> <p>Observe the results provided using your UDF and semantic ranking.</p> </li> </ol> <p>Congratulations! You just learned how to leverage the semantic ranking capabilities in Azure Database for PostgreSQL!</p>"},{"location":"06-Improve-RAG-Accuracy/04/","title":"6.4 Review GraphRAG","text":"<p>GraphRAG (Graph Retrieval-Augmented Generation) is an innovative technique developed by Microsoft Research. It significantly enhances the accuracy and relevance of responses generated by Retrieval-Augmented Generation (RAG) systems. Graph refers to a data structure representing entities and their relationships. This structure is often visualized as nodes (vertices) and edges, where nodes represent entities and edges represent the relationships or connections between these entities.</p> <p>In the context of Azure Database for PostgreSQL, GraphRAG leverages the structure of knowledge graphs extracted from source data to provide better context and improve the quality of responses from language models. By integrating GraphRAG with PostgreSQL, you can enhance the information retrieval pipeline, making it more accurate and context-aware. This is particularly useful for applications where the accuracy and relevance of information are critical.</p> Want a more extensive example of GraphRAG with Azure Database for PostgreSQL? <p>This solution accelerator presents a simplified GraphRAG implementation to show you how you can improve the accuracy of RAG by leveraging a graph database. For a more comprehensive example that combines the results of semantic ranking and GraphRAG, please refer to the Introducting the GraphRAG Solution for Azure Database for PostgreSQL blob post and associated GraphRAG Solution Accelerator for Azure Database for PostgreSQL.</p>"},{"location":"06-Improve-RAG-Accuracy/04/#graphrag-with-age","title":"GraphRAG with AGE","text":"<p>Apache Graph Extension (AGE) is a PostgreSQL extension developed under the Apache Incubator project. It offers a significant advancement that provides graph processing capabilities within the PostgreSQL ecosystem, enabling users to store efficiently and query graph data. This new extension brings a powerful toolset for developers looking to leverage a graph database with the robust enterprise features of Azure Database for PostgreSQL.</p> <p></p> <p>With AGE, you can manage and analyze complex relationships within your data, uncovering insights that traditional relational databases and even semantic search might miss.</p>"},{"location":"06-Improve-RAG-Accuracy/04/#key-features","title":"Key Features","text":"<ul> <li>Graph and relational data integration: AGE allows seamless integration of graph data with existing relational data in PostgreSQL. This hybrid approach lets you benefit from both graph and relational models simultaneously.</li> <li>openCypher query language: AGE incorporates openCypher, a powerful and user-friendly query language designed explicitly for graph databases. This feature simplifies the process of writing and executing graph queries.</li> <li>High performance: AGE is optimized for performance, ensuring efficient storage and retrieval of graph data thanks to support for indexing graph properties using GIN indices.</li> <li>Scalability: Built on PostgreSQL's proven architecture, AGE inherits its scalability and reliability, allowing it to handle growing datasets and increasing workloads.</li> </ul>"},{"location":"06-Improve-RAG-Accuracy/04/#benefits","title":"Benefits","text":"<p>The integration of AGE in Azure Database for PostgreSQL brings numerous practical benefits to developers and businesses looking to leverage graph processing capabilities:</p> <ul> <li>Simplified data management: AGE's ability to integrate graph and relational data simplifies data management tasks, reducing the need for separate graph database solutions.</li> <li>Enhanced data analysis: With AGE, you can perform complex graph analyses directly within your PostgreSQL database, gaining deeper insights into relationships and patterns in your data.</li> <li>Cost efficiency: By utilizing AGE within Azure Database for PostgreSQL, you can consolidate your database infrastructure, lowering overall costs and reducing the complexity of your data architecture.</li> <li>Security and compliance: AGE leverages Azure's industry-leading security and compliance features to ensure your graph data is protected and meets regulatory requirements, providing peace of mind.</li> </ul>"},{"location":"06-Improve-RAG-Accuracy/05/","title":"6.5 Enable AGE","text":"<p>The Apache AGE (<code>age</code>) extension enhances PostgreSQL by allowing it to be used as a graph database, providing a comprehensive solution for analyzing interconnected data. With <code>age</code>, you can define and query complex data relationships using graph structures.</p> <p>To simplify the extraction of data from your PostgreSQL database into CSV files hosted in Azure Blob Storage, you will also use the Azure Storage extension (<code>azure_storage</code>). This extension allows you to connect directly to an Azure Storage account from your PostgreSQL database, copy data out of the database, and write it into files in blob storage. From your storage account, the CSV files will be used as the data source for your graph database.</p>"},{"location":"06-Improve-RAG-Accuracy/05/#allowlist-the-extensions","title":"Allowlist the extensions","text":"<p>Before using <code>age</code> and <code>azure_storage</code> extensions, add them to the PostgreSQL server's allowlist, configure them as shared preloaded libraries, and install them in your database.</p> <p>Select the tab for the method you want to use for allowlisting the extensions and follow the instructions provided.</p> Azure CLIAzure portal <ol> <li> <p>Open a new integrated terminal window in VS Code and execute the following Azure CLI command at the prompt.</p> <p>Ensure you replace the tokens in the command below with the appropriate values from your Azure environment.</p> <ul> <li>[YOUR_RESOURCE_GROUP]: The name of the resource group hosting your Azure Database for PostgreSQL flexible server.</li> <li>[YOUR_POSTGRESQL_SERVER]: The name of your Azure Database for PostgreSQL server.</li> <li>[YOUR_SUBSCRIPTION_ID]: Your Azure subscription ID.</li> </ul> <p>Execute the following Azure CLI command!</p> Bash<pre><code>az postgres flexible-server parameter set --resource-group [YOUR_RESOURCE_GROUP] --server-name [YOUR_POSTGRESQL_SERVER] --subscription [YOUR_SUBSCRIPTION_ID] --name azure.extensions --value azure_ai,pg_diskann,vector,age,azure_storage\n</code></pre> </li> </ol> <ol> <li> <p>Navigate to your Azure Database for PostgreSQL flexible server instance in the Azure portal.</p> </li> <li> <p>From the left-hand resource menu:</p> <ol> <li>Expand the Settings section and select Server parameters.</li> <li>Enter \"azure.extensions\" into the search filter.</li> <li>Expand the VALUE dropdown list.</li> <li>Select the AGE and AZURE_STORAGE extensions by checking the box for each in the VALUE dropdown list.</li> </ol> <p></p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/05/#load-extensions-on-server-start","title":"Load extensions on server start","text":"<p>Some Postgres libraries need to perform certain operations that can only take place at postmaster start, such as allocating shared memory, reserving lightweight locks, or starting background workers. <code>AGE</code> relies on shared memory for its operations, so it must be loaded at server start. The <code>shared_preload_libraries</code> parameter in PostgreSQL is used to specify libraries that should be loaded at server startup, enabling additional functionalities or extensions before any connections are made.</p> <p>Select the tab for the method you want to use to update the <code>shared_preload_libraries</code> parameter and follow the instructions provided.</p> Azure CLIAzure portal <ol> <li> <p>In the VS Code integrated terminal window, execute the following Azure CLI command at the prompt.</p> <p>Ensure you replace the tokens in the command below with the appropriate values from your Azure environment.</p> <ul> <li>[YOUR_RESOURCE_GROUP]: The name of the resource group hosting your Azure Database for PostgreSQL flexible server.</li> <li>[YOUR_POSTGRESQL_SERVER]: The name of your Azure Database for PostgreSQL server.</li> <li>[YOUR_SUBSCRIPTION_ID]: Your Azure subscription ID.</li> </ul> <p>Execute the following Azure CLI command!</p> Bash<pre><code>az postgres flexible-server parameter set --resource-group [YOUR_RESOURCE_GROUP] --server-name [YOUR_POSTGRESQL_SERVER] --subscription [YOUR_SUBSCRIPTION_ID] --name shared_preload_libraries --value age,azure_storage,pg_cron,pg_stat_statements\n</code></pre> <p><code>pg_cron</code> and <code>pg_stat_statements</code> are set by default, so they are included in the above command to avoid removing them from the <code>shared_preload_libraries</code> parameter.</p> </li> <li> <p>The above command sets the parameter, but your PostgreSQL flexible server requires a restart for the setting to take effect. Run the following command to restart your server:</p> <p>Ensure you replace the tokens in the command below with the appropriate values from your Azure environment.</p> <ul> <li>[YOUR_RESOURCE_GROUP]: The name of the resource group hosting your Azure Database for PostgreSQL flexible server.</li> <li>[YOUR_POSTGRESQL_SERVER]: The name of your Azure Database for PostgreSQL server.</li> <li>[YOUR_SUBSCRIPTION_ID]: Your Azure subscription ID.</li> </ul> <p>Execute the following Azure CLI command!</p> Bash<pre><code>az postgres flexible-server restart --resource-group [YOUR_RESOURCE_GROUP] --name [YOUR_POSTGRESQL_SERVER] --subscription [YOUR_SUBSCRIPTION_ID]\n</code></pre> </li> </ol> <ol> <li> <p>On the Server parameters page of your Azure Database for PostgreSQL flexible server instance in the Azure portal:</p> <ol> <li>Enter \"shared_preload\" into the search filter.</li> <li>Expand the VALUE dropdown list.</li> <li>Select the AGE and AZURE_STORAGE extensions by checking the box for each in the VALUE dropdown list.</li> <li>Select Save on the toolbar.</li> </ol> <p></p> </li> <li> <p>Select Save will trigger a restart of the PostgreSQL server and will take a few seconds to complete.</p> </li> <li> <p>In the Save server parameter dialog that appears, select Save and Restart.</p> <p></p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/05/#install-extensions","title":"Install extensions","text":"<p>With the <code>AGE</code> and <code>AZURE_STORAGE</code> extensions added to the allowlist and loaded on your PostgreSQL server, you can install them in your database using the CREATE EXTENSION command.</p> <p>At this time, the AGE extension is in preview and will only be available for newly created Azure Database for PostgreSQL Flexible Server instances running at least PG13 up to PG16.</p> <p>You will use pgAdmin to install the extension by executing a SQL command against your database.</p> <ol> <li> <p>On your local machine, return to the open instance of pgAdmin (or open it if you closed it after the setup tasks) and ensure it is connected to your PostgreSQL database.</p> </li> <li> <p>In the pgAdmin Object Explorer, expand databases under your PostgreSQL server.</p> </li> <li> <p>Right-click the contracts database and select Query Tool from the context menu.</p> </li> <li> <p>Install the <code>age</code> and <code>azure_storage</code> extensions by running the following <code>CREATE EXTENSION</code> commands in the pgAdmin query window:</p> <p>Execute the following SQL commands in pgAdmin!</p> <pre><code>CREATE EXTENSION IF NOT EXISTS age;\nCREATE EXTENSION IF NOT EXISTS azure_storage;\n</code></pre> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/06/","title":"6.6 Export Graph Data","text":"<p>You must export data from your PostgreSQL database to populate your graph database. Using the Azure Storage (<code>azure_storage</code>) extension for Azure Database for PostgreSQL provides a streamlined method for copying data out of your PostgreSQL database into CSV files in Azure Blob Storage. In the context of <code>AGE</code> and loading data into a graph database, the <code>azure_storage</code> extension facilitates the extraction of relational data from your PostgreSQL database, enabling efficient transfer to Blob Storage. This process ensures that the data needed for constructing and querying your graph database is readily available and can be seamlessly integrated into your data workflows.</p>"},{"location":"06-Improve-RAG-Accuracy/06/#connect-your-database-to-azure-storage","title":"Connect your database to Azure Storage","text":"<p>You will use pgAdmin to configure the <code>azure_storage</code> extension's connection to your storage account by executing SQL commands against your database.</p> <p>Ensure you replace the token in the commands below with the appropriate values from your Azure environment.</p> <p>Each SQL statement you will execute below contains a <code>[YOUR_STORAGE_ACCOUNT_NAME]</code> token. Before running any of the queries, you must replace this token with the name of your Storage account resource, which you can copy from the Azure portal.</p> <ol> <li> <p>On your local machine, return to the open instance of pgAdmin (or open it if you have closed it) and ensure it is connected to your PostgreSQL database.</p> </li> <li> <p>In the pgAdmin Object Explorer, expand databases under your PostgreSQL server.</p> </li> <li> <p>Right-click the contracts database and select Query Tool from the context menu.</p> </li> <li> <p>Run the following command to use the <code>azure_storage.account_add()</code> function to define a connection between your storage account and your PostgreSQL database. Replace the account name and key tokens with values for your storage account.</p> <p>Execute the following SQL commands in pgAdmin!</p> SQL<pre><code>SELECT azure_storage.account_add('[YOUR_STORAGE_ACCOUNT_NAME]', '[YOUR_STORAGE_ACCOUNT_KEY]');\n</code></pre> Need help finding your storage account key? <p>To get your storage account's access key:</p> <ol> <li>Navigate to your storage account in the Azure portal.</li> <li>Select the Access keys menu under Security + networking in the navigation menu.</li> <li>Select Show next to the Key value under key1.</li> <li>Select the Copy to clipboard button that appears on the right-hand side of the Key box.</li> <li> <p>Paste the copied key as the <code>[YOUR_STORAGE_ACCOUNT_KEY]</code> value in the above SQL statement.</p> <p></p> </li> </ol> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/06/#export-data-to-blob-storage","title":"Export data to blob storage","text":"<p>As part of the data export process, you will use queries to reshape the source data into the format required to efficiently define nodes and edges in your graph database. Traditional relational databases organize data in tables, while graph databases use nodes and edges to represent entities and their relationships. Converting tabular data into nodes and edges aligns with the graph structure, making relationship analysis more efficient. This transformation enables natural modeling of real-world entities, optimizes query performance, and allows for complex relationship analysis, such as evaluating the connections between vendors, SOWs, and associated invoices. By reshaping your data, you can fully leverage the strengths of <code>AGE</code> and Azure Database for PostgreSQL for deeper insights and sophisticated analyses.</p> <p>You will define two nodes and one edge in your graph database. The nodes will contain data vendor, and SOW data. The edge will define the relationship between these.</p> <p>You will use pgAdmin to execute data export queries leveraging the <code>azure_storage</code> extension.</p> <ol> <li> <p>Return to the open Query Tool in pgAdmin.</p> </li> <li> <p>Run the following query using the <code>azure_storage.blob_put()</code> function to write all data from the <code>vendors</code> table into a CSV file named <code>vendors.csv</code> into your storage account's <code>graph</code> container. This data will define the <code>vendor</code> node in your graph database.</p> <p>Execute the following SQL commands in pgAdmin!</p> SQL<pre><code>-- Extract data for the vendors node\nSELECT azure_storage.blob_put(\n    '[YOUR_STORAGE_ACCOUNT_NAME]',\n    'graph',\n    'vendors.csv',\n    vendors,\n    'csv',\n    'none',\n    azure_storage.options_csv_put(header:=true)\n)\nFROM (\n    SELECT * FROM vendors\n) AS vendors;\n</code></pre> </li> <li> <p>Execute this query to extract <code>sow</code> node data from the <code>sows</code> table and write it into a CSV file named <code>sows.csv</code> into your storage account's <code>graph</code> container. The query excludes a few columns from the <code>sows</code> table, including the <code>embedding</code> column, as they are unnecessary in the graph database and can cause errors.</p> <p>Execute the following SQL commands in pgAdmin!</p> SQL<pre><code>-- Extract data for the SOWs node\nSELECT azure_storage.blob_put(\n    '[YOUR_STORAGE_ACCOUNT_NAME]',\n    'graph',\n    'sows.csv',\n    sows,\n    'csv',\n    'none',\n    azure_storage.options_csv_put(header:=true)\n)\nFROM (\n    SELECT id, number, vendor_id, start_date, end_date, budget FROM sows\n) AS sows;\n</code></pre> </li> <li> <p>Finally, run the following query to extract <code>has_invoices</code> edge data from the <code>invoices</code> table and write it into a CSV file named <code>has_invoices.csv</code> into the <code>graph</code> container in your storage account:</p> <p>Execute the following SQL commands in pgAdmin!</p> SQL<pre><code>-- Create the has_invoices edge\nSELECT azure_storage.blob_put(\n    '[YOUR_STORAGE_ACCOUNT_NAME]',\n    'graph',\n    'has_invoices.csv',\n    invoices,\n    'csv',\n    'none',\n    azure_storage.options_csv_put(header:=true)\n)\nFROM (\n    SELECT id, vendor_id as start_id, 'vendor' AS start_vertex_type, sow_id AS end_id, 'sow' AS end_vertex_type, number, amount, invoice_date, payment_status FROM invoices\n) AS invoices;\n</code></pre> <p>Edge definition details</p> <p>When using <code>AGE</code>, edges must contain details about the relationships between nodes. These are defined in the above query by specifying the <code>start_id</code>, <code>start_vertex_type</code>, <code>end_id</code>, and <code>end_vertex_type</code> columns. The '_id' columns are mapped to the <code>vendor_id</code> and <code>sow_id</code>, respectively, and the start and end vertex types are strings specifying the node type associated with the ID.</p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/06/#verify-csv-files","title":"Verify CSV files","text":"<p>You can use the <code>azure_storage</code> extension to verify the CSV files were successfully written into the <code>graph</code> container in your storage account.</p> <ol> <li> <p>Execute the following query in the Query Tool in pgAdmin. Ensure you replace the <code>[YOUR_STORAGE_ACCOUNT_NAME]</code> token with the name of your storage account.</p> <p>Execute the following SQL commands in pgAdmin!</p> SQL<pre><code>-- Verify the CSV files were written into blob storage\nSELECT azure_storage.blob_list('[YOUR_STORAGE_ACCOUNT_NAME]', 'graph');\n</code></pre> </li> <li> <p>You should see a list of blobs in the Data output panel in pgAdmin that includes the three CSV files you exported above.</p> </li> </ol> <p>Congratulations! You have successfully exported data to create your graph database!</p>"},{"location":"06-Improve-RAG-Accuracy/07/","title":"6.7 Create Graph Database","text":"<p>Hosting graph databases in Azure Database for PostgreSQL using the Apache AGE extension offers a powerful way to analyze relationships within your data. AGE combines graph and relational data seamlessly, leveraging the openCypher query language for efficient graph processing. This integration brings PostgreSQL's scalability, performance, and security to the table while enabling advanced data analysis and management. When incorporated into a copilot, this setup empowers you to evaluate vendor performance of SOW deliverables through invoice validation, ensuring your data-driven decisions are robust and insightful.</p> <p>Once you have created your graph database, it will be incorporated into the Woodgrove Bank API as an extra tool available to the copilot, allowing you to improve RAG accuracy when retrieving relevant data. By using another function call, the copilot will be able to execute cypher queries against the graph database hosted in Azure Database for PostgreSQL using AGE while maintaining the existing capabilities of querying data in Postgres.</p>"},{"location":"06-Improve-RAG-Accuracy/07/#woodgrove-graph","title":"Woodgrove Graph","text":"<p>Graph databases allow you to model complex relationships between data using nodes and edges, making it easier to represent and query these relationships. You will build a simple graph using the data you extracted from the Woodgrove Bank database. You will define <code>vendors</code> and <code>sows</code> as nodes in your graph and use <code>invoices</code> as the edge between them. Edges in graph databases define a one-to-one relationship between two entities, defined as nodes. The diagram below provides a high-level representation of the graph database.</p> <p></p> <p>Edges must include a mapping of related entities through ID mapping and can also include properties, which allow the relationship to be filtered at query time.</p>"},{"location":"06-Improve-RAG-Accuracy/07/#create-graph-database-with-agefreighter","title":"Create Graph Database with AGEFreighter","text":"<p>AGEFreighter is a Python library designed to simplify the process of creating and loading graph databases in Azure Database for PostgreSQL, allowing data to be ingested from various sources, including CSV file, Azure Cosmos DB, Neo4j, and Azure Database for PostgreSQL.</p>"},{"location":"06-Improve-RAG-Accuracy/07/#review-code","title":"Review code","text":"<p>The solution accelerator includes the <code>graph_loader.py</code> file in the <code>src/api/app</code> folder, which allows you to quickly run a Python script to create a graph database and populate it with data from CSV files.</p> <p>The graph loader is implemented in the <code>src/api/app/graph_loader.py</code> file. Open it now in Visual Studio Code and explore the code in sections. You can also expand the section below to see the code inline and review explanations for the code.</p> Graph Loader code src/api/app/graph_loader.py<pre><code>import os\nfrom agefreighter import Factory\nfrom dotenv import load_dotenv\nfrom azure.identity import DefaultAzureCredential\nfrom azure.storage.blob.aio import BlobServiceClient\n\nasync def main():\n    \"\"\"Load data into Azure Database for PostgreSQL Graph Database.\"\"\"\n    # Load environment variables from the .env file\n    load_dotenv()\n    print(\"Loading environment variables...\")\n\n    # Get environment variables\n    server = os.getenv(\"POSTGRESQL_SERVER_NAME\")\n    database = 'contracts'\n    username = os.getenv(\"ENTRA_ID_USERNAME\")\n    account_name = os.getenv(\"STORAGE_ACCOUNT_NAME\")\n\n    # Create an AGEFreigher factory instance to load data from multiple CSV files.\n    print(\"Creating AGEFreighter factory instance...\")\n    factory = Factory.create_instance('MultiCSVFreighter')\n\n    # Connect to the PostgreSQL database.\n    print(\"Connecting to the PostgreSQL database...\")\n    await factory.connect(\n        dsn=get_connection_string(server, database, username),\n        max_connections=64\n    )\n\n    local_data_dir = 'graph_data/'\n\n    # Download CSV data files from Azure Blob Storage\n    print(\"Downloading CSV files from Azure Blob Storage...\")\n    await download_csvs(account_name, local_data_dir)\n\n    # Load data into the graph database\n    print(\"Loading data into the graph database...\")\n    await factory.load(\n        graph_name='vendor_graph',\n        vertex_csv_paths = [\n            f'{local_data_dir}vendors.csv',\n            f'{local_data_dir}sows.csv'\n        ],\n        vertex_labels = ['vendor', 'sow'],\n        edge_csv_paths = [f'{local_data_dir}has_invoices.csv'],\n        edge_types = [\"has_invoices\"],\n        use_copy=True,\n        drop_graph=True,\n        create_graph=True,\n        progress=True\n    )\n\n    print(\"Graph data loaded successfully!\")\n\ndef get_connection_string(server_name: str, database_name: str, username: str):\n    \"\"\"Get the connection string for the PostgreSQL database.\"\"\"\n\n    # Get a token for the Azure Database for PostgreSQL server\n    credential = DefaultAzureCredential()\n    token = credential.get_token(\"https://ossrdbms-aad.database.windows.net\")\n    port = 5432\n\n    conn_str = \"host={} port={} dbname={} user={} password={}\".format(\n        server_name, port, database_name, username, token.token\n    )\n    return conn_str\n\nasync def download_csvs(account_name:str, local_data_directory: str):\n    \"\"\"Download CSV files from Azure Blob Storage.\"\"\"\n\n    # Create connection to the blob storage account\n    account_blob_endpoint = f\"https://{account_name}.blob.core.windows.net/\"\n    # Connect to the blob service client using Entra ID authentication\n    client = BlobServiceClient(account_url=account_blob_endpoint, credential=DefaultAzureCredential())\n\n    # List the blobs in the graph container with a CSV extension\n    async with client:\n        async for blob in client.get_container_client('graph').list_blobs():\n            if blob.name.endswith('.csv'):\n                # Download the CSV file to a local directory\n                await download_csv(client, blob.name, local_data_directory)\n\nasync def download_csv(client: BlobServiceClient, blob_path: str, local_data_dir: str):\n    \"\"\"Download a CSV file from Azure Blob Storage.\"\"\"\n    # Get the blob\n    blob_client = client.get_blob_client(container='graph', blob=blob_path)\n\n    async with blob_client:\n        # Download the CSV file\n        if await blob_client.exists():\n            # create a local directory if it does not exist\n            if not os.path.exists(local_data_dir):\n                os.makedirs(local_data_dir)\n\n            with open(f'{local_data_dir}{blob_path.split('/')[-1]}', 'wb') as file:\n                stream = await blob_client.download_blob()\n                result = await stream.readall()\n                # Save the CSV file to a local directory\n                file.write(result)\n\nif __name__ == \"__main__\":\n    import asyncio\n    import sys\n\n    if sys.platform == \"win32\":\n        asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())\n\n    asyncio.run(main())\n</code></pre> <ol> <li> <p>Import libraries (lines 1-5): Required classes and functions are imported from various libraries.</p> </li> <li> <p>Define <code>main</code> function (line 7): The <code>main</code> function is the entry point of the graph loader. This function serves as the orchestrator for executing the code within the file.</p> </li> <li> <p>Load environment variables (lines 10-17): The <code>load_dotenv()</code> method from the <code>dotenv</code> Python library allows variables from the <code>.env</code> file within the API project to be loaded as environment variables in the project. Note the names of the variables here, as you will be adding those to your <code>.env</code> file in the next step.</p> </li> <li> <p>Create an AGEFreighter factory (line 21): The entry point for the <code>agefreighter</code> package in the <code>factory</code> class. This method creates an instance of the library using the type specified. You are loading your graph using multiple CSV files, so the <code>MultiCSVFreighter</code> class type is indicated.</p> </li> <li> <p>Connect to PostgreSQL (lines 25-28): The <code>connect</code> method of the <code>factory</code> opens a connection to your Azure Database for PostgreSQL flexible server.</p> <ol> <li>The <code>get_connection_string()</code> function uses values from your environment variables to define the connection string the <code>factory</code> will use to connect to your database.</li> <li>The <code>get_connection_string()</code> function is defined on lines 55-66.</li> </ol> </li> <li> <p>Download CSV files from blob storage (line 34): The CSV files you created in the previous task are downloaded from blob storage and written into a local folder, where the graph loader can easily access them.</p> <ol> <li>The <code>download_csvs()</code> function is defined on lines 68-81. This function creates a <code>BlobServiceClient</code> instance, which is used to retrieve the blobs in your storage account's <code>graph</code> container.</li> <li>For each blob with the extension of <code>.csv</code>, the <code>download_csv</code> function defined on lines 83-99 is used to retrieve the blob's contents and write them into a local file.</li> </ol> </li> <li> <p>Create and load the graph database (lines 38-51): The <code>load</code> method of the <code>factory</code> does the following:</p> <ol> <li>Creates a graph named <code>vendor_graph</code>.</li> <li>Defines vertex (node) data and labels and inserts the nodes into the graph.</li> <li>Specifies edges using labels and inserts them to establish the relationships between the nodes.</li> </ol> </li> <li> <p>Define the main guard (lines 101-108): The main guard defines how the <code>graph_loader</code> is executed when called directly. This code block lets you run the script from a command line or VS Code debugging session.</p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/07/#update-env-file","title":"Update <code>.env</code> file","text":"<p>The <code>graph_loader.py</code> file references environment variables to retrieve information about your Azure Database for PostgreSQL flexible server instance, your Entra ID username, and the storage account from which to pull CSV files. Before executing the graph loader script, you must update your project's <code>.env</code> file with these values. The <code>.env</code> file can be found in the <code>src\\api\\app</code> folder of the repo.</p> <ol> <li> <p>In VS Code, navigate to the <code>src\\api\\app</code> folder in the Explorer panel.</p> </li> <li> <p>Open the <code>.env</code> file and add the following lines:</p> <p>Update your <code>.env</code> file!</p> <pre><code>ENTRA_ID_USERNAME=\"{YOUR_ENTRA_ID_USERNAME}\"\nPOSTGRESQL_SERVER_NAME=\"{YOUR_POSTGRESQL_SERVER_NAME}\"\nSTORAGE_ACCOUNT_NAME=\"{YOUR_STORAGE_ACCOUNT_NAME}\"\n</code></pre> Follow these steps to retrieve the necessary values <ol> <li> <p>Replace the <code>{YOUR_ENTRA_ID_USERNAME}</code> token in the <code>ENTRA_ID_USERNAME</code> variable's value with your Microsoft Entra ID, which should be the email address of the account you are using for this solution accelerator.</p> </li> <li> <p>Replace the <code>{YOUR_POSTGRESQL_SERVER_NAME}</code> token with the name of your PostgreSQL server. To get your server name:</p> </li> <li> <p>Navigate to your Azure Database for PostgreSQL flexible server resource in the Azure portal.</p> </li> <li> <p>In the Essentials panel of the PostgreSQL flexible server's Overview page, copy the Server name value and paste it into your <code>.env</code> file as the <code>POSTGRESQL_SERVER_NAME</code> value.</p> <p></p> </li> <li> <p>Replace the <code>{YOUR_STORAGE_ACCOUNT_NAME}</code> token with the name of your storage account. To retrieve your storage account name:</p> </li> <li> <p>In the Azure portal, navigate to the Storage account resource in your resource group.</p> </li> <li> <p>On the Storage account page, copy the storage account name and paste it into your <code>.env</code> file as the <code>STORAGE_ACCOUNT_NAME</code> value.</p> <p></p> </li> </ol> </li> <li> <p>Save the <code>.env</code> file.</p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/07/#load-the-graph-database","title":"Load the graph database","text":"<p>You will use a VS Code debugging session to locally execute the <code>graph_loader.py</code> script. Follow the steps below to start a Graph Loader debug session in VS Code.</p> <ol> <li> <p>In Visual Studio Code Run and Debug panel, select the Graph Loader option from the debug configurations dropdown list.</p> <p></p> </li> <li> <p>Select the Start Debugging button (or press F5 on your keyboard).</p> <p></p> </li> <li> <p>Wait for the graph loader to finish running, indicated by the <code>Graph data loaded successfully!</code> message in the terminal output.</p> <p></p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/07/#verify-data-load","title":"Verify data load","text":"<p>You will execute openCypher queries using pgAdmin to verify the data load and explore relationships in your graph database.</p> <ol> <li> <p>Return to pgAdmin and ensure it is connected to your PostgreSQL database.</p> </li> <li> <p>In the pgAdmin Object Explorer, expand databases under your PostgreSQL server.</p> </li> <li> <p>Right-click the contracts database and select Query Tool from the context menu.</p> </li> <li> <p>Before you can run cypher queries, you must set the <code>ag_catalog</code> schema in your path:</p> <p>Execute the following SQL commands in pgAdmin!</p> SQL<pre><code>SET search_path = ag_catalog, \"$user\", public;\n</code></pre> </li> <li> <p>Now, run the following cypher query to view vendors with open invoices, the details of those invoices, and verify your graph database was loaded correctly:</p> <p>Execute the following SQL commands in pgAdmin!</p> SQL<pre><code>-- View vendors and SOWs, along with invoice details from edge properties\nSELECT * FROM ag_catalog.cypher('vendor_graph', $$\nMATCH (v:vendor)-[rel:has_invoices]-&gt;(s:sow)\nRETURN v.id AS vendor_id, v.name AS vendor_name, s.id AS sow_id, s.number AS sow_number, rel.payment_status AS payment_status, rel.amount AS invoice_amount\n$$) as graph_query(vendor_id BIGINT, vendor_name TEXT, sow_id BIGINT, sow_number TEXT, payment_status TEXT, invoice_amount FLOAT);\n</code></pre> </li> </ol> <p>Congratulations! You have successfully loaded your graph database with data from PostgreSQL.</p>"},{"location":"06-Improve-RAG-Accuracy/08/","title":"6.8 Update Copilot With GraphRAG","text":"<p>The next step is to update your API to use GraphRAG for data retrieval. You will update how your copilot finds and retrieves unpaid invoices for this.</p>"},{"location":"06-Improve-RAG-Accuracy/08/#review-the-function","title":"Review the function","text":"<p>Following the function calling pattern used by your LangChain agent to retrieve data from the database, you will use a Python function to execute openCypher queries against your graph database from your copilot. Within the <code>src/api/app/functions/chat_functions.py</code> file, the <code>get_unpaid_invoices_for_vendor</code> function has been provided for executing cypher queries. Open it now in Visual Studio Code and explore the code with the function. You can also expand the section below to see the code inline.</p> GraphRAG code src/api/app/functions/chat_functions.py<pre><code>async def get_unpaid_invoices_for_vendor(self, vendor_id: int):\n    \"\"\"\n    Retrieves a list of unpaid invoices for a specific vendor using a graph query.\n    \"\"\"\n    # Define the graph query\n    graph_query = f\"\"\"SELECT * FROM ag_catalog.cypher('vendor_graph', $$\n    MATCH (v:vendor {{id: '{vendor_id}'}})-[rel:has_invoices]-&gt;(s:sow)\n    WHERE rel.payment_status &lt;&gt; 'Paid'\n    RETURN v.id AS vendor_id, v.name AS vendor_name, s.id AS sow_id, s.number AS sow_number, rel.id AS invoice_id, rel.number AS invoice_number, rel.payment_status AS payment_status\n    $$) as (vendor_id BIGINT, vendor_name TEXT, sow_id BIGINT, sow_number TEXT, invoice_id BIGINT, invoice_number TEXT, payment_status TEXT);\n    \"\"\"\n    rows = await self.__execute_graph_query(graph_query)\n    return [dict(row) for row in rows]\n</code></pre> <ol> <li> <p>Define grapy query (line 6): Creates the cypher query that will be used to look up unpaid invoices for the specified <code>vendor_id</code></p> </li> <li> <p>Execute cypher query (lines 12): The cyper query is sent to the database for execution, using the <code>__execute_graph_query()</code> function.</p> </li> <li> <p>The <code>__execute_graph_query()</code> function, starting on line 25 on the <code>chat_functions.py</code> file, runs the query against the <code>ag_catalog</code> schema, which contains the graph database. To enable this, it also includes a <code>SET</code> query prior to running the graph query to add <code>ag_catalog</code> to the <code>search_path</code> in the connection.</p> </li> <li> <p>Return the results (lines 13): The query results are extracted and returned to the LLM.</p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/08/#implement-graphrag","title":"Implement GraphRAG","text":"<p>To implement GraphRAG functionality in your copilot, you must include the <code>get_unpaid_invoices_for_vendor</code> function in your LangChain agent's <code>tools</code> collection. You will add this function to the list of available tools to your agent.</p> <ol> <li> <p>In the VS Code Explorer, navigate to the <code>src/api/app/routers</code> folder and open the <code>completions.py</code> file.</p> </li> <li> <p>Within the <code>tools</code> array, locate the following line (line 75):</p> Python<pre><code>StructuredTool.from_function(coroutine=cf.get_invoices),\n</code></pre> </li> <li> <p>Insert the following code on the line just below that:</p> <p>Insert the following Python code to add the GraphRAG function!</p> Python<pre><code>StructuredTool.from_function(coroutine=cf.get_unpaid_invoices_for_vendor),\n</code></pre> </li> <li> <p>Your new <code>tools</code> array should look like this:</p> Python<pre><code># Define tools for the agent to retrieve data from the database\ntools = [\n    # Hybrid search functions\n    StructuredTool.from_function(coroutine=cf.find_invoice_line_items),\n    StructuredTool.from_function(coroutine=cf.find_invoice_validation_results),\n    StructuredTool.from_function(coroutine=cf.find_milestone_deliverables),\n    StructuredTool.from_function(coroutine=cf.find_sow_chunks_with_semantic_ranking),\n    StructuredTool.from_function(coroutine=cf.find_sow_validation_results),\n    # Get invoice data functions\n    StructuredTool.from_function(coroutine=cf.get_invoice_id),\n    StructuredTool.from_function(coroutine=cf.get_invoice_line_items),\n    StructuredTool.from_function(coroutine=cf.get_invoice_validation_results),\n    StructuredTool.from_function(coroutine=cf.get_invoices),\n    StructuredTool.from_function(coroutine=cf.get_unpaid_invoices_for_vendor),\n    # Get SOW data functions\n    StructuredTool.from_function(coroutine=cf.get_sow_chunks),\n    StructuredTool.from_function(coroutine=cf.get_sow_id),\n    StructuredTool.from_function(coroutine=cf.get_sow_milestones),\n    StructuredTool.from_function(coroutine=cf.get_milestone_deliverables),\n    StructuredTool.from_function(coroutine=cf.get_sow_validation_results),\n    StructuredTool.from_function(coroutine=cf.get_sows),\n    # Get vendor data functions\n    StructuredTool.from_function(coroutine=cf.get_vendors)\n]\n</code></pre> </li> <li> <p>Save the <code>completions.py</code> file.</p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/08/#test-with-vs-code","title":"Test with VS Code","text":"<p>As you have done previously, you will test your updates using Visual Studio Code.</p>"},{"location":"06-Improve-RAG-Accuracy/08/#start-the-api","title":"Start the API","text":"<p>Follow the steps below to start a debug session for the API in VS Code.</p> <ol> <li> <p>In Visual Studio Code Run and Debug panel, select the API Debugger option for your OS from the debug configurations dropdown list.</p> <p></p> </li> <li> <p>Select the Start Debugging button (or press F5 on your keyboard).</p> <p></p> </li> <li> <p>Wait for the API application to start completely, indicated by an <code>Application startup complete.</code> message in the terminal output.</p> <p></p> </li> </ol>"},{"location":"06-Improve-RAG-Accuracy/08/#start-the-portal","title":"Start the Portal","text":"<p>With the API running, you can start a second debug session in VS Code for the Portal project.</p> <ol> <li> <p>Return to the Run and Debug panel in Visual Studio Code and select the Portal Debugger option from the debug configurations dropdown list.</p> <p></p> </li> <li> <p>Select the Start Debugging button (or press F5 on your keyboard).</p> <p></p> </li> <li> <p>This should launch the Woodgrove Bank Contract Management Portal in a new browser window (http://localhost:3000/).</p> </li> <li> <p>In the copilot chat on the Dashboard page, enter the following message and send it:</p> <p>Paste the following prompt into the copilot chat box!</p> <pre><code>Tell me about the accuracy of unpaid invoices from Adatum.\n</code></pre> </li> <li> <p>Observe the results provided using GraphRAG.</p> <p>GraphRAG improves accuracy</p> <p>Add a breakpoint in the <code>get_unpaid_invoices_for_vendor</code> function in the <code>chat_functions.py</code> file. The breakpoint will allow you to see the graph query executing and enable you to step through the remaining function calls to observe that the invoice validation results are only retrieved for the unpaid invoices. This precision reduces the data returned from the database and allows the RAG pattern to only receive the data it needs to generate a response.</p> </li> </ol> <p>Congratulations! You just learned how to leverage the GraphRAG capabilities of Azure Database for PostgreSQL and AGE!</p>"},{"location":"07-Redeploy/","title":"Redeploy App to Azure","text":"<p>The workshop began with a pre-provisioned version of the Woodgrove Bank Contract Management application on Azure Container Apps. Now that you have modified elements of the app and tested them out locally, you might want to redeploy the application.</p> <p>Because you used <code>azd</code> for provisioning and deployment, this is as simple as calling <code>azd up</code> (to push all changes in both infrastructure and application) or running <code>azd deploy</code> if you want only to rebuild and deploy the application changes you made in this project.</p> <p>Understand the difference between <code>azd up</code> and <code>azd deploy</code></p> <p>The <code>azd up</code> and <code>azd deploy</code> commands are both part of the Azure Developer CLI, but they serve different purposes:</p> <ul> <li> <p><code>azd up</code> is used to package, provision, and deploy your application to Azure. It sets up the entire environment, including infrastructure and application code, from scratch. It's typically used when you're starting a new project or making significant changes to your infrastructure.</p> </li> <li> <p><code>azd deploy</code> is used to update an existing deployment. It's helpful when making iterative changes to your application without needing to re-provision the entire environment. This command is ideal for continuous development and deployment scenarios where you frequently update your application.</p> </li> </ul> <p>In other words, use <code>azd up</code> when setting everything up from the beginning and <code>azd deploy</code> when updating an existing deployment.</p>"},{"location":"07-Redeploy/#deploy-the-updated-app","title":"Deploy the Updated App","text":"<p>To deploy the updated app, follow the steps below:</p> <ol> <li> <p>Open a new integrated terminal in Visual Studio Code.</p> </li> <li> <p>Ensure you are at the root of your repository.</p> </li> <li> <p>Execute this command to deploy your application with changes.</p> <p>Execute the following Azure Developer CLI command!</p> <pre><code>azd deploy\n</code></pre> </li> </ol>"},{"location":"07-Redeploy/#test-the-deployed-app","title":"Test the Deployed App","text":"<ol> <li> <p>In the Azure portal, return to the resource group containing your resources and select the Container app resource whose name begins with ca-portal.</p> <p></p> </li> <li> <p>In the Essentials section of the Portal Container App's Overview page, select the Application Url to open the deployed Woodgrove Bank Portal in a new browser tab.</p> <p></p> </li> <li> <p>In the Woodgrove Bank Contract Management Portal, select the Dashboard page and use the copilot to ask a few questions and verify that your app changes are live!</p> </li> </ol> <p>You made it! That was a lot to cover - but don't worry! Now that you have a fork of the repo, you can revisit ideas at your own pace! Before you go, there are some important cleanup tasks you need to do!!</p> <p>THANK YOU: Let's wrap up the session by cleaning up resources!</p>"},{"location":"Tear-Down/","title":"Cleanup Resources","text":""},{"location":"Tear-Down/#give-us-a-on-github","title":"Give us a \u2b50\ufe0f on GitHub","text":"<p>FOUND THIS WORKSHOP AND SAMPLE USEFUL? MAKE SURE YOU GET UPDATES.</p> <p>The Build Your Own Advanced AI Copilot with Postgres sample is an actively updated project that will reflect the latest features and best practices for code-first development of RAG-based copilots on the Azure AI platform. Visit the repo or click the button below, to give us a \u2b50\ufe0f.</p> <p> Give the PostgreSQL Solution Accelerator a Star!</p>"},{"location":"Tear-Down/#provide-feedback","title":"Provide Feedback","text":"<p>Have feedback that can help us make this lab better for others? Open an issue and let us know.</p>"},{"location":"Tear-Down/#clean-up","title":"Clean-up","text":"<p>Once you have completed this workshop, delete the Azure resources you created. You are charged for the configured capacity, not how much the resources are used. Follow these instructions to delete your resource group and all resources you created for this solution accelerator.</p> <ol> <li> <p>In VS Code, open a new integrated terminal prompt.</p> </li> <li> <p>At the terminal prompt, execute the following command to delete the resources created by the deployment script:</p> <p>Execute the following Azure Developer CLI command to delete resources!</p> <pre><code>azd down --purge\n</code></pre> <p>The <code>--purge</code> flag purges the resources that provide soft-delete functionality in Azure, including Azure KeyVault and Azure OpenAI. This flag is required to remove all resources completely.</p> </li> <li> <p>In the terminal window, you will be shown a list of the resources that will be deleted and prompted about continuing. Enter \"y\" at the prompt to being the resource deletion.</p> </li> </ol>"},{"location":"Tear-Down/#persist-changes-to-github","title":"Persist changes to GitHub","text":"<p>If you want to save any changes you have made to files, use the Source Control tool in VS Code to commit and push your changes to your fork of the GitHub repo.</p>"},{"location":"ja/","title":"\u59cb\u3081\u308b\u524d\u306b","text":"<p>\u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001Azure Database for PostgreSQL \u3068 Azure AI Services \u4e0a\u306b\u69cb\u7bc9\u3055\u308c\u305f AI \u5bfe\u5fdc\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3057\u305f\u3044\u958b\u767a\u8005\u306e\u305f\u3081\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u304a\u3088\u3073\u5b66\u7fd2\u30c4\u30fc\u30eb\u3068\u3057\u3066\u6a5f\u80fd\u3057\u307e\u3059\u3002Woodgrove Bank \u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u3001Azure AI \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u4e0a\u3067\u306e AI \u5bfe\u5fdc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304a\u3088\u3073 RAG \u30d9\u30fc\u30b9\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u958b\u767a\u306b\u304a\u3051\u308b\u6700\u65b0\u306e\u6a5f\u80fd\u3068\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3092\u53cd\u6620\u3059\u308b\u3001\u7a4d\u6975\u7684\u306b\u66f4\u65b0\u3055\u308c\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002</p> <p>\u3053\u306e\u30ac\u30a4\u30c9\u3092\u5b8c\u4e86\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u304c\u5fc5\u8981\u3067\u3059\uff1a</p> <ul> <li> \u3054\u81ea\u8eab\u306e GitHub \u30a2\u30ab\u30a6\u30f3\u30c8 \u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 - \u7121\u6599\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059</li> <li> \u3054\u81ea\u8eab\u306e Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3 \u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 - \u7121\u6599\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059</li> <li> Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306b \u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3059\u308b \u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 - \u8a73\u7d30\u306a\u624b\u9806\u3068 Bicep \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b9\u30af\u30ea\u30d7\u30c8 \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059</li> <li> \u3054\u81ea\u8eab\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf \u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059</li> <li> \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b \u958b\u767a\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b \u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 - \u8a73\u7d30\u306a\u624b\u9806\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059</li> </ul>"},{"location":"ja/01-Introduction/","title":"\u306f\u3058\u3081\u306b","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u306f\u3001\u91d1\u878d\u30b5\u30fc\u30d3\u30b9\u696d\u754c\u5411\u3051\u306eAI\u5bfe\u5fdc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u306e\u4f8b\u3068\u3057\u3066\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002AI\u99c6\u52d5\u306e\u30c7\u30fc\u30bf\u691c\u8a3c\u3001\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3001Azure Database for PostgreSQL\u4e0a\u306eGraphRAG\u3092\u7528\u3044\u3066\u65e2\u5b58\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5316\u3059\u308b\u305f\u3081\u306e\u751f\u6210AI\u6a5f\u80fd\u306e\u5b9f\u88c5\u3092\u793a\u3057\u3001\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u901a\u3058\u3066\u91d1\u878d\u306b\u95a2\u3059\u308b\u8cea\u554f\u306b\u9ad8\u54c1\u8cea\u306a\u56de\u7b54\u3092\u63d0\u4f9b\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u306f\u3001\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u3068\u8acb\u6c42\u66f8\u3067\u69cb\u6210\u3055\u308c\u305f\u5c0f\u3055\u306a\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059: http://aka.ms/pg-byoac-repo/.</p> <p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059:</p> <p></p>"},{"location":"ja/01-Introduction/#_2","title":"\u72ec\u81ea\u30c7\u30fc\u30bf\u3092\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u6301\u3061\u8fbc\u3080","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u306f\u3001\u30c7\u30e2\u30f3\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u76ee\u7684\u3067\u63d0\u4f9b\u3055\u308c\u305f\u30b5\u30f3\u30d7\u30eb\u306e\u30d9\u30f3\u30c0\u30fc\u3001SOW\u3001\u304a\u3088\u3073\u8acb\u6c42\u66f8\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u305f\u308a\u3001\u65e2\u5b58\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u62e1\u5f35\u3057\u305f\u308a\u3059\u308b\u5834\u5408\u306f\u3001\u7279\u5b9a\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u9069\u7528\u53ef\u80fd\u306a\u5834\u5408\u3001\u30ab\u30b9\u30bf\u30e0\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u7d71\u5408\u3059\u308b\u305f\u3081\u306b\u8abf\u6574\u304c\u5fc5\u8981\u306a\u4e3b\u8981\u306a\u9818\u57df\u3092\u793a\u3059\u30ce\u30fc\u30c8\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/01-Introduction/#_3","title":"\u5b66\u7fd2\u76ee\u6a19","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u306e\u76ee\u6a19\u306f\u3001Azure Database for PostgreSQL\u3068Azure AI Services\u3092\u4f7f\u7528\u3057\u3066\u65e2\u5b58\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8c4a\u5bcc\u306aAI\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5\u3092\u6559\u3048\u308b\u3053\u3068\u3067\u3059\u3002\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u8fbc\u307f\u4e2d\u306b\u9ad8\u5ea6\u306aAI\u691c\u8a3c\u3092\u7d71\u5408\u3057\u3001\u8acb\u6c42\u66f8\u306a\u3069\u306e\u91d1\u878d\u6587\u66f8\u304c\u95a2\u9023\u3059\u308b\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\u3068\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u5b9f\u8df5\u7684\u306a\u7d4c\u9a13\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Azure OpenAI\u3092\u6d3b\u7528\u3057\u3066\u5805\u7262\u306a\u30c7\u30fc\u30bf\u691c\u8a3c\u3092\u884c\u3044\u3001Azure Document Intelligence\u3092\u4f7f\u7528\u3057\u3066\u5305\u62ec\u7684\u306a\u62bd\u51fa\u3068\u5206\u6790\u3092\u884c\u3046\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u54c1\u8cea\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30c1\u30e3\u30c3\u30c8\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30d9\u30f3\u30c0\u30fc\u306e\u8acb\u6c42\u7cbe\u5ea6\u3001\u30bf\u30a4\u30e0\u30ea\u30fc\u3055\u3001\u54c1\u8cea\u306b\u3064\u3044\u3066\u6df1\u3044\u6d1e\u5bdf\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u5305\u62ec\u7684\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u91d1\u878d\u30b5\u30fc\u30d3\u30b9\u696d\u754c\u3067\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3068\u4fe1\u983c\u6027\u3092\u5411\u4e0a\u3055\u305b\u308bAI\u5f37\u5316\u6a5f\u80fd\u3092\u65e2\u5b58\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u8ffd\u52a0\u3059\u308b\u30b9\u30ad\u30eb\u3092\u8eab\u306b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u3092\u5b8c\u4e86\u3059\u308b\u3053\u3068\u3067\u3001\u4ee5\u4e0b\u3092\u5b66\u3076\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <ul> <li>Azure AI \u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3001\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u5408\u7406\u5316\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u691c\u8a3c\u30bf\u30b9\u30af\u3092\u81ea\u52d5\u5316\u3057\u307e\u3059\u3002</li> <li>Azure AI \u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3001Azure Database for PostgreSQL \u30d9\u30fc\u30b9\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u751f\u6210 AI \u6a5f\u80fd\u3092\u7d71\u5408\u3057\u307e\u3059\u3002</li> <li>\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3067\u691c\u7d22\u5f37\u5316\u751f\u6210 (RAG) \u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059 \uff08\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u306b\u57fa\u3065\u3044\u3066\u5fdc\u7b54\u3092\u884c\u3046\u305f\u3081\uff09\u3002</li> <li>Azure Container Apps \u3092\u4f7f\u7528\u3057\u3066\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059 \uff08\u5b9f\u969b\u306e\u4f7f\u7528\u306e\u305f\u3081\u306b\u30db\u30b9\u30c8\u3055\u308c\u305f UI \u304a\u3088\u3073 API \u30a2\u30d7\u30ea\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\uff09\u3002</li> <li>Azure Developer CLI \u3092 AI \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u5171\u306b\u4f7f\u7528\u3057\u307e\u3059 \uff08\u30c1\u30fc\u30e0\u5168\u4f53\u3067\u30a2\u30d7\u30ea\u3092\u4e00\u8cab\u3057\u3066\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u304a\u3088\u3073\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\uff09</li> </ul>"},{"location":"ja/01-Introduction/#_4","title":"\u5b66\u7fd2\u30ea\u30bd\u30fc\u30b9","text":"<ol> <li>Azure Database for PostgreSQL - Flexible Server | \u6982\u8981</li> <li>Azure Database for PostgreSQL - Flexible Server \u306b\u304a\u3051\u308b\u751f\u6210 AI | \u6982\u8981</li> <li>PostgreSQL \u7528 Azure AI \u62e1\u5f35\u6a5f\u80fd | Azure AI \u306e\u7d71\u5408\u65b9\u6cd5</li> <li>Azure AI Foundry  | \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u00b7 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u00b7 SDK \u00b7  \u8a55\u4fa1</li> <li>Azure Container Apps  | Azure Container Apps \u00b7 \u30b3\u30fc\u30c9\u304b\u3089\u30c7\u30d7\u30ed\u30a4</li> <li>\u8cac\u4efb\u3042\u308b AI  | \u6982\u8981 \u00b7 AI \u30b5\u30fc\u30d3\u30b9\u3068\u5171\u306b \u00b7 Azure AI \u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u5b89\u5168\u6027</li> </ol>"},{"location":"ja/01-Introduction/01-App-Scenario/","title":"1.1 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b7\u30ca\u30ea\u30aa","text":""},{"location":"ja/01-Introduction/01-App-Scenario/#_1","title":"\u91d1\u878d\u30b5\u30fc\u30d3\u30b9\u306b\u304a\u3051\u308b\u5951\u7d04\u691c\u8a3c\u306e\u52b9\u7387\u5316","text":"<p>\u91d1\u878d\u30b5\u30fc\u30d3\u30b9\u696d\u754c\u3067\u306f\u3001\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u3084\u8acb\u6c42\u66f8\u306a\u3069\u306e\u5951\u7d04\u95a2\u9023\u6587\u66f8\u306e\u691c\u8a3c\u306b\u7279\u6709\u306e\u8ab2\u984c\u304c\u3042\u308a\u307e\u3059\u3002\u7279\u306b\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u30d9\u30fc\u30b9\u306e\u652f\u6255\u3044\u3068\u7279\u5b9a\u306e\u6210\u679c\u7269\u306b\u95a2\u3057\u3066\u3001\u8acb\u6c42\u66f8\u304cSOW\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u306f\u3001\u7d30\u5fc3\u306e\u6ce8\u610f\u3092\u8981\u3059\u308b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3084\u3059\u3044\u30d7\u30ed\u30bb\u30b9\u3067\u3059\u3002\u5f93\u6765\u3001\u3053\u306e\u691c\u8a3c\u306f\u624b\u52d5\u3067\u306e\u6bd4\u8f03\u3068\u30af\u30ed\u30b9\u30c1\u30a7\u30c3\u30af\u3092\u4f34\u3044\u3001\u3057\u3070\u3057\u3070\u9045\u5ef6\u3001\u30a8\u30e9\u30fc\u3001\u904b\u7528\u30b3\u30b9\u30c8\u306e\u5897\u52a0\u3092\u5f15\u304d\u8d77\u3053\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306f\u3001Azure Database for PostgreSQL - Flexible\u3068Azure\u306e\u5305\u62ec\u7684\u306aAI\u30b5\u30fc\u30d3\u30b9\u30b9\u30a4\u30fc\u30c8\u3092\u6d3b\u7528\u3057\u3066\u3001\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u81ea\u52d5\u5316\u3057\u52b9\u7387\u5316\u3059\u308b\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u3001\u3088\u308a\u8fc5\u901f\u3067\u6b63\u78ba\u304b\u3064\u30b3\u30b9\u30c8\u52b9\u679c\u306e\u9ad8\u3044\u8acb\u6c42\u66f8\u691c\u8a3c\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306f\u3001\u65e2\u5b58\u306e\u91d1\u878d\u30b5\u30fc\u30d3\u30b9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Azure Database for PostgreSQL\u306b\u9ad8\u5ea6\u306aAI\u6a5f\u80fd\u3092\u7d71\u5408\u3057\u3001Azure AI\u62e1\u5f35\u6a5f\u80fd\u3092\u901a\u3058\u3066\u5f37\u5316\u3057\u3001Azure OpenAI\u306eGPT-4\u30e2\u30c7\u30eb\u3092\u7d44\u307f\u8fbc\u3093\u3067\u5951\u7d04\u95a2\u9023\u6587\u66f8\u3092\u691c\u8a3c\u304a\u3088\u3073\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3059\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> \u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059\u304b\uff1f <p>\u63d0\u4f9b\u3055\u308c\u305f\u30b7\u30ca\u30ea\u30aa\u3067\u306f\u3001\u4e8b\u524d\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u30d9\u30f3\u30c0\u30fc\u3001SOW\u3001\u304a\u3088\u3073\u8acb\u6c42\u66f8\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u9069\u5fdc\u53ef\u80fd\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3089\u3092\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u7f6e\u304d\u63db\u3048\u3066\u3001\u7279\u5b9a\u306e\u30d3\u30b8\u30cd\u30b9\u30cb\u30fc\u30ba\u306b\u3088\u308a\u9069\u5408\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8abf\u6574\u304c\u5fc5\u8981\u306a\u4e3b\u8981\u306a\u30b9\u30c6\u30c3\u30d7\u306f\u3001\u30ac\u30a4\u30c9\u5168\u4f53\u3067\u5f37\u8abf\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/01-Introduction/01-App-Scenario/#woodgrove-bank","title":"Woodgrove Bank\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb","text":"<p>Woodgrove Bank \u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b9\u30bf\u30fc\u30bf\u30fc\u30b3\u30fc\u30c9\u3068\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u30ab\u30b9\u30bf\u30e0\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3068\u7d71\u5408\u3055\u308c\u305f\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u30e6\u30fc\u30b6\u30fc\u30dd\u30fc\u30bf\u30eb\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3092\u901a\u3058\u3066Azure AI\u30b5\u30fc\u30d3\u30b9\u3092\u7d71\u5408\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5316\u3057\u307e\u3059\u3002\u4e3b\u8981\u306a\u30b9\u30c6\u30c3\u30d7\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\uff1a</p> <ol> <li>Azure Database for PostgreSQL\u3078\u306e\u751f\u6210AI\uff08GenAI\uff09\u6a5f\u80fd\u306e\u7d71\u5408: Azure AI <code>azure_ai</code> \u304a\u3088\u3073 pgvector (<code>vector</code>) \u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u9ad8\u5ea6\u306aGenAI\u304a\u3088\u3073\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u6a5f\u80fd\u3067\u62e1\u5f35\u3057\u307e\u3059\u3002</li> <li>AI\u306b\u3088\u308b\u30c7\u30fc\u30bf\u691c\u8a3c\u306e\u81ea\u52d5\u5316: Azure Document Intelligence\u3068Azure AI\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3001AI\u99c6\u52d5\u306e\u81ea\u52d5\u5316\u3055\u308c\u305f\u30c7\u30fc\u30bf\u691c\u8a3c\u3067\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u30d7\u30ed\u30bb\u30b9\u3092\u5f37\u5316\u3057\u307e\u3059\u3002</li> <li>\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u69cb\u7bc9: Azure OpenAI\u3068Azure Database for PostgreSQL - Flexible Server\u3092\u4f7f\u7528\u3057\u3066\u3001\u4f01\u696d\u304c\u4fdd\u6301\u3059\u308b\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30c7\u30fc\u30bf\u306b\u57fa\u3065\u3044\u305f\u5fdc\u7b54\u3092\u4fdd\u8a3c\u3059\u308bRetrieval Augmented Generation\uff08RAG\uff09\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u7d44\u307f\u8fbc\u3093\u3060\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>GraphRAG\u6a5f\u80fd\u306e\u8ffd\u52a0: PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001Apache AGE (<code>age</code>) \u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u76f8\u4e92\u63a5\u7d9a\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u5206\u6790\u3059\u308b\u305f\u3081\u306e\u5305\u62ec\u7684\u306a\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</li> </ol> <p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u306f\u3001\u91d1\u878d\u30b5\u30fc\u30d3\u30b9\u696d\u754c\u306b\u304a\u3051\u308b\u5951\u7d04\u95a2\u9023\u6587\u66f8\u306e\u691c\u8a3c\u3092\u81ea\u52d5\u5316\u3057\u3001\u52b9\u7387\u5316\u3059\u308b\u305f\u3081\u306b\u3001Microsoft Azure\u306eAI\u30b5\u30fc\u30d3\u30b9\u3092\u6d3b\u7528\u3057\u3066\u65e2\u5b58\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306bAI\u6a5f\u80fd\u3092\u7d71\u5408\u3059\u308b\u65b9\u6cd5\u3092\u6559\u3048\u308b\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u7d71\u5408\u306b\u3088\u308a\u3001\u3088\u308a\u8fc5\u901f\u3067\u6b63\u78ba\u304b\u3064\u30b3\u30b9\u30c8\u52b9\u7387\u306e\u9ad8\u3044\u30d7\u30ed\u30bb\u30b9\u304c\u5b9f\u73fe\u3057\u307e\u3059\u3002\u3055\u3089\u306b\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306f\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u652f\u63f4\u3092\u63d0\u4f9b\u3057\u3001Azure Database for PostgreSQL\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304b\u3089\u5b9f\u7528\u7684\u306a\u6d1e\u5bdf\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u5168\u4f53\u7684\u306a\u4f53\u9a13\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</p>"},{"location":"ja/01-Introduction/02-App-Architecture/","title":"1.2 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3","text":"<p>Woodgrove Bank Contract Management \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u8acb\u6c42\u66f8\u3084SOW\u304b\u3089\u306e\u30c7\u30fc\u30bf\u306e\u62bd\u51fa\u3001\u691c\u8a3c\u3001\u4fdd\u5b58\u3092\u81ea\u52d5\u5316\u3057\u3001\u624b\u4f5c\u696d\u3092\u6700\u5c0f\u9650\u306b\u6291\u3048\u3001\u904b\u7528\u52b9\u7387\u3092\u5411\u4e0a\u3055\u305b\u308b\u3068\u540c\u6642\u306b\u3001\u5185\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30e6\u30fc\u30b6\u30fc\u304c\u30c7\u30fc\u30bf\u304b\u3089\u5b9f\u7528\u7684\u306a\u6d1e\u5bdf\u3092\u5f97\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u5408\u7406\u5316\u3055\u308c\u305f\u30d5\u30ed\u30fc\u306b\u7126\u70b9\u3092\u5f53\u3066\u308b\u3053\u3068\u3067\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u9762\u5012\u306a\u4f5c\u696d\u3092\u52b9\u679c\u7684\u306b\u81ea\u52d5\u5316\u3057\u3001\u30a8\u30e9\u30fc\u3092\u6e1b\u3089\u3057\u3001\u5185\u90e8\u30e6\u30fc\u30b6\u30fc\u306b\u8cb4\u91cd\u306a\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3057\u3001\u5168\u4f53\u7684\u306a\u904b\u7528\u52b9\u7387\u3068\u610f\u601d\u6c7a\u5b9a\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</p> \u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059\u304b\uff1f <p>\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306f\u67d4\u8edf\u6027\u3092\u6301\u3063\u3066\u8a2d\u8a08\u3055\u308c\u3066\u304a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3092\u8d85\u3048\u3066\u30ab\u30b9\u30bf\u30e0\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u9069\u5fdc\u3067\u304d\u307e\u3059\u3002\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u4e88\u5b9a\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u4e92\u63db\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u3001\u30c7\u30fc\u30bf\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3001\u304a\u3088\u3073\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6226\u7565\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u5408\u7406\u5316\u3059\u308b\u305f\u3081\u306e\u63a8\u5968\u5909\u66f4\u3068\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u306e\u30ac\u30a4\u30c0\u30f3\u30b9\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3092\u901a\u3058\u3066\u3001AI\u6a5f\u80fd\u3092\u5099\u3048\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5316\u3057\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001UX\uff08\u30e6\u30fc\u30b6\u30fc\u30a8\u30af\u30b9\u30da\u30ea\u30a8\u30f3\u30b9\uff09\u3092\u63d0\u4f9b\u3059\u308bReact\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff08SPA\uff09\u3001FastAPI\u3092\u4f7f\u7528\u3057\u3066Python\u3067\u66f8\u304b\u308c\u305f\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3001\u304a\u3088\u3073\u3055\u307e\u3056\u307e\u306aAzure\u30b5\u30fc\u30d3\u30b9\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u6b21\u306e\u9ad8\u30ec\u30d9\u30eb\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p></p> <p>\u5206\u96e2\u3055\u308c\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3</p> <p>\u30a2\u30d7\u30ea\u6a5f\u80fd\u3092\u5c02\u7528\u306eUI\u3068\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u306b\u5206\u96e2\u3059\u308b\u3053\u3068\u306b\u306f\u3044\u304f\u3064\u304b\u306e\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u6027\u3068\u4fdd\u5b88\u6027\u304c\u5411\u4e0a\u3057\u3001UI\u307e\u305f\u306f\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092\u72ec\u7acb\u3057\u3066\u66f4\u65b0\u3067\u304d\u3001\u4ed6\u65b9\u3092\u4e2d\u65ad\u3055\u305b\u308b\u3053\u3068\u306a\u304f\u884c\u3048\u307e\u3059\u3002React\u3068Node.js\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u3092\u7c21\u7d20\u5316\u3059\u308b\u76f4\u611f\u7684\u3067\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3057\u3001FastAPI\u3092\u6d3b\u7528\u3057\u305fPython API\u306f\u9ad8\u6027\u80fd\u3067\u975e\u540c\u671f\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u3068\u30c7\u30fc\u30bf\u51e6\u7406\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002\u3053\u306e\u5206\u96e2\u306f\u307e\u305f\u3001\u7570\u306a\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8907\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u5c55\u958b\u3067\u304d\u308b\u305f\u3081\u3001\u30ea\u30bd\u30fc\u30b9\u4f7f\u7528\u3092\u6700\u9069\u5316\u3057\u3001\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u3092\u4fc3\u9032\u3057\u307e\u3059\u3002\u3055\u3089\u306b\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u304c\u6a5f\u5bc6\u30c7\u30fc\u30bf\u3068\u8a8d\u8a3c\u3092\u5225\u3005\u306b\u51e6\u7406\u3067\u304d\u308b\u305f\u3081\u3001UI\u5c64\u3067\u306e\u8106\u5f31\u6027\u306e\u9732\u51fa\u30ea\u30b9\u30af\u3092\u6e1b\u3089\u3057\u3001\u3088\u308a\u826f\u3044\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u3001\u3088\u308a\u5805\u7262\u3067\u52b9\u7387\u7684\u3001\u304b\u3064\u30e6\u30fc\u30b6\u30fc\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3064\u306a\u304c\u308a\u307e\u3059\u3002</p>"},{"location":"ja/01-Introduction/02-App-Architecture/#_1","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc","text":"<p>\u4ee5\u4e0b\u306e\u30bf\u30d6\u3092\u9078\u629e\u3057\u3066\u3001Woodgrove Bank \u5951\u7d04\u7ba1\u7406\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3051\u308b\u30c7\u30fc\u30bf\u306e\u6d41\u308c\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u5b66\u3073\u307e\u3057\u3087\u3046\uff01</p> \u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u3068AI\u51e6\u7406RAG\u3092\u4f7f\u7528\u3057\u305fAI\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8 <p>\u81ea\u52d5\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u3068AI\u691c\u8a3c\u30d7\u30ed\u30bb\u30b9\u306e\u4ed5\u7d44\u307f</p> <p>\u5185\u90e8\u30e6\u30fc\u30b6\u30fc\u3068\u5916\u90e8\u30d9\u30f3\u30c0\u30fc\u306f\u3001\u76f4\u611f\u7684\u306a\u30d6\u30e9\u30a6\u30b6\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u901a\u3058\u3066\u3001\u65b0\u3057\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3001SOW\u3001\u304a\u3088\u3073\u8acb\u6c42\u66f8\u3092\u30b7\u30b9\u30c6\u30e0\u306b\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001\u3053\u308c\u3089\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5185\u306e\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u304a\u3088\u3073\u691c\u8a3c\u3059\u308b\u81ea\u52d5\u30d7\u30ed\u30bb\u30b9\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\u62bd\u51fa\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3068\u691c\u8a3c\u7d50\u679c\u306fUI\u3067\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u3055\u308c\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30ec\u30d3\u30e5\u30fc\u3084\u66f4\u65b0\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p></p> <ol> <li> <p>SOW\u3001\u8acb\u6c42\u66f8\u3001\u304a\u3088\u3073\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3001Woodgrove Bank \u5951\u7d04\u7ba1\u7406\u30dd\u30fc\u30bf\u30eb\u3092\u4ecb\u3057\u3066\u53d6\u308a\u8fbc\u307e\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3092\u901a\u3058\u3066\u30a2\u30af\u30bb\u30b9\u3055\u308c\u308bReact\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff08SPA\uff09\u3067\u3059\u3002\u5185\u90e8\u30e6\u30fc\u30b6\u30fc\u3068\u5916\u90e8\u30d9\u30f3\u30c0\u30fc\u306f\u3001\u30dd\u30fc\u30bf\u30eb\u3092\u901a\u3058\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u63d0\u51fa\u3067\u304d\u307e\u3059\u3002</p> </li> <li> <p>SPA\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u306f\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u306e<code>/documents</code>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u76f4\u63a5\u9001\u4fe1\u3057\u307e\u3059\u3002</p> </li> <li> <p>Azure Container App (ACA) \u3068\u3057\u3066\u30db\u30b9\u30c8\u3055\u308c\u3066\u3044\u308bAPI\u306f\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092Azure Blob\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> <ol> <li> <p>Blob\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u5143\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u3067\u3001\u751f\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3067\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u51e6\u7406\u30a8\u30e9\u30fc\u304c\u691c\u51fa\u3055\u308c\u305f\u5834\u5408\u3084\u30b7\u30b9\u30c6\u30e0\u8981\u4ef6\u304c\u5909\u66f4\u3055\u308c\u305f\u5834\u5408\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u7c21\u5358\u306b\u518d\u51e6\u7406\u3067\u304d\u307e\u3059\u3002</p> </li> </ol> </li> <li> <p>\u65b0\u3057\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304cBlob\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u8ffd\u52a0\u3055\u308c\u308b\u3068\u3001API\u4e0a\u306e\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u30d7\u30ed\u30bb\u30b9\u304c\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</p> <ol> <li> <p>\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u30d7\u30ed\u30bb\u30b9\u306f\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092Azure AI Document Intelligence\u30b5\u30fc\u30d3\u30b9\u306b\u9001\u4fe1\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u306e\u62bd\u51fa\u3068\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002</p> </li> <li> <p>Document Intelligence\u30b5\u30fc\u30d3\u30b9\u5185\u306eAI\u30e2\u30c7\u30eb\u306f\u3001\u652f\u6255\u3044\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u3001\u671f\u65e5\u3001\u8acb\u6c42\u984d\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u8a73\u7d30\u306a\u3069\u3001\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u62bd\u51fa\u3059\u308b\u3088\u3046\u306b\u8abf\u6574\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30e2\u30c7\u30eb\u306f\u3001\u8ca1\u52d9\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u69cb\u9020\u3092\u8a8d\u8b58\u3059\u308b\u3088\u3046\u306b\u8a13\u7df4\u3055\u308c\u3066\u304a\u308a\u3001\u30c7\u30fc\u30bf\u62bd\u51fa\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</p> </li> <li> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30b9\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30c1\u30e3\u30f3\u30af\u6a5f\u80fd\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u69cb\u9020\u3092\u8a8d\u8b58\u3057\u3001\u898b\u51fa\u3057\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3057\u3001\u6bb5\u843d\u3084\u6587\u306a\u3069\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u306a\u4e00\u8cab\u6027\u306b\u57fa\u3065\u3044\u3066\u30b3\u30f3\u30c6\u30f3\u30c4\u672c\u4f53\u3092\u30c1\u30e3\u30f3\u30af\u5316\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001RAG\u30d1\u30bf\u30fc\u30f3\u30af\u30a8\u30ea\u3067\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u30c1\u30e3\u30f3\u30af\u306e\u54c1\u8cea\u304c\u5411\u4e0a\u3057\u307e\u3059\u3002</p> </li> </ol> </li> <li> <p>\u62bd\u51fa\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c7\u30fc\u30bf\u306f\u3001API\u306b\u3088\u3063\u3066Azure Database for PostgreSQL\u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u30b5\u30fc\u30d0\u30fc\u306b\u5b89\u5168\u306b\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u633f\u5165\u6587\u306e\u4e00\u90e8\u3068\u3057\u3066\u3001<code>azure_ai</code>\u62e1\u5f35\u6a5f\u80fd\u306eGenAI\u6a5f\u80fd\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\uff1a</p> <ol> <li> <p>Azure OpenAI\u306e<code>text-embedding-ada-002</code>\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c1\u30e3\u30f3\u30af\u306e\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> </li> <li> <p>Azure AI Language\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3001SOW\u306e\u62bd\u51fa\u8981\u7d04\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> </li> </ol> </li> <li> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c7\u30fc\u30bf\u306f\u3001Document Intelligence\u306b\u3088\u3063\u3066\u62bd\u51fa\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u5206\u6790\u3059\u308bAzure OpenAI\u3092\u4f7f\u7528\u3057\u305fAPI\u4e0a\u306eAI\u99c6\u52d5\u30c7\u30fc\u30bf\u691c\u8a3c\u30d7\u30ed\u30bb\u30b9\u3092\u901a\u3058\u3066\u9001\u4fe1\u3055\u308c\u3001\u671f\u5f85\u3055\u308c\u308b\u57fa\u6e96\u306b\u6e96\u62e0\u3057\u3001\u30b7\u30b9\u30c6\u30e0\u5185\u306e\u95a2\u9023\u30c7\u30fc\u30bf\u306b\u57fa\u3065\u3044\u3066\u6b63\u78ba\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <ol> <li> <p>Azure OpenAI\u306eGPT-4o\u8a00\u8a9e\u30e2\u30c7\u30eb\u306f\u3001\u81ea\u7136\u8a00\u8a9e\u7406\u89e3\u3092\u7528\u3044\u3066\u60c5\u5831\u3092\u691c\u8a3c\u304a\u3088\u3073\u30af\u30ed\u30b9\u30c1\u30a7\u30c3\u30af\u3057\u3001\u9ad8\u3044\u30c7\u30fc\u30bf\u6574\u5408\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u3001\u3059\u3079\u3066\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c7\u30fc\u30bf\u3092\u30ec\u30d3\u30e5\u30fc\u3057\u307e\u3059\u3002</p> </li> <li> <p>RAG\u30d1\u30bf\u30fc\u30f3\u306f\u3001\u8acb\u6c42\u66f8\u3068SOW\u9593\u306e\u30c7\u30fc\u30bf\u3092\u30af\u30ed\u30b9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3057\u3001\u652f\u6255\u3044\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u5b8c\u4e86\u3068\u8acb\u6c42\u3092\u8a55\u4fa1\u3057\u3001\u652f\u6255\u3044\u9045\u5ef6\u306a\u3069\u306e\u554f\u984c\u3092\u9632\u304e\u307e\u3059\u3002\u307e\u305f\u3001\u5951\u7d04\u66f8\u3084SOW\u306b\u9069\u5207\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30bb\u30af\u30b7\u30e7\u30f3\u3068\u5fc5\u8981\u306a\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u8a00\u8a9e\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u691c\u8a3c\u3057\u3001\u4e0d\u5b8c\u5168\u306a\u5951\u7d04\u3084\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u9055\u53cd\u3092\u56de\u907f\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> </li> </ol> </li> <li> <p>\u30c7\u30fc\u30bf\u691c\u8a3c\u7d50\u679c\u306f\u3001\u5206\u6790\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3068\u3068\u3082\u306bAzure Database for PostgreSQL\u306b\u5b89\u5168\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u691c\u8a3c\u7d50\u679c\u306f\u3001<code>azure_ai</code>\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u633f\u5165\u6642\u306b\u30d9\u30af\u30c8\u30eb\u5316\u3055\u308c\u307e\u3059\u3002</p> </li> </ol> <p>\u30ab\u30b9\u30bf\u30e0\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u4f53\u9a13\u306e\u4ed5\u7d44\u307f</p> <p>\u5185\u90e8\u30e6\u30fc\u30b6\u30fc\u306f\u3001\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u62e1\u5f35\u751f\u6210\uff08RAG\uff09\u30d1\u30bf\u30fc\u30f3\u3092\u63a1\u7528\u3057\u305f\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u901a\u3058\u3066\u64cd\u4f5c\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306f\u5951\u7d04\u30c7\u30fc\u30bf\u306b\u95a2\u3059\u308b\u8cea\u554f\u3092\u884c\u3044\u3001\u30d9\u30f3\u30c0\u30fc\u5951\u7d04\u306e\u5c65\u884c\u72b6\u6cc1\u3084\u8acb\u6c42\u306e\u6b63\u78ba\u6027\u306b\u95a2\u3059\u308b\u8cb4\u91cd\u306a\u6d1e\u5bdf\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p></p> <ol> <li> <p>\u30e6\u30fc\u30b6\u30fc\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u901a\u3058\u3066_Woodgrove Bank Contract Management Copilot_\u3068\u5bfe\u8a71\u3057\u3001\u30af\u30a8\u30ea\u3092\u6295\u3052\u305f\u308a\u60c5\u5831\u3092\u6c42\u3081\u305f\u308a\u3057\u307e\u3059\u3002</p> </li> <li> <p>React SPA\u306f\u3001\u3053\u308c\u3089\u306e\u30c1\u30e3\u30c3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092ACA\u306b\u30db\u30b9\u30c8\u3055\u308c\u3066\u3044\u308b<code>/chat</code> API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30ea\u30af\u30a8\u30b9\u30c8\u30af\u30a8\u30ea\u306f\u3001Azure OpenAI\u306e<code>text-embedding-ada-002</code>\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u57cb\u3081\u8fbc\u307e\u308c\u307e\u3059\u3002</p> </li> <li> <p>Azure Database for PostgreSQL\u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u30b5\u30fc\u30d0\u30fc\u3067\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u304c\u5b9f\u884c\u3055\u308c\u3001\u95a2\u9023\u3059\u308b\u30c7\u30fc\u30bf\u304c\u691c\u7d22\u3055\u308c\u307e\u3059\u3002</p> <ol> <li> <p>\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u306f\u3001\u30d5\u30eb\u30c6\u30ad\u30b9\u30c8\u691c\u7d22\u3068\u30d9\u30af\u30c8\u30eb\u30d9\u30fc\u30b9\u306e\u691c\u7d22\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u3088\u308a\u6b63\u78ba\u3067\u95a2\u9023\u6027\u306e\u9ad8\u3044\u7d50\u679c\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u5f93\u6765\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u30de\u30c3\u30c1\u30f3\u30b0\u3068\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u985e\u4f3c\u6027\u306e\u4e21\u65b9\u3092\u4f7f\u7528\u3057\u3066\u691c\u7d22\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u6587\u8108\u3084\u610f\u5473\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u57cb\u3081\u8fbc\u307f\u3092\u6d3b\u7528\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u3053\u308c\u3089\u306e2\u3064\u306e\u65b9\u6cd5\u3092\u7d71\u5408\u3059\u308b\u3053\u3068\u3067\u3001\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u306f\u691c\u7d22\u7d50\u679c\u306e\u7cbe\u5ea6\u3068\u5305\u62ec\u6027\u3092\u5411\u4e0a\u3055\u305b\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22\u3001\u63a8\u85a6\u30b7\u30b9\u30c6\u30e0\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u767a\u898b\u306a\u3069\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u6700\u9069\u3067\u3059\u3002</p> </li> </ol> </li> <li> <p>\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09<code>azure_ai</code>\u62e1\u5f35\u304b\u3089\u306e\u30e2\u30c7\u30eb\u63a8\u8ad6\u306b\u3088\u308b\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u304c\u691c\u7d22\u7d50\u679c\u306e\u95a2\u9023\u6027\u3092\u30e9\u30f3\u30af\u4ed8\u3051\u3057\u3001RAG\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306e\u4e00\u90e8\u3068\u3057\u3066\u8907\u5408\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u8fd4\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>Azure OpenAI\u306f\u3001\u8907\u5408\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u4f7f\u7528\u3057\u3066\u5fdc\u7b54\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> <ol> <li>\u8907\u5408\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306f\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u306e\u7d50\u679c\u306b\u3088\u3063\u3066\u63d0\u4f9b\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u62e1\u5f35\u3055\u308c\u305f\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</li> </ol> </li> <li> <p>AI\u751f\u6210\u306e\u5b8c\u4e86\u5fdc\u7b54\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u901a\u3058\u3066\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u3055\u308c\u3001\u30b7\u30b9\u30c6\u30e0\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306b\u57fa\u3065\u3044\u305f\u5b9f\u7528\u7684\u306a\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u60c5\u5831\u306e\u52b9\u7387\u7684\u306a\u6d41\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306f\u5fc5\u8981\u306a\u60c5\u5831\u3092\u8fc5\u901f\u304b\u3064\u6b63\u78ba\u306b\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/01-Introduction/03-Azure-Cost/","title":"1.3 Azure \u30b3\u30b9\u30c8\u898b\u7a4d\u3082\u308a","text":"<p>Microsoft Azure \u30ea\u30bd\u30fc\u30b9\u306f\u3001\u3042\u306a\u305f\u306e Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5185\u3067\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d3\u30b9\u306e\u30b3\u30b9\u30c8\u306f\u3042\u306a\u305f\u306e\u8cac\u4efb\u3068\u306a\u308a\u307e\u3059\u3002\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30b9\u30c8\u306f\u3001\u9078\u629e\u3057\u305f Azure \u30ea\u30fc\u30b8\u30e7\u30f3\u3084\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\u3002</p> <p>\u7279\u306b\u3001\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u6642\u306b\u6307\u5b9a\u3059\u308b <code>deployAMLModel</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5168\u4f53\u306e\u30b3\u30b9\u30c8\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u307e\u3059:</p> <ul> <li>\u6b21\u306e\u3044\u305a\u308c\u304b\u306e\u8a2d\u5b9a\u3067 Semantic Ranker \u7528\u306e Azure Machine Learning \u30e2\u30c7\u30eb\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3053\u3068\u306b\u3088\u308a:<ul> <li><code>mini</code>\uff08ms-marco-MiniLM-L-6-v2 \u30e2\u30c7\u30eb\u3092\u30c7\u30d7\u30ed\u30a4\uff09\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30b9\u30c8\u306f\u7d04 $5.50/\u65e5\u3002</li> <li><code>bge</code>\uff08bge-reranker-v2-m3 \u30e2\u30c7\u30eb\u3092\u30c7\u30d7\u30ed\u30a4\uff09\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30b9\u30c8\u306f\u7d04 $17.40/\u65e5\u3002</li> <li><code>none</code>\uff08\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u306a\u3044\uff09\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30b9\u30c8\u306f\u7d04 $1.10/\u65e5\u3002</li> </ul> </li> </ul> <p>\u3053\u306e\u30ac\u30a4\u30c9\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u3053\u306e\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u9078\u3073\u65b9\u3092\u8aac\u660e\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u305f\u3081\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f Azure \u30ea\u30bd\u30fc\u30b9\u306e \u63a8\u5b9a\u30b3\u30b9\u30c8 \u306e\u5185\u8a33\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059:</p> <ul> <li>Azure ML VM\uff08\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0\u30af\u30ed\u30b9\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30e2\u30c7\u30eb\u306e\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\uff09:<ul> <li>ms-marco-MiniLM-L-6-v2\uff08mini\uff09\u30e2\u30c7\u30eb\u3092 STANDARD_D4AS_V4 \u3067\u5b9f\u884c: \u7d04 $4.40/\u65e5</li> <li>bge-reranker-v2-m3\uff08bge\uff09\u30e2\u30c7\u30eb\u3092 STANDARD_D16AS_V4 \u3067\u5b9f\u884c: \u7d04 $16.30/\u65e5</li> </ul> </li> <li>Azure Database for PostgreSQL: \u7d04 $0.90/\u65e5</li> <li>Azure App Configuration: \u7d04 $0.02/\u65e5</li> <li>Azure Container Registry: \u7d04 $0.17/\u65e5</li> <li>Azure OpenAI Service: Copilot\u3001AI \u691c\u8a3c\u3001\u304a\u3088\u3073\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u51e6\u7406\u3055\u308c\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u6570\u306b\u4f9d\u5b58\u3002</li> <li>\u305d\u306e\u4ed6\u306e\u30b5\u30fc\u30d3\u30b9\u306f\u6700\u5c0f\u9650\u306e\u30b3\u30b9\u30c8\u3002</li> </ul> <p>\u63a8\u5b9a\u6708\u984d\u30b3\u30b9\u30c8\u3092\u307e\u3068\u3081\u308b\u3068:</p> <ul> <li>D-Class 4 vCPU \u3067\u306e\u6708\u984d\u30b3\u30b9\u30c8\uff08mini \u30e2\u30c7\u30eb\u4f7f\u7528\uff09: \u7d04 $170.20</li> <li>D-Class 16 vCPU \u3067\u306e\u6708\u984d\u30b3\u30b9\u30c8\uff08bge \u30e2\u30c7\u30eb\u4f7f\u7528\uff09: \u7d04 $539.10</li> <li>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0\u306a\u3057\u3067\u306e\u6708\u984d\u30b3\u30b9\u30c8: \u7d04 $33.80</li> </ul> <p>\u4e0a\u8a18\u306e\u30b3\u30b9\u30c8\u306f\u3042\u304f\u307e\u3067\u63a8\u5b9a\u3067\u3059\u3002</p> <p>\u3053\u3053\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u30b3\u30b9\u30c8\u306f\u3001\u63d0\u4f9b\u3055\u308c\u305f\u69cb\u6210\u3092\u4f7f\u7528\u3057\u3066\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u57fa\u3065\u304f\u63a8\u5b9a\u5024\u3067\u3042\u308a\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3092\u5b9f\u884c\u3059\u308b\u969b\u306e\u30b3\u30b9\u30c8\u306b\u95a2\u3059\u308b\u4e00\u822c\u7684\u306a\u30ac\u30a4\u30c0\u30f3\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u9078\u629e\u3001\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u306b\u3088\u3063\u3066\u3001\u500b\u3005\u306e\u30b3\u30b9\u30c8\u306f\u7570\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"ja/01-Introduction/04-Data-Structure/","title":"1.4 \u63d0\u4f9b\u3055\u308c\u308b\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3067\u4f7f\u7528\u3055\u308c\u308b\u30c6\u30fc\u30d6\u30eb\u30b9\u30ad\u30fc\u30de\u3068\u30c7\u30fc\u30bf\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\uff08\u4f8b\uff1aSOW\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3001\u8acb\u6c42\u66f8\u3001\u691c\u8a3c\u7d50\u679c\uff09\u306e\u6982\u8981\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002AI\u306b\u3088\u308b\u51e6\u7406\u3092\u53ef\u80fd\u306b\u3059\u308b\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5f37\u8abf\u3057\u3001Azure AI\u30b5\u30fc\u30d3\u30b9\u304c\u7279\u5b9a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u4f7f\u7528\u3059\u308b\u7406\u7531\u3092\u8aac\u660e\u3057\u307e\u3059\u3002</p> \u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059\u304b\uff1f <p>\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3092\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u306b\u9069\u5fdc\u3055\u305b\u308b\u5834\u5408\u3001\u65e2\u5b58\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u3084\u30c7\u30fc\u30bf\u69cb\u9020\u306b\u5408\u308f\u305b\u3066\u5909\u66f4\u304c\u5fc5\u8981\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li> <p>\u30c7\u30fc\u30bf\u3092\u65e2\u5b58\u306e\u30b9\u30ad\u30fc\u30de\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b</p> <ul> <li><code>sows</code>\u3001<code>invoices</code>\u3001<code>vendors</code>\u306b\u5bfe\u5fdc\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u7279\u5b9a\u3057\u307e\u3059\u3002</li> <li>\u30c7\u30fc\u30bf\u304c<code>sow_chunks</code>\u306e\u3088\u3046\u306b\u5206\u5272\u3055\u308c\u51e6\u7406\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li>\u30b3\u30a2\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u3092\u5909\u66f4\u305b\u305a\u306b\u3001\u8ffd\u52a0\u30c7\u30fc\u30bf\u3092\u52d5\u7684\u306b\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306bJSONB\u30ab\u30e9\u30e0\u3092\u6d3b\u7528\u3057\u307e\u3059\u3002</li> </ul> </li> <li> <p>AI\u691c\u7d22\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306b\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u8ffd\u52a0\u3059\u308b</p> <ul> <li>AI\u751f\u6210\u306e\u57cb\u3081\u8fbc\u307f\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306b\u3001\u95a2\u9023\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u306b\u30d9\u30af\u30c8\u30eb\u30ab\u30e9\u30e0\uff08<code>embedding</code>\uff09\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>\u52b9\u7387\u7684\u306aAI\u691c\u7d22\u306e\u305f\u3081\u306bpg_diskann\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</li> </ul> </li> <li> <p>AI\u51e6\u7406\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fee\u6b63\u3059\u308b</p> <ul> <li>\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u306b\u5408\u308f\u305b\u3066\u30c7\u30fc\u30bf\u62bd\u51fa\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</li> <li>AI\u30e2\u30c7\u30eb\u304c\u30b9\u30ad\u30fc\u30de\u306b\u57fa\u3065\u3044\u3066\u6b63\u3057\u3044\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u62bd\u51fa\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ul> </li> <li> <p>\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3068\u95a2\u4fc2\u3092\u66f4\u65b0\u3059\u308b</p> <ul> <li>\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u306b\u5408\u308f\u305b\u3066\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6b63\u3057\u304f\u30ea\u30f3\u30af\u3059\u308b\u30b0\u30e9\u30d5\u95a2\u4fc2\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ul> </li> </ol>"},{"location":"ja/01-Introduction/04-Data-Structure/#_1","title":"\u30c6\u30fc\u30d6\u30eb\u30b9\u30ad\u30fc\u30de\u306e\u7406\u89e3","text":"<p>\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306f\u3001\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u3001\u8acb\u6c42\u66f8\u3001\u691c\u8a3c\u7d50\u679c\u3001\u62bd\u51fa\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u69cb\u9020\u5316\u3055\u308c\u305fPostgreSQL\u30b9\u30ad\u30fc\u30de\u3092\u4f7f\u7528\u3057\u3066\u51e6\u7406\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u3001\u4e3b\u8981\u306a\u30c6\u30fc\u30d6\u30eb\u3068\u305d\u306e\u5f79\u5272\u306e\u6982\u8981\u3067\u3059\uff1a</p>"},{"location":"ja/01-Introduction/04-Data-Structure/#_2","title":"\u30b3\u30a2\u30c6\u30fc\u30d6\u30eb\u3068\u305d\u306e\u76ee\u7684","text":"\u30c6\u30fc\u30d6\u30eb \u8aac\u660e <code>vendors</code> \u30d9\u30f3\u30c0\u30fc\u306e\u8a73\u7d30\u3092\u4fdd\u5b58\u3057\u3001\u95a2\u9023\u3059\u308bSOW\u3084\u8acb\u6c42\u66f8\u306b\u30ea\u30f3\u30af\u3057\u307e\u3059\u3002 <code>status</code> \u30b7\u30b9\u30c6\u30e0\u5185\u306e\u7570\u306a\u308b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u72b6\u614b\u3092\u8ffd\u8de1\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u69d8\u3005\u306a\u30b9\u30c6\u30fc\u30bf\u30b9\u5024\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 <code>sows</code> \u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u542b\u307f\u3001\u6761\u4ef6\u3001\u95a2\u4fc2\u8005\u3001\u6210\u679c\u7269\u3092\u542b\u307f\u307e\u3059\u3002 <code>sow_chunks</code> SOW\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092AI\u51e6\u7406\u306e\u305f\u3081\u306b\u5c0f\u3055\u306a\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u5206\u5272\u3057\u307e\u3059\u3002 <code>milestones</code> SOW\u304b\u3089\u62bd\u51fa\u3055\u308c\u305f\u5951\u7d04\u4e0a\u306e\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u3092\u8ffd\u8de1\u3057\u307e\u3059\u3002 <code>deliverables</code> SOW\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u4e3b\u8981\u306a\u6210\u679c\u7269\u306e\u8a73\u7d30\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002 <code>invoices</code> \u91d1\u984d\u3001\u652f\u6255\u671f\u65e5\u3001\u95a2\u9023\u3059\u308bSOW\u306a\u3069\u306e\u8acb\u6c42\u66f8\u306e\u8a73\u7d30\u3092\u542b\u307f\u307e\u3059\u3002 <code>invoice_line_items</code> \u8acb\u6c42\u66f8\u304b\u3089\u62bd\u51fa\u3055\u308c\u305f\u500b\u3005\u306e\u9805\u76ee\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 <code>invoice_validation_results</code> \u8acb\u6c42\u66f8\u306e\u6b63\u78ba\u6027\u3068\u4e0d\u4e00\u81f4\u306b\u95a2\u3059\u308bAI\u99c6\u52d5\u306e\u691c\u8a3c\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 <code>sow_validation_results</code> SOW\u306e\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u3068\u4e00\u8cab\u6027\u306b\u95a2\u3059\u308bAI\u99c6\u52d5\u306e\u691c\u8a3c\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 <code>copilot_chat_sessions</code> \u500b\u3005\u306e\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 <code>copilot_chat_session_history</code> \u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u4e2d\u306b\u4ea4\u63db\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5c65\u6b74\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002"},{"location":"ja/01-Introduction/04-Data-Structure/#_3","title":"\u3053\u308c\u3089\u306e\u30c6\u30fc\u30d6\u30eb\u304c\u3069\u306e\u3088\u3046\u306b\u9023\u643a\u3059\u308b\u304b","text":"<ol> <li>SOW \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u51e6\u7406\u3055\u308c\u3001\u69cb\u9020\u5316\u3055\u308c\u305f\u30c1\u30e3\u30f3\u30af\u306b\u5206\u5272\u3055\u308c\u307e\u3059\u3002</li> <li>AI \u30b5\u30fc\u30d3\u30b9\u304c\u4e3b\u8981\u306a\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\uff08\u30d9\u30f3\u30c0\u30fc\u3001\u6210\u679c\u7269\u3001\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\uff09\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</li> <li>\u62bd\u51fa\u3055\u308c\u305f\u60c5\u5831\u306f\u691c\u8a3c\u3055\u308c\u3001\u691c\u8a3c\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</li> <li>\u8acb\u6c42\u66f8\u306f\u5951\u7d04\u9075\u5b88\u30c1\u30a7\u30c3\u30af\u306e\u305f\u3081\u306bSOW\u306b\u30ea\u30f3\u30af\u3055\u308c\u307e\u3059\u3002</li> </ol>"},{"location":"ja/01-Introduction/04-Data-Structure/#ai","title":"AI \u51e6\u7406\u3067\u4f7f\u7528\u3055\u308c\u308b\u4e3b\u8981\u30d5\u30a3\u30fc\u30eb\u30c9","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306f\u3001\u60c5\u5831\u3092\u62bd\u51fa\u3001\u691c\u8a3c\u3001\u51e6\u7406\u3059\u308b\u305f\u3081\u306bAzure AI \u30b5\u30fc\u30d3\u30b9\u3068\u7d71\u5408\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u3001AI \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3067\u5f79\u5272\u3092\u679c\u305f\u3059\u4e3b\u8981\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3001\u305d\u308c\u3089\u304c\u9078\u3070\u308c\u305f\u7406\u7531\u3067\u3059\u3002</p>"},{"location":"ja/01-Introduction/04-Data-Structure/#ai_1","title":"AI \u30b5\u30fc\u30d3\u30b9\u3067\u4f7f\u7528\u3055\u308c\u308b\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9","text":"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d \u30c6\u30fc\u30d6\u30eb AI \u306e\u4f7f\u7528\u6cd5 <code>content</code> <code>sow_chunks</code>, <code>invoices</code> AI \u306f\u3053\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u51e6\u7406\u3057\u3066\u3001\u751f\u306e\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002 <code>embedding</code> <code>deliverables</code>, <code>sow_chunks</code>, <code>invoice_line_items</code>, <code>invoice_validation_results</code>, <code>sow_validation_results</code> \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22\u30e2\u30c7\u30eb\u3067\u306e\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u3068\u985e\u4f3c\u6027\u691c\u7d22\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 <code>due_date</code> <code>deliverables</code>, <code>invoice_line_items</code> AI \u306f\u7de0\u3081\u5207\u308a\u3092\u62bd\u51fa\u3057\u3001\u691c\u8a3c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 <code>amount</code> <code>invoices</code> AI \u306f\u8acb\u6c42\u66f8\u306e\u8a73\u7d30\u306e\u4e0d\u4e00\u81f4\u3092\u62bd\u51fa\u3057\u3001\u691c\u51fa\u3057\u307e\u3059\u3002 <code>result</code> <code>sow_validation_results</code>, <code>invoice_validation_results</code> \u51e6\u7406\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u306b\u95a2\u3059\u308b AI \u751f\u6210\u306e\u5206\u6790 <code>validation_passed</code> <code>sow_validation_results</code>, <code>invoice_validation_results</code> \u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u5206\u6790\u306e\u305f\u3081\u306e AI \u99c6\u52d5\u306e\u691c\u8a3c\u7d50\u679c\u3002 <code>metadata</code> <code>invoices</code> \u52d5\u7684\u306a AI \u751f\u6210\u306e\u6d1e\u5bdf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306e JSONB \u30ab\u30e9\u30e0\u3002"},{"location":"ja/01-Introduction/04-Data-Structure/#_4","title":"\u30b0\u30e9\u30d5\u95a2\u4fc2","text":"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d \u30b0\u30e9\u30d5 AI \u306e\u4f7f\u7528\u6cd5 <code>vendor_id</code>,<code>vendor_name</code> <code>vendor_graph</code> \u30d9\u30f3\u30c0\u30fc\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3068\u95a2\u4fc2\u3092\u5206\u6790\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059 <code>sow_id</code>,<code>sow_number</code> <code>vendor_graph</code> \u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8 (SOW) \u3092\u8ffd\u8de1\u3057\u3001\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059 <code>payment_status</code>,<code>invoice_amount</code> <code>vendor_graph</code> \u8acb\u6c42\u66f8\u3092\u691c\u8a3c\u304a\u3088\u3073\u51e6\u7406\u3057\u3001\u4e0d\u4e00\u81f4\u3092\u691c\u51fa\u3057\u3001\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002"},{"location":"ja/01-Introduction/04-Data-Structure/#_5","title":"\u306a\u305c\u3053\u308c\u3089\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u91cd\u8981\u306a\u306e\u304b","text":"<ul> <li>\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f (<code>embedding</code>) \u306f\u3001SOW\u6761\u9805\u3001\u5951\u7d04\u6761\u4ef6\u3001\u8acb\u6c42\u66f8\u306e\u985e\u4f3c\u6027\u3092AI\u306b\u3088\u3063\u3066\u691c\u7d22\u3059\u308b\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</li> <li>\u691c\u8a3c\u30d5\u30a3\u30fc\u30eb\u30c9 (<code>result</code>, <code>validation_passed</code>) \u306f\u3001AI\u304c\u751f\u6210\u3057\u305f\u62bd\u51fa\u7d50\u679c\u304c\u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li><code>vendor_graph</code> \u5185\u306e\u30b0\u30e9\u30d5\u95a2\u4fc2\u306f\u3001\u30d9\u30f3\u30c0\u30fc\u3001\u5951\u7d04\u3001\u8acb\u6c42\u66f8\u306b\u95a2\u9023\u3059\u308b\u5206\u6790\u3084AI\u306e\u7cbe\u5ea6\u5411\u4e0a\u306e\u305f\u3081\u306b\u9078\u629e\u3055\u308c\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u3092AI\u30e2\u30c7\u30eb\u3067\u5229\u7528\u3067\u304d\u308bGraphRAG (Retrieval-Augmented Generation) \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"ja/01-Introduction/04-Data-Structure/#jsonb","title":"JSONB\u3092\u4f7f\u7528\u3057\u305f\u30b9\u30ad\u30fc\u30de\u306e\u62e1\u5f35","text":"<p>PostgreSQL\u306eJSONB\u30c7\u30fc\u30bf\u578b\u306f\u3001\u534a\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u304a\u3088\u3073\u30af\u30a8\u30ea\u3059\u308b\u305f\u3081\u306e\u5f37\u529b\u306a\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3001\u591a\u69d8\u3067\u9032\u5316\u3059\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u6271\u3046\u67d4\u8edf\u6027\u3092\u5fc5\u8981\u3068\u3059\u308bAI\u99c6\u52d5\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u6700\u9069\u3067\u3059\u3002AI\u30b5\u30fc\u30d3\u30b9\u306f\u6025\u901f\u306b\u5909\u5316\u3059\u308b\u30b9\u30ad\u30fc\u30de\u3001\u3055\u307e\u3056\u307e\u306a\u30c7\u30fc\u30bf\u5f62\u5f0f\u3001\u975e\u69cb\u9020\u5316\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u6271\u3046\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u3002JSONB\u306f\u3001\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u53b3\u683c\u306a\u30b9\u30ad\u30fc\u30de\u5909\u66f4\u3092\u884c\u308f\u305a\u306b\u8ffd\u52a0\u306e\u30c7\u30fc\u30bf\u30dd\u30a4\u30f3\u30c8\u3092\u7d71\u5408\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u3001\u30b9\u30b1\u30fc\u30eb\u3067\u306e\u9069\u5fdc\u6027\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</p>"},{"location":"ja/01-Introduction/04-Data-Structure/#aijsonb","title":"AI\u30b5\u30fc\u30d3\u30b9\u306bJSONB\u304c\u7406\u60f3\u7684\u306a\u7406\u7531","text":"<ul> <li>\u30b9\u30ad\u30fc\u30de\u306e\u9032\u5316: AI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u65b0\u3057\u3044\u6a5f\u80fd\u3001\u30e2\u30c7\u30eb\u3001\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u983b\u7e41\u306b\u5c0e\u5165\u3057\u307e\u3059\u3002JSONB\u306f\u3001\u65e2\u5b58\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u69cb\u9020\u3092\u4e71\u3059\u3053\u3068\u306a\u304f\u30b7\u30fc\u30e0\u30ec\u30b9\u306a\u30b9\u30ad\u30fc\u30de\u5909\u66f4\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</li> <li>\u975e\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u306e\u51e6\u7406: \u591a\u304f\u306eAI\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306f\u3001\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3001\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u3001\u57cb\u3081\u8fbc\u307f\u3001\u30e2\u30c7\u30eb\u4e88\u6e2c\u3092\u53d6\u308a\u8fbc\u307f\u3001\u3053\u308c\u3089\u306f\u5f93\u6765\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30ab\u30e9\u30e0\u306b\u53ce\u307e\u308a\u307e\u305b\u3093\u3002</li> <li>\u52b9\u7387\u7684\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\u3068\u30af\u30a8\u30ea: JSONB\u306f\u3001GIN (Generalized Inverted Index) \u3068JSONPath\u30af\u30a8\u30ea\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3001\u30cd\u30b9\u30c8\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u691c\u7d22\u3092\u8fc5\u901f\u304b\u3064\u52b9\u7387\u7684\u306b\u884c\u3044\u307e\u3059\u3002</li> <li>\u30b3\u30f3\u30d1\u30af\u30c8\u306a\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u9ad8\u901f\u306a\u53d6\u5f97: \u30d7\u30ec\u30fc\u30f3\u306aJSON\u3068\u306f\u7570\u306a\u308a\u3001JSONB\u306f\u30d0\u30a4\u30ca\u30ea\u6700\u9069\u5316\u3055\u308c\u3066\u304a\u308a\u3001\u5927\u91cf\u306e\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308bAI\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3092\u524a\u6e1b\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"ja/01-Introduction/04-Data-Structure/#aijsonb_1","title":"AI\u99c6\u52d5\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3068\u30e2\u30c7\u30eb\u51fa\u529b\u306bJSONB\u3092\u4f7f\u7528\u3059\u308b","text":"<p>PostgreSQL\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u306bAI\u30b5\u30fc\u30d3\u30b9\u3092\u7d71\u5408\u3059\u308b\u969b\u3001JSONB\u3092\u6d3b\u7528\u3057\u3066\u4ee5\u4e0b\u3092\u4fdd\u5b58\u3067\u304d\u307e\u3059\uff1a</p> <ul> <li>\u63a8\u8ad6\u7d50\u679c\uff08\u4f8b\uff1a\u78ba\u7387\u3001\u5206\u985e\u3001\u57cb\u3081\u8fbc\u307f\uff09\u3002</li> <li>\u30e2\u30c7\u30eb\u30e1\u30bf\u30c7\u30fc\u30bf\uff08\u4f8b\uff1a\u30cf\u30a4\u30d1\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u3001\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u8a2d\u5b9a\uff09\u3002</li> <li>\u7279\u5fb4\u62bd\u51fa\u306e\u8a73\u7d30\uff08\u4f8b\uff1aNLP\u30c8\u30fc\u30af\u30f3\u5316\u3055\u308c\u305f\u5358\u8a9e\u3001\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\uff09\u3002</li> <li>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306e\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\uff08\u4f8b\uff1a\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74\u3001\u30a4\u30d9\u30f3\u30c8\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\uff09\u3002</li> </ul>"},{"location":"ja/01-Introduction/04-Data-Structure/#jsonb_1","title":"JSONB\u30af\u30a8\u30ea\u306e\u305f\u3081\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u8ffd\u52a0","text":"<p>GIN\uff08Generalized Inverted Index\uff09\u306f\u3001PostgreSQL\u306b\u304a\u3051\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u4e00\u7a2e\u3067\u3001JSONB\u3092\u542b\u3080\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u578b\u306e\u51e6\u7406\u306b\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002JSONB\u306f\u30c7\u30fc\u30bf\u3092\u30d0\u30a4\u30ca\u30ea\u5f62\u5f0f\u3067\u4fdd\u5b58\u3057\u3001\u8c4a\u5bcc\u306a\u30af\u30a8\u30ea\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u3001GIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30cd\u30b9\u30c8\u3055\u308c\u305fJSONB\u69cb\u9020\u5185\u3092\u52b9\u7387\u7684\u306b\u691c\u7d22\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <p>GIN\u306e\u5229\u70b9:</p> <ul> <li>\u9ad8\u901f\u306a\u30af\u30a8\u30ea\u6027\u80fd: GIN\u306fJSONB\u30ab\u30e9\u30e0\u5185\u306e\u30ad\u30fc\u3068\u5024\u306e\u691c\u7d22\u3092\u5927\u5e45\u306b\u9ad8\u901f\u5316\u3057\u307e\u3059\u3002</li> <li>\u30cd\u30b9\u30c8\u3055\u308c\u305f\u69cb\u9020\u306b\u6700\u9069\u5316: \u6df1\u304f\u30cd\u30b9\u30c8\u3055\u308c\u305fJSON\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3084\u914d\u5217\u3092\u52b9\u7387\u7684\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5316\u3067\u304d\u307e\u3059\u3002</li> <li>JSONB\u30aa\u30da\u30ec\u30fc\u30bf\u30fc\u3092\u30b5\u30dd\u30fc\u30c8: PostgreSQL\u306f\u3001GIN\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u6700\u9069\u5316\u3055\u308c\u308b\u5f37\u529b\u306a\u30aa\u30da\u30ec\u30fc\u30bf\u30fc\uff08@&gt;, ?, ?&amp;, ?|\uff09\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"ja/01-Introduction/04-Data-Structure/#_6","title":"\u4f7f\u7528\u4f8b","text":"SQL<pre><code>ALTER TABLE invoices ADD COLUMN metadata JSONB;\n\n-- Insert data into the JSONB column\nUPDATE invoices\nSET metadata = '{\"additional_info\": \"value\", \"extra_field\": 123}'\nWHERE id = 1;\n\n-- Create a GIN index on the JSONB column\nCREATE INDEX idx_invoices_metadata ON invoices USING GIN (metadata);\n\n-- Query the record based on one of the JSONB elements\nSELECT * FROM invoices\nWHERE metadata @&gt; '{\"extra_field\": 123}';\n</code></pre> <p>\u30aa\u30da\u30ec\u30fc\u30bf\u30fc <code>@&gt;</code> \u306f\u3001model_output\u304c\u6307\u5b9a\u3055\u308c\u305fJSON\u306e\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u3092\u542b\u3093\u3067\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</p> <p>JSONB\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001AI\u30b5\u30fc\u30d3\u30b9\u306f\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u52b9\u7387\u7684\u306b\u4fdd\u5b58\u3001\u53d6\u5f97\u3001\u9032\u5316\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u65b0\u3057\u3044AI\u99c6\u52d5\u306e\u6d1e\u5bdf\u3001\u7279\u5fb4\u62bd\u51fa\u3001\u30e2\u30c7\u30eb\u51fa\u529b\u3092\u30b7\u30b9\u30c6\u30e0\u306b\u7d44\u307f\u8fbc\u3080\u969b\u306b\u3001\u53b3\u683c\u306a\u30b9\u30ad\u30fc\u30de\u5909\u66f4\u3092\u5fc5\u8981\u3068\u305b\u305a\u3001\u6700\u7d42\u7684\u306bPostgreSQL\u74b0\u5883\u5185\u3067\u306eAI\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u5c55\u958b\u3068\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3092\u52a0\u901f\u3057\u307e\u3059\u3002</p>"},{"location":"ja/01-Introduction/04-Data-Structure/#jsonb_2","title":"JSONB\u5b66\u7fd2\u30ea\u30bd\u30fc\u30b9","text":"<ul> <li>AI\u30b5\u30fc\u30d3\u30b9\u3068\u30c7\u30fc\u30bf\u306e\u6982\u8981</li> <li>PostgreSQL JSONB\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8</li> <li>JSONB\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9</li> <li>JSONB\u3068GIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9</li> </ul>"},{"location":"ja/02-Setup/","title":"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<p>\u30b9\u30bf\u30fc\u30bf\u30fc\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u304c\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u901a\u3058\u3066\u8c4a\u5bcc\u306aAI\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u4fee\u6b63\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u306e\u521d\u671f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306aReact UI\u304c\u542b\u307e\u308c\u3066\u304a\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u76f4\u611f\u7684\u306b\u64cd\u4f5c\u3067\u304d\u308b\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3055\u3089\u306b\u3001\u30b3\u30a2\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3068\u30c7\u30fc\u30bf\u51e6\u7406\u30bf\u30b9\u30af\u3092\u51e6\u7406\u3059\u308bPython\u30d9\u30fc\u30b9\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3082\u5099\u3048\u3066\u3044\u307e\u3059\u3002\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u901a\u3058\u3066\u3001\u3053\u306e\u65e2\u5b58\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u5316\u3057\u3001\u9ad8\u5ea6\u306aAI\u6a5f\u80fd\u3092\u7d71\u5408\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u306f\u3001\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u306eAI\u691c\u8a3c\u3092\u8ffd\u52a0\u3057\u3001AI\u99c6\u52d5\u306e\u30c4\u30fc\u30eb\u3092\u6d3b\u7528\u3057\u3066\u8ca1\u52d9\u6587\u66f8\u3092\u5206\u6790\u3059\u308b\u3053\u3068\u304c\u542b\u307e\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u901a\u3058\u3066\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30c7\u30fc\u30bf\u306b\u95a2\u3059\u308b\u8cea\u554f\u3092\u3059\u308b\u6a5f\u80fd\u3082\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u306e\u7d42\u4e86\u6642\u306b\u306f\u3001\u30b9\u30bf\u30fc\u30bf\u30fc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u9ad8\u5ea6\u306aAI\u5f37\u5316\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u5909\u9769\u3057\u3001\u8ca1\u52d9\u30c7\u30fc\u30bf\u306b\u5bfe\u3059\u308b\u6df1\u3044\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3057\u3001\u91d1\u878d\u30b5\u30fc\u30d3\u30b9\u696d\u754c\u306b\u304a\u3051\u308b\u7cbe\u5ea6\u3001\u52b9\u7387\u3001\u5168\u4f53\u7684\u306a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> \u958b\u59cb\u3059\u308b\u524d\u306b\u524d\u63d0\u6761\u4ef6\u3092\u5b8c\u4e86\u3057\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff01 <p>\u958b\u59cb\u3059\u308b\u524d\u306b\u3001\u30e9\u30dc\u3092\u5b8c\u4e86\u3059\u308b\u305f\u3081\u306e\u524d\u63d0\u6761\u4ef6\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30ab\u30b9\u30bf\u30e0AI\u5bfe\u5fdc\u306e\u91d1\u878d\u30b5\u30fc\u30d3\u30b9\u696d\u754c\uff08FSI\uff09\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u3092\u958b\u59cb\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a</p> <ul> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fc5\u8981\u306a\u30ea\u30bd\u30fc\u30b9\u306e\u305f\u3081\u306b\u5fc5\u8981\u306aAzure\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3059\u308b</li> <li>Azure\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u304c\u6b63\u5e38\u306b\u5b8c\u4e86\u3057\u305f\u3053\u3068\u3092\u691c\u8a3c\u3059\u308b</li> <li>\u958b\u767a\u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3001\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3068\u9023\u643a\u3059\u308b\u3088\u3046\u306b\u69cb\u6210\u3059\u308b</li> </ul> \u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059\u304b\uff1f <p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306f\u3001\u30b5\u30f3\u30d7\u30eb\u306e\u30d9\u30f3\u30c0\u30fc\u3001SOW\u3001\u304a\u3088\u3073\u8acb\u6c42\u66f8\u30c7\u30fc\u30bf\u3068\u9023\u643a\u3059\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u72ec\u81ea\u306ePostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u5834\u5408\u3001\u65e2\u5b58\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u306e\u4e92\u63db\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u3044\u304f\u3064\u304b\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>\u5fc5\u8981\u306a\u4e3b\u306a\u66f4\u65b0\uff1a</p> <ol> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u8a2d\u5b9a\uff1a \u65e2\u5b58\u306ePostgreSQL\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6307\u3059\u3088\u3046\u306b\u63a5\u7d9a\u8a2d\u5b9a\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002 \u7ba1\u7406\u5bfe\u8c61ID\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8cc7\u683c\u60c5\u5831\u306a\u3069\u3001\u9069\u5207\u306a\u8a8d\u8a3c\u30e1\u30ab\u30cb\u30ba\u30e0\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002</li> <li>\u7ba1\u7406\u5bfe\u8c61ID\u306e\u8a2d\u5b9a\uff08\u8a72\u5f53\u3059\u308b\u5834\u5408\uff09\uff1a \u7ba1\u7406\u5bfe\u8c61ID\u304c\u65e2\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3078\u306e\u5b89\u5168\u306a\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u305f\u3081\u306b\u3001Azure\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u7ba1\u7406\u5bfe\u8c61ID\u306b\u30b9\u30c8\u30ec\u30fc\u30b8Blob\u30c7\u30fc\u30bf\u5171\u540c\u4f5c\u6210\u8005\u30ed\u30fc\u30eb\u3092\u5272\u308a\u5f53\u3066\u307e\u3059\u3002</li> <li>\u30b9\u30ad\u30fc\u30de\u306e\u8abf\u6574\uff1a \u30c7\u30fc\u30bf\u69cb\u9020\u304c\u63d0\u4f9b\u3055\u308c\u305f\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3068\u7570\u306a\u308b\u5834\u5408\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30ad\u30fc\u30de\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002 AI\u99c6\u52d5\u306e\u30af\u30a8\u30ea\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316\u3092\u9069\u7528\u3057\u307e\u3059\u3002</li> <li>\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u3068\u51e6\u7406\u306e\u66f4\u65b0\uff1a \u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u5408\u308f\u305b\u3066\u30c7\u30fc\u30bf\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3068\u524d\u51e6\u7406\u30b9\u30c6\u30c3\u30d7\u3092\u8abf\u6574\u3057\u307e\u3059\u3002 \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3092\u53c2\u7167\u3059\u308bAI\u691c\u8a3c\u30ed\u30b8\u30c3\u30af\u3092\u78ba\u8a8d\u3057\u3001\u4fee\u6b63\u3057\u307e\u3059\u3002</li> <li>\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u6a29\u9650\uff1a AI\u51e6\u7406\u304a\u3088\u3073\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u53d6\u308a\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u6b63\u3057\u3044\u30a2\u30af\u30bb\u30b9\uff08\u30c7\u30fc\u30bf\u5171\u540c\u4f5c\u6210\u8005\uff09\u6a29\u9650\u3092\u6301\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ol>"},{"location":"ja/02-Setup/00-Prerequisites/","title":"2.0 \u524d\u63d0\u6761\u4ef6","text":"<p>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u59cb\u3081\u308b\u524d\u306b\u5fc5\u8981\u306a\u3053\u3068\u3001\u4e8b\u524d\u306b\u77e5\u3063\u3066\u304a\u304f\u3079\u304d\u3053\u3068\u3001\u5b8c\u4e86\u5f8c\u306b\u5f97\u3089\u308c\u308b\u3082\u306e\u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/02-Setup/00-Prerequisites/#_1","title":"\u5fc5\u8981\u306a\u3082\u306e","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u3092\u5b8c\u4e86\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4ee5\u4e0b\u304c\u5fc5\u8981\u3067\u3059\uff1a</p> <ol> <li>\u3042\u306a\u305f\u81ea\u8eab\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3002<ul> <li>Visual Studio Code\u3001Docker Desktop\u3001\u304a\u3088\u3073\u6700\u65b0\u306e\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3092\u5b9f\u884c\u3067\u304d\u308b\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3067\u3042\u308c\u3070\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002</li> <li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> <li>Edge\u3001Chrome\u3001\u307e\u305f\u306fSafari\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</li> </ul> </li> <li>GitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u3002<ul> <li>\u30b5\u30f3\u30d7\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30b3\u30d4\u30fc\uff08\u30d5\u30a9\u30fc\u30af\u3068\u547c\u3070\u308c\u308b\uff09\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u3067\u3059\u3002</li> <li>\u500b\u4eba\u7528\uff08\u4f01\u696d\u7528\u3067\u306f\u306a\u304f\uff09\u306eGitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f7f\u7528\u3059\u308b\u65b9\u304c\u4fbf\u5229\u306a\u306e\u3067\u3001\u304a\u52e7\u3081\u3067\u3059\u3002</li> <li>GitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u7121\u6599\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u6570\u5206\u3067\u5b8c\u4e86\u3057\u307e\u3059\u3002\uff09</li> </ul> </li> <li>Azure\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3002<ul> <li>AI\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u305f\u3081\u306eAzure\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u3067\u3059\u3002</li> <li>Azure\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u7121\u6599\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u6570\u5206\u3067\u5b8c\u4e86\u3057\u307e\u3059\u3002\uff09</li> </ul> </li> <li>\u5341\u5206\u306aAzure ML\u30aa\u30f3\u30e9\u30a4\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8CPU\u30af\u30a9\u30fc\u30bf<ul> <li>\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ab\u30fc\u8981\u7d20\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u30012\u3064\u306e\u9078\u629e\u80a2\u304c\u3042\u308a\u307e\u3059\u3002<ul> <li>Standard DASv4 with 4 vCPUs \u4e0a\u3067\u3001\u5c0f\u578b\u3067\u9ad8\u54c1\u8cea\u306a\u30e2\u30c7\u30eb\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</li> <li>\u307e\u305f\u306f\u3001Standard DASv4 with 16 vCPUs \u4e0a\u3067\u3001\u3088\u308a\u5927\u304d\u304f\u3001\u3055\u3089\u306b\u6b63\u78ba\u306a\u30e2\u30c7\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</li> <li>\u3057\u305f\u304c\u3063\u3066\u3001\u9078\u629e\u3059\u308b\u30e2\u30c7\u30eb\u306b\u5fdc\u3058\u3066\u3001\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u30674\u307e\u305f\u306f16\u30b3\u30a2\u304c\u5229\u7528\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3067\u3053\u308c\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306e\u8a73\u7d30\u306a\u624b\u9806\u306f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> </ul> </li> </ul> </li> <li>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u30ea\u30bd\u30fc\u30b9\u306b\u9069\u3057\u305fAzure\u30ea\u30fc\u30b8\u30e7\u30f3<ul> <li>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u6210\u529f\u88cf\u306b\u5b8c\u4e86\u3057\u3001\u5fc5\u8981\u306aAzure\u30ea\u30bd\u30fc\u30b9\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u305d\u308c\u3089\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> <li>Azure\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u524d\u306b\uff1a</li> <li>Azure OpenAI\u306egpt-4o\u304a\u3088\u3073text-embedding-ada-002\u30e2\u30c7\u30eb\u306e\u5730\u57df\u53ef\u7528\u6027\u30ac\u30a4\u30c0\u30f3\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002<ul> <li>Azure OpenAI\u306e<code>gpt-4o</code>\u304a\u3088\u3073<code>text-embedding-ada-002</code>\u30e2\u30c7\u30eb\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> <li>\u4e21\u65b9\u306e<code>gpt-4o</code>\u304a\u3088\u3073<code>text-embedding-ada-002</code>\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3066\u3001\u5c11\u306a\u304f\u3068\u308210K TPM\u306e<code>Standard</code>\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u304c\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u5229\u7528\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u3089\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\u3001\u5229\u7528\u53ef\u80fd\u306a\u30af\u30a9\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> </ul> </li> </ul> </li> </ol> <p>Azure OpenAI\u30e2\u30c7\u30eb\u306e\u4e21\u65b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3001\u4e21\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3066\u5c11\u306a\u304f\u3068\u308210K TPM\u306e<code>Standard</code>\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u3092\u6301\u3064\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Azure OpenAI\u30e2\u30c7\u30eb\u306e\u4e21\u65b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u3068\u3001<code>azd up</code>\u3092\u5b9f\u884c\u3057\u305f\u969b\u306b\u30c7\u30d7\u30ed\u30a4\u304c\u5931\u6557\u3057\u307e\u3059\u3002</p>"},{"location":"ja/02-Setup/00-Prerequisites/#_2","title":"\u77e5\u3063\u3066\u304a\u304f\u3079\u304d\u3053\u3068","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3092\u6700\u5927\u9650\u306b\u6d3b\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u77e5\u8b58\u3068\u7d4c\u9a13\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"ja/02-Setup/00-Prerequisites/#_3","title":"\u63a8\u5968\u3055\u308c\u308b\u77e5\u8b58\u3068\u7d4c\u9a13","text":"<ol> <li>Visual Studio Code\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u3053\u3068<ul> <li>\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a8\u30c7\u30a3\u30bf\u306fVisual Studio Code\u3067\u3059\u3002\u5fc5\u8981\u306a\u62e1\u5f35\u6a5f\u80fd\u3084\u30b3\u30fc\u30c9\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u7528\u3057\u3066VS Code\u306e\u958b\u767a\u74b0\u5883\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</li> <li>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3067\u306f\u3001Visual Studio Code\u3084\u305d\u306e\u4ed6\u306e\u30c4\u30fc\u30eb\u3092\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u304b\u3089\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> </ul> </li> <li>Azure\u30dd\u30fc\u30bf\u30eb\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u3053\u3068<ul> <li>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3067\u306f\u3001Azure\u30dd\u30fc\u30bf\u30eb\u5185\u306e\u30ea\u30bd\u30fc\u30b9\u306b\u30ca\u30d3\u30b2\u30fc\u30c8\u3059\u308b\u3053\u3068\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u307e\u3059\u3002</li> <li>Azure\u30dd\u30fc\u30bf\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u306e\u305f\u3081\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u306b\u95a2\u9023\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3001\u30ad\u30fc\u3001\u305d\u306e\u4ed6\u306e\u5024\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</li> </ul> </li> <li>PostgreSQL\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u3053\u3068<ul> <li>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3067\u306f\u3001\u57fa\u672c\u7684\u306aSQL\u69cb\u6587\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u307e\u3059\u3002</li> <li>\u30c6\u30fc\u30d6\u30eb\u3092\u5909\u66f4\u3057\u305f\u308a\u3001\u62e1\u5f35\u6a5f\u80fd\u3092\u4f5c\u6210\u3057\u305f\u308a\u3001\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306bSQL\u6587\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> </ul> </li> </ol>"},{"location":"ja/02-Setup/00-Prerequisites/#_4","title":"\u671b\u307e\u3057\u3044\u77e5\u8b58\u3068\u7d4c\u9a13","text":"<ol> <li><code>git</code>\u64cd\u4f5c\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u3053\u3068<ul> <li>\u30b5\u30f3\u30d7\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3092GitHub\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30d5\u30a9\u30fc\u30af\u3057\u307e\u3059\u3002</li> <li>\u30d5\u30a9\u30fc\u30af\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30b3\u30fc\u30c9\u306e\u5909\u66f4\u3092\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3059\u3002</li> </ul> </li> <li><code>bash</code>\u30b7\u30a7\u30eb\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u3053\u3068<ul> <li>\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001VS Code\u30bf\u30fc\u30df\u30ca\u30eb\u3067<code>bash</code>\u3092\u4f7f\u7528\u3057\u3066\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u5f8c\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> <li>\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u4e2d\u306bAzure CLI\u304a\u3088\u3073Azure Developer CLI\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u3082\u4f7f\u7528\u3057\u307e\u3059\u3002</li> </ul> </li> <li>Python\u304a\u3088\u3073JavaScript UI\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u3053\u3068<ul> <li>\u30b9\u30bf\u30fc\u30bf\u30fc\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u5909\u66f4\u3092\u52a0\u3048\u308b\u305f\u3081\u306b\u3001React JavaScript\u304a\u3088\u3073Python\u30b3\u30fc\u30c9\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002</li> <li>\u4e00\u90e8\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3084VS Code\u304b\u3089Python\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002</li> <li>\u4e00\u90e8\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001Python\u30ab\u30fc\u30cd\u30eb\u3092\u9078\u629e\u3057\u3066\u65e2\u5b58\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> </ul> </li> </ol>"},{"location":"ja/02-Setup/00-Prerequisites/#_5","title":"\u3042\u306a\u305f\u304c\u5f97\u3089\u308c\u308b\u3082\u306e","text":"<p>\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u5b8c\u4e86\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059:</p> <ol> <li> <p>GitHub\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306bBuild Your Own Advanced AI Copilot with PostgreSQL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u500b\u4eba\u7528\u30d5\u30a9\u30fc\u30af\uff08\u30b3\u30d4\u30fc\uff09\u3002\u3053\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u306f\u3001\u5f8c\u3067\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u518d\u73fe\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u8cc7\u6599\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> </li> <li> <p>Azure AI Foundry\u30dd\u30fc\u30bf\u30eb\u3068\u95a2\u9023\u3059\u308b\u958b\u767a\u8005\u30c4\u30fc\u30eb\uff08\u4f8b: Azure Developer CLI\u3001Prompty\u3001FastAPI\uff09\u3092\u4f7f\u7528\u3057\u3066\u3001\u72ec\u81ea\u306eAI\u30a2\u30d7\u30ea\u306e\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u958b\u767a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u52b9\u7387\u5316\u3059\u308b\u305f\u3081\u306e\u5b9f\u8df5\u7684\u306a\u7406\u89e3\u3002</p> </li> <li> <p>Azure AI\u30b5\u30fc\u30d3\u30b9\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u7d71\u5408\u3057\u3066\u3001\u5f37\u529b\u306aAI\u5bfe\u5fdc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u306e\u7406\u89e3\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/01-Install-Software/","title":"2.1 \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u5fc5\u8981\u306a\u958b\u767a\u74b0\u5883\u306f\u3001Python \u30e9\u30f3\u30bf\u30a4\u30e0\u3092\u5099\u3048\u305f Visual Studio (VS) Code \u30a8\u30c7\u30a3\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u30e9\u30dc\u3092\u81ea\u5206\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u3067\u5b8c\u4e86\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u5fc5\u8981\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b8c\u4e86\u3059\u308b\u3068\u3001\u6b21\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</p> <ul> <li> Azure \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb</li> <li> PowerShell 7</li> <li> Git</li> <li> Python 3.11+</li> <li> Node.js</li> <li> Docker \u30c7\u30b9\u30af\u30c8\u30c3\u30d7</li> <li> Visual Studio Code \u3068\u5fc5\u8981\u306a\u62e1\u5f35\u6a5f\u80fd</li> <li> pgAdmin</li> </ul>"},{"location":"ja/02-Setup/01-Install-Software/#azure","title":"Azure \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u3053\u306e\u30bf\u30b9\u30af\u3067\u306f\u3001Azure CLI \u3068 Azure Developer CLI (<code>azd</code>) \u306e\u4e21\u65b9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <ul> <li>Azure CLI \u306f\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306e\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u307e\u305f\u306f VS Code \u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089 Azure CLI \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</li> <li>Azure Developer CLI (<code>azd</code>) \u306f\u3001Azure \u4e0a\u3067\u306e\u30a2\u30d7\u30ea\u30ea\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3068\u30c7\u30d7\u30ed\u30a4\u3092\u52a0\u901f\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30c4\u30fc\u30eb\u3067\u3059\u3002</li> </ul> <ol> <li> <p>Azure CLI \u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u305f\u306f\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u307e\u3059\u3002OS \u306b\u5fdc\u3058\u305f\u624b\u9806\u306f https://learn.microsoft.com/cli/azure/install-azure-cli \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Azure CLI \u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9</p> <p>\u3059\u3067\u306b Azure CLI \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f v2.69.0 \u4ee5\u4e0a\u304c\u5fc5\u8981\u3067\u3059\u3002\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>az upgrade\n</code></pre> </li> <li> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30de\u30b7\u30f3\u3067\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u304d\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <pre><code>az version\n</code></pre> </li> <li> <p>\u6b21\u306b\u3001Azure CLI \u306b <code>ml</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <p><code>ml</code> \u62e1\u5f35\u6a5f\u80fd\u306b\u3064\u3044\u3066</p> <p>Azure CLI \u306e <code>ml</code> \u62e1\u5f35\u6a5f\u80fd\u306f\u3001Azure Machine Learning \u306e\u5f37\u5316\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u30e2\u30c7\u30eb\u306e\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3068\u30c7\u30d7\u30ed\u30a4\u3092\u53ef\u80fd\u306b\u3057\u3001\u30c7\u30fc\u30bf\u30b5\u30a4\u30a8\u30f3\u30b9\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3092\u52a0\u901f\u3057\u3001\u30e2\u30c7\u30eb\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u3092\u8ffd\u8de1\u3059\u308b\u6a5f\u80fd\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002</p> <p><code>ml</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f\u3001\u65e2\u5b58\u306e\u62e1\u5f35\u6a5f\u80fd\u3068 CLI v1 \u306e <code>azure-cli-ml</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u6700\u521d\u306b\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>az extension remove -n azure-cli-ml\naz extension remove -n ml\n</code></pre> <p>\u6b21\u306b\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066 <code>ml</code> \u62e1\u5f35\u6a5f\u80fd\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059:</p> <pre><code>az extension add -n ml\n</code></pre> </li> <li> <p>\u304a\u4f7f\u3044\u306eOS\u306b\u5fdc\u3058\u305f\u624b\u9806\u306b\u5f93\u3063\u3066\u3001Azure Developer CLI\u3092\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u305f\u306f\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u307e\u3059\u3002\u8a73\u7d30\u306f https://learn.microsoft.com/azure/developer/azure-developer-cli/install-azd \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Azure Developer CLI\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9</p> <p>\u3059\u3067\u306bAzure Developer CLI\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306fv1.12\u4ee5\u4e0a\u304c\u5fc5\u8981\u3067\u3059\u3002</p> </li> <li> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30c4\u30fc\u30eb\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059:</p> <pre><code>azd version\n</code></pre> </li> </ol>"},{"location":"ja/02-Setup/01-Install-Software/#powershell-7","title":"PowerShell 7\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u3068\u30c7\u30d7\u30ed\u30a4\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001PowerShell 7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Windows 11\u306b\u306fPowerShell 7\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002</p> <ol> <li> <p>\u304a\u4f7f\u3044\u306eOS\u306b\u5fdc\u3058\u305f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306b\u5f93\u3063\u3066\u3001PowerShell 7 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u305f\u306f\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u307e\u3059:</p> <ul> <li>Windows</li> <li>macOS</li> <li>Linux</li> </ul> </li> <li> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30de\u30b7\u30f3\u3067\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u304d\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u78ba\u8a8d\u3057\u307e\u3059:</p> <pre><code>pwsh\n</code></pre> </li> <li> <p>\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306f\u3001PowerShell\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c <code>7.5.0</code> \u4ee5\u4e0a\u3067\u3042\u308b\u3053\u3068\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002</p> <p></p> </li> </ol> <p><code>pwsh</code> \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u30a8\u30e9\u30fc</p> <p><code>pwsh</code> \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306b\u30a8\u30e9\u30fc\u304c\u3042\u308b\u5834\u5408\u3001PowerShell 7\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002</p> <p></p>"},{"location":"ja/02-Setup/01-Install-Software/#git","title":"Git\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Git\u306f\u3001\u30b3\u30fc\u30c9\u306e\u5909\u66f4\u3092\u8ffd\u8de1\u3057\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u5c65\u6b74\u3092\u7dad\u6301\u3057\u3001\u4ed6\u306e\u4eba\u3068\u306e\u30b3\u30e9\u30dc\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4fc3\u9032\u3059\u308b\u3053\u3068\u3067\u3001\u30b3\u30fc\u30c9\u306e\u7ba1\u7406\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u958b\u767a\u3092\u6574\u7406\u3057\u3001\u305d\u306e\u6574\u5408\u6027\u3092\u7dad\u6301\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> <ol> <li> <p>https://git-scm.com/downloads \u304b\u3089Git\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/01-Install-Software/#python","title":"Python\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Python\u306f\u3001\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u3067\u3059\u3002Python\u306e\u591a\u7528\u9014\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u6a5f\u80fd\u3068Azure Database for PostgreSQL\u306e\u751f\u6210AI\u304a\u3088\u3073\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u5f37\u529b\u3067\u52b9\u7387\u7684\u306aAI\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3001\u8907\u96d1\u306a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u5408\u7406\u5316\u3067\u304d\u307e\u3059\u3002</p> <ol> <li> <p>https://python.org/downloads \u304b\u3089Python 3.11+\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001Python\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff1a</p> <pre><code>python --version\n</code></pre> </li> </ol>"},{"location":"ja/02-Setup/01-Install-Software/#nodejs","title":"Node.js\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Node.js\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u5916\u3067JavaScript\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u30e9\u30f3\u30bf\u30a4\u30e0\u74b0\u5883\u3067\u3059\u3002\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u306b\u6700\u9069\u3067\u3001React\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u9023\u643a\u3057\u3001\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u30ed\u30b8\u30c3\u30af\u3068API\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u74b0\u5883\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3068\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u9593\u306e\u52b9\u7387\u7684\u306a\u958b\u767a\u3068\u30b9\u30e0\u30fc\u30ba\u306a\u76f8\u4e92\u4f5c\u7528\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> <ol> <li> <p>https://nodejs.org/en/download/ \u304b\u3089Node.js\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u6700\u65b0\u306eLTS\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u6b63\u3057\u3044OS\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/01-Install-Software/#docker-desktop","title":"Docker Desktop\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Docker Desktop\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u30b3\u30f3\u30c6\u30ca\u5316\u3055\u308c\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3001\u5171\u6709\u3001\u304a\u3088\u3073\u5b9f\u884c\u3067\u304d\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002Docker\u30b3\u30f3\u30c6\u30ca\u3001\u30a4\u30e1\u30fc\u30b8\u3001\u304a\u3088\u3073\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30e6\u30fc\u30b6\u30fc\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u30b3\u30f3\u30c6\u30ca\u5316\u30d7\u30ed\u30bb\u30b9\u3092\u5408\u7406\u5316\u3059\u308b\u3053\u3068\u3067\u3001Docker Desktop\u306f\u7570\u306a\u308b\u74b0\u5883\u9593\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4e00\u8cab\u3057\u3066\u958b\u767a\u3001\u30c6\u30b9\u30c8\u3001\u304a\u3088\u3073\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> <ol> <li> <p>https://docs.docker.com/desktop/ \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u624b\u9806\u3092\u4f7f\u7528\u3057\u3066\u3001OS\u306b\u9069\u3057\u305fDocker Desktop\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <ul> <li>Linux</li> <li>Mac</li> <li>Windows</li> </ul> </li> </ol>"},{"location":"ja/02-Setup/01-Install-Software/#visual-studio-code","title":"Visual Studio Code\uff08\u304a\u3088\u3073\u62e1\u5f35\u6a5f\u80fd\uff09\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Visual Studio Code\u306f\u3001\u5f37\u529b\u306a\u6a5f\u80fd\u3068\u76f4\u611f\u7684\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u591a\u7528\u9014\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30a8\u30c7\u30a3\u30bf\u3067\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u52b9\u7387\u7684\u306a\u8a18\u8ff0\u3001\u30c7\u30d0\u30c3\u30b0\u3001\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3092\u652f\u63f4\u3057\u307e\u3059\u3002</p> <ol> <li> <p>https://code.visualstudio.com/download \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <ul> <li>\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</li> </ul> </li> <li> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001Visual Studio Code\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>Extensions \u30e1\u30cb\u30e5\u30fc\u3067\u3001Microsoft\u304b\u3089\u6b21\u306e\u62e1\u5f35\u6a5f\u80fd\u3092\u691c\u7d22\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <ul> <li>Python</li> </ul> </li> <li> <p>VS Code\u3092\u9589\u3058\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/01-Install-Software/#pgadmin","title":"pgAdmin\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u901a\u3058\u3066\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306bpgAdmin\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002pgAdmin\u306f\u3001Postgres\u306e\u305f\u3081\u306e\u4e3b\u8981\u306a\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3059\u3002</p> <ol> <li> <p>https://www.pgadmin.org/download/ \u304b\u3089pgAdmin\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/02-Fork-Repo/","title":"2.2 \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d5\u30a9\u30fc\u30af\u3059\u308b","text":"<p>PostgreSQL Solution Accelerator: Build your own AI Copilot GitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30b3\u30d4\u30fc\uff08\u30d5\u30a9\u30fc\u30af\u3068\u547c\u3070\u308c\u308b\uff09\u3092\u4f5c\u6210\u3057\u3001\u305d\u308c\u3092\u30ed\u30fc\u30ab\u30eb\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b\u30af\u30ed\u30fc\u30f3\u3057\u3066\u3001\u305d\u306e\u5185\u5bb9\u3092\u64cd\u4f5c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b8c\u4e86\u3059\u308b\u3068\u3001\u6b21\u306e\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <ul> <li> PostgreSQL Solution Accelerator: Build your own AI Copilot \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u500b\u4eba\u306e GitHub \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u30d5\u30a9\u30fc\u30af\u3057\u305f</li> <li> \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30ed\u30fc\u30ab\u30eb\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3057\u305f</li> <li> Visual Studio Code \u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u958b\u3044\u305f</li> </ul>"},{"location":"ja/02-Setup/02-Fork-Repo/#_1","title":"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d5\u30a9\u30fc\u30af\u3059\u308b","text":"<p>GitHub \u3067\u306e\u30d5\u30a9\u30fc\u30af\u3068\u306f\u3001\u516c\u958b\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u500b\u4eba\u7528\u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3092\u6307\u3057\u3001\u5143\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u306a\u304f\u81ea\u7531\u306b\u5909\u66f4\u3092\u8a66\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ol> <li> <p>\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d5\u30a9\u30fc\u30af\u3059\u308b\u306b\u306f\u3001\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u307e\u305f\u306f\u30bf\u30d6\u3092\u958b\u304d\u3001http://aka.ms/pg-byoac-repo/ \u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>Fork \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u3066\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30b3\u30d4\u30fc\u3092 GitHub \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u3001GitHub \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002</p> </li> <li> <p>Create a new fork \u30da\u30fc\u30b8\u3067\u3001Create fork \u3092\u9078\u629e\u3057\u3066\u3001GitHub \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30d5\u30a9\u30fc\u30af\u3055\u308c\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u304c GitHub \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u5185\u3067\u958b\u304d\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/02-Fork-Repo/#_2","title":"\u30d5\u30a9\u30fc\u30af\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30af\u30ed\u30fc\u30f3\u3059\u308b","text":"<ol> <li> <p>\u30d5\u30a9\u30fc\u30af\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e GitHub \u30da\u30fc\u30b8\u3067\u3001Code \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e HTTPS \u30af\u30ed\u30fc\u30f3\u30ea\u30f3\u30af\u306e\u6a2a\u306b\u3042\u308b Copy URL to clipboard \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u65b0\u3057\u3044\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u304d\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30af\u30ed\u30fc\u30f3\u3057\u305f\u3044\u30d5\u30a9\u30eb\u30c0\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5909\u66f4\u3057\u307e\u3059\uff08\u4f8b: D:\\repos\uff09\u3002</p> </li> <li> <p>\u5e0c\u671b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u305f\u3089\u3001\u6b21\u306e <code>git clone</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30d5\u30a9\u30fc\u30af\u306e\u30b3\u30d4\u30fc\u3092\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\u524d\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u30b3\u30d4\u30fc\u3057\u305f\u30af\u30ed\u30fc\u30f3\u30ea\u30f3\u30af\u3067 <code>&lt;url_of_your_forked_repo&gt;</code> \u30c8\u30fc\u30af\u30f3\u3092\u7f6e\u304d\u63db\u3048\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> <pre><code>git clone &lt;url_of_your_forked_repo&gt;\n</code></pre> </li> <li> <p>\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u30af\u30ed\u30fc\u30f3\u3055\u308c\u305f\u3089\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5909\u66f4\u3057\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066 Visual Studio Code \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304d\u307e\u3059\u3002</p> </li> </ol> <pre><code>code .\n</code></pre> <p>Visual Studio Code\u3092\u958b\u3044\u305f\u307e\u307e\u306b\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3067\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"ja/02-Setup/03-Select-Azure-Region/","title":"2.3 Azure \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b","text":"<p><code>azd up</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066 Azure \u30ea\u30bd\u30fc\u30b9\u3092\u6b63\u5e38\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u5fc5\u8981\u306a Azure OpenAI <code>gpt-4o</code> \u304a\u3088\u3073 <code>text-embedding-ada-002</code> \u30e2\u30c7\u30eb\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3001\u305d\u308c\u305e\u308c\u306e\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3066\u5c11\u306a\u304f\u3068\u3082 10K TPM \u306e <code>Standard</code> \u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u304c\u5229\u7528\u53ef\u80fd\u306a\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b8c\u4e86\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u304c\u9054\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\uff1a</p> <ul> <li> \u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u30ea\u30bd\u30fc\u30b9\u306e\u305f\u3081\u306e Azure \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u305f</li> </ul>"},{"location":"ja/02-Setup/03-Select-Azure-Region/#azure-openai","title":"\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u53ef\u7528\u6027\u3068 Azure OpenAI \u306e\u30af\u30a9\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u6b63\u5e38\u306b\u5b8c\u4e86\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u6a5f\u80fd\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b Azure \u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u307b\u3093\u306e\u4e00\u63e1\u308a\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u9069\u5207\u306a\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u306a\u3044\u3068\u3001\u30c7\u30d7\u30ed\u30a4\u304c\u5931\u6557\u3057\u307e\u3059\uff01</p> <p>\u4ee5\u4e0b\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u3001\u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u3001\u30e2\u30c7\u30eb\u3001\u304a\u3088\u3073\u6a5f\u80fd\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u53ef\u7528\u6027\u3092\u78ba\u8a8d\u3057\u3001\u305d\u308c\u306b\u57fa\u3065\u3044\u3066\u30c7\u30d7\u30ed\u30a4\u7528\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>Azure OpenAI \u306e gpt-4o \u304a\u3088\u3073 text-embedding-ada-002 \u30e2\u30c7\u30eb\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u53ef\u7528\u6027\u30ac\u30a4\u30c0\u30f3\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u4e21\u65b9\u306e <code>gpt-4o</code> \u304a\u3088\u3073 <code>text-embedding-ada-002</code> \u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3066\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u5c11\u306a\u304f\u3068\u3082 10K TPM \u306e <code>Standard</code> \u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u304c\u5229\u7528\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u5229\u7528\u53ef\u80fd\u306a\u30af\u30a9\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u3053\u308c\u3089\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/03-Select-Azure-Region/#azure","title":"\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u30ea\u30bd\u30fc\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b Azure \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b","text":"<ol> <li>\u4e0a\u8a18\u306e\u30ec\u30d3\u30e5\u30fc\u304b\u3089\u8981\u4ef6\u3092\u6e80\u305f\u3059\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u57fa\u3065\u3044\u3066\u3001\u4e21\u65b9\u306e Azure OpenAI \u30e2\u30c7\u30eb\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3001 \u5341\u5206\u306a <code>Standard</code> TPM \u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u3092\u6301\u3064\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> </ol> <p>\u4e21\u65b9\u306e Azure OpenAI \u30e2\u30c7\u30eb\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> <ul> <li> <p>\u4e21\u65b9\u306e Azure OpenAI \u30e2\u30c7\u30eb\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u3068\u3001<code>azd up</code> \u3092\u5b9f\u884c\u3057\u305f\u969b\u306b\u30c7\u30d7\u30ed\u30a4\u304c\u5931\u6557\u3057\u307e\u3059\u3002</p> </li> <li> <p><code>gpt-4o</code> \u304a\u3088\u3073 <code>text-embedding-ada-002</code> \u30e2\u30c7\u30eb\u306e\u4e21\u65b9\u306b\u5bfe\u3057\u3066\u5c11\u306a\u304f\u3068\u3082 10K TPM \u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u3092\u6301\u305f\u306a\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3059\u308b\u3068\u3001<code>azd up</code> \u3092\u5b9f\u884c\u3057\u305f\u969b\u306b\u30c7\u30d7\u30ed\u30a4\u304c\u5931\u6557\u3057\u307e\u3059\u3002</p> </li> </ul>"},{"location":"ja/02-Setup/04-Verify-Azure-Quota/","title":"2.4 Azure \u30af\u30a9\u30fc\u30bf\u306e\u78ba\u8a8d","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u306f\u3001Azure \u3067\u5fc5\u8981\u306a\u30ea\u30bd\u30fc\u30b9\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3057\u3001\u30b9\u30bf\u30fc\u30bf\u30fc\u30a2\u30d7\u30ea\u3092 Azure Container Apps (ACA) \u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b Azure Developer CLI <code>azd-template</code> \u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u5358\u4e00\u306e <code>azd up</code> \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3092\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u307e\u3059\u3002</p> <ul> <li> Azure ML CPU \u30af\u30a9\u30fc\u30bf\u3092\u78ba\u8a8d\u6e08\u307f</li> <li> Azure \u306b\u8a8d\u8a3c\u6e08\u307f</li> <li> Azure \u30ea\u30bd\u30fc\u30b9\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3057\u3001\u30b9\u30bf\u30fc\u30bf\u30fc\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u6e08\u307f</li> </ul>"},{"location":"ja/02-Setup/04-Verify-Azure-Quota/#azure-ml-cpu","title":"Azure ML CPU \u30af\u30a9\u30fc\u30bf\u306e\u78ba\u8a8d","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306b\u306f\u3001PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u76f4\u63a5\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u30e2\u30c7\u30eb\u3092\u8a2d\u5b9a\u304a\u3088\u3073\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306b\u306f\u3001\u9078\u629e\u3057\u305f\u30e2\u30c7\u30eb\u306b\u5fdc\u3058\u3066 Azure Machine Learning \u306b\u5341\u5206\u306a CPU \u30af\u30a9\u30fc\u30bf\uff084 \u307e\u305f\u306f 16 \u30b3\u30a2\uff09\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <ul> <li>Hugging Face miniLM \u30ea\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306e\u30c7\u30d7\u30ed\u30a4\u3002\u5c0f\u578b\u30e2\u30c7\u30eb\u3001\u9ad8\u7cbe\u5ea6\u30014 CPU \u30b3\u30a2\u304c\u5fc5\u8981\u3002</li> <li>Hugging Face BGE \u30ea\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306e\u30c7\u30d7\u30ed\u30a4\u3002\u5927\u578b\u30e2\u30c7\u30eb\u3001\u6700\u9ad8\u7cbe\u5ea6\u300116 CPU \u30b3\u30a2\u304c\u5fc5\u8981\u3002</li> </ul> <p>\u3053\u306e\u30bf\u30b9\u30af\u3067\u306f\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u4eee\u60f3\u30de\u30b7\u30f3 (VM) \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7 (<code>STANDARD_D4AS_V4</code> \u307e\u305f\u306f <code>STANDARD_D16AS_V4</code>) \u306e\u5229\u7528\u53ef\u80fd\u306a\u30af\u30a9\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u3001\u306a\u3044\u5834\u5408\u306f\u8ffd\u52a0\u306e\u30af\u30a9\u30fc\u30bf\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li> <p>\u5229\u7528\u53ef\u80fd\u306a\u30af\u30a9\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001\u307e\u305a Azure \u30dd\u30fc\u30bf\u30eb \u304b\u3089 Microsoft Entra ID \u30c6\u30ca\u30f3\u30c8 ID \u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> </li> <li> <p>Azure \u30dd\u30fc\u30bf\u30eb\u3067\u3001\u691c\u7d22\u30d0\u30fc\u306b\u300cMicrosoft Entra ID\u300d\u3068\u5165\u529b\u3057\u3001\u7d50\u679c\u306e \u30b5\u30fc\u30d3\u30b9 \u30ea\u30b9\u30c8\u304b\u3089 Microsoft Entra ID \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>Microsoft Entra ID \u30c6\u30ca\u30f3\u30c8\u306e \u6982\u8981 \u30da\u30fc\u30b8\u3067\u3001\u30c6\u30ca\u30f3\u30c8 ID \u306e \u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u307e\u305f\u306f\u30bf\u30d6\u3092\u958b\u304d\u3001Azure \u30dd\u30fc\u30bf\u30eb\u306e Entra ID \u6982\u8981\u30da\u30fc\u30b8\u304b\u3089\u30b3\u30d4\u30fc\u3057\u305f\u30c6\u30ca\u30f3\u30c8 ID \u3067 <code>&lt;your-tenant-id&gt;</code> \u30c8\u30fc\u30af\u30f3\u3092\u7f6e\u304d\u63db\u3048\u3066\u3001\u6b21\u306e URL \u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> Azure ML Quota page<pre><code>https://ml.azure.com/quota?tid=&lt;your-tenant-id&gt;\n</code></pre> </li> <li> <p>Azure ML \u306e Quota \u30da\u30fc\u30b8\u3067\u3001\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3067\u4f7f\u7528\u3059\u308b\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u9078\u629e\u3057\u305f\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306e\u30af\u30a9\u30fc\u30bf\u30da\u30fc\u30b8\u3067\u3001\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3067\u4f7f\u7528\u3059\u308b\u4e88\u5b9a\u306e Azure \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u524d\u306e\u30bf\u30b9\u30af\u3067\u9078\u629e\u3057\u305f\u3001\u5fc5\u8981\u306a Azure OpenAI \u30e2\u30c7\u30eb\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> </li> <li> <p>\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u5185\u306e CPU \u3068\u305d\u306e\u30af\u30a9\u30fc\u30bf\u306e\u30ea\u30b9\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u30ea\u30b9\u30c8\u5185\u306e Standard DASv4 Family Cluster Dedicated vCPUs \u3092\u898b\u3064\u3051\u3066\u3001\u5229\u7528\u53ef\u80fd\u306a Quota \u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>(\u30df\u30cb\u30e2\u30c7\u30eb\u306e\u5834\u5408\u306f 4 \u30b3\u30a2\u3001bge \u30e2\u30c7\u30eb\u306e\u5834\u5408\u306f 16 \u30b3\u30a2) \u4ee5\u4e0a\u304c\u5229\u7528\u53ef\u80fd\u3067\u3042\u308c\u3070\u3001\u30af\u30a9\u30fc\u30bf\u306e\u5897\u52a0\u3092\u8981\u6c42\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u540d\u524d\u306e\u5de6\u5074\u306e\u30dc\u30c3\u30af\u30b9\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066 Standard DASv4 Family Cluster Dedicated vCPUs \u3092\u9078\u629e\u3057\u3001\u30da\u30fc\u30b8\u306e\u4e0a\u90e8\u306b\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3066 Request quota \u30dc\u30bf\u30f3\u3092\u898b\u3064\u3051\u307e\u3059\u3002</p> <p></p> </li> <li> <p>Request quota \u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u3001New cores limit \u5024\u3092 (4 \u307e\u305f\u306f 16) \u5897\u3084\u3057\u3001Submit \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> <p>\u30af\u30a9\u30fc\u30bf\u5897\u52a0\u306e\u4f8b</p> <p>\u65b0\u3057\u3044\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306e\u305f\u3081\u306b (4 \u307e\u305f\u306f 16) \u30b3\u30a2\u304c\u5229\u7528\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001new cores limit \u3092\u5897\u3084\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u5229\u7528\u53ef\u80fd\u306a\u30b3\u30a2\u304c\u30bc\u30ed\u306e\u5834\u5408\u3001\u65b0\u3057\u3044\u30b3\u30a2\u5236\u9650\u306f (4 \u307e\u305f\u306f 16) \u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30b3\u30a2\u5236\u9650\u304c 100 \u3067\u73fe\u5728 90 \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u65b0\u3057\u3044\u30b3\u30a2\u5236\u9650\u306f (94 \u307e\u305f\u306f 106) \u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> </li> <li> <p>\u30af\u30a9\u30fc\u30bf\u5897\u52a0\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306f\u901a\u5e38\u6570\u5206\u3067\u5b8c\u4e86\u3057\u307e\u3059\u3002\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\u4e2d\u304a\u3088\u3073\u5b8c\u4e86\u6642\u306b\u3001Azure \u30dd\u30fc\u30bf\u30eb\u3067\u901a\u77e5\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002</p> </li> <li> <p>\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u62d2\u5426\u3055\u308c\u305f\u5834\u5408\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b\u6a29\u9650\u304c\u306a\u3044\u5834\u5408\u3001\u307e\u305f\u306f\u8ffd\u52a0\u306e\u30af\u30a9\u30fc\u30bf\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u306a\u3044\u3053\u3068\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306f\u3001<code>azd up</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b <code>deployAMLModel</code> \u30d5\u30e9\u30b0\u3092 <code>none</code> \u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001Semantic Ranking \u30e2\u30c7\u30eb\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u9664\u5916\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/04-Verify-Azure-Quota/#azure","title":"Azure \u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306e\u78ba\u8a8d","text":"<p>\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u304c Azure Machine Learning \u30ea\u30bd\u30fc\u30b9\u3092\u6b63\u5e38\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u3044\u304f\u3064\u304b\u306e Azure \u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3092 Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306b\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u5fc5\u8981\u306a Azure \u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\uff1a</p> <ul> <li><code>Microsoft.Cdn</code></li> <li><code>Microsoft.PolicyInsights</code></li> <li><code>Microsoft.MachineLearningServices</code></li> <li><code>Microsoft.ApiManagement</code></li> </ul> <p>\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3001\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u767b\u9332\u3059\u308b\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\uff1a</p> <ol> <li> <p>\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306b\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\uff1a</p> Text Only<pre><code>az provider list --query \"[?namespace=='Microsoft.Cdn' || namespace=='Microsoft.PolicyInsights' || namespace == 'Microsoft.MachineLearningServices' || namespace == 'Microsoft.ApiManagement'].{Namespace: namespace, RegistrationState: registrationState}\" -o table\n</code></pre> <p>\u307e\u305f\u306f\u3001Azure \u30dd\u30fc\u30bf\u30eb\u5185\u306e\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306b\u79fb\u52d5\u3057\u3001\u8a2d\u5b9a\u306e\u4e0b\u306e\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u3067\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3092\u8868\u793a\u3057\u3001\u767b\u9332\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30b3\u30f3\u30bd\u30fc\u30eb\u51fa\u529b\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff1a</p> Text Only<pre><code>Namespace                          RegistrationState\n---------------------------------  -------------------\nMicrosoft.MachineLearningServices  NotRegistered\nMicrosoft.Cdn                      Registered\nMicrosoft.PolicyInsights           NotRegistered\nMicrosoft.ApiManagement            NotRegistered\n</code></pre> <p>\u30b3\u30f3\u30bd\u30fc\u30eb\u51fa\u529b\u306b\u306f\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3068RegistrationState\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002RegistrationState\u304cRegistered\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u306e\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306f Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> </li> <li> <p>Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306b\u3059\u3079\u3066\u306e\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3092\u767b\u9332\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\uff1a</p> </li> </ol> Text Only<pre><code>az provider register --namespace Microsoft.MachineLearningServices\n    az provider register --namespace Microsoft.Cdn\n    az provider register --namespace Microsoft.PolicyInsights\n    az provider register --namespace Microsoft.ApiManagement\n</code></pre> <p>1\u3064\u4ee5\u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u304c\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u30ea\u30bd\u30fc\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306b\u5bfe\u3057\u3066\u306e\u307f\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/02-Setup/05-Provision-And-Deploy/","title":"2.5 \u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3068\u30c7\u30d7\u30ed\u30a4","text":"<p>\u3053\u306e\u30e9\u30dc\u3092\u5b8c\u4e86\u3059\u308b\u306b\u306f\u3001\u6709\u52b9\u306a Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3001GitHub \u30a2\u30ab\u30a6\u30f3\u30c8\u3001\u304a\u3088\u3073\u95a2\u9023\u3059\u308b Azure OpenAI \u30e2\u30c7\u30eb\u3078\u306e\u30a2\u30af\u30bb\u30b9\u304c\u5fc5\u8981\u3067\u3059\u3002\u8a73\u7d30\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001\u524d\u63d0\u6761\u4ef6\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/02-Setup/05-Provision-And-Deploy/#docker-desktop","title":"Docker Desktop \u3092\u8d77\u52d5\u3059\u308b","text":"<p>Docker Desktop \u306f\u3001Woodgrove Bank Portal and API \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u304a\u3088\u3073\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002<code>azd up</code> \u3092\u4f7f\u7528\u3057\u3066\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\u3092\u958b\u59cb\u3059\u308b\u524d\u306b\u3001\u5b9f\u884c\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li> <p>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u304b\u3089 Docker Desktop \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30b7\u30b9\u30c6\u30e0\u30c8\u30ec\u30a4\u307e\u305f\u306f\u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u306b Docker \u30a2\u30a4\u30b3\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3001\u5b9f\u884c\u4e2d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/05-Provision-And-Deploy/#azure","title":"Azure \u306b\u8a8d\u8a3c\u3059\u308b","text":"<p><code>azd up</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001VS Code \u74b0\u5883\u3092 Azure \u306b\u8a8d\u8a3c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>Azure \u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001VS Code \u304b\u3089\u8a8d\u8a3c\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002VS Code \u3067\u65b0\u3057\u3044\u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u304d\u3001\u6b21\u306e\u624b\u9806\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002</li> </ol>"},{"location":"ja/02-Setup/05-Provision-And-Deploy/#az","title":"\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u5f8c\u306e\u30bf\u30b9\u30af\u306e\u305f\u3081\u306b <code>az</code> \u3067\u8a8d\u8a3c\u3059\u308b","text":"<ol> <li> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066 Azure CLI <code>az</code> \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002</p> <pre><code>az login\n</code></pre> </li> <li> <p>\u958b\u3044\u305f\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u30ed\u30b0\u30a4\u30f3\u30d7\u30ed\u30bb\u30b9\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002</p> <p>\u8907\u6570\u306e Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u6301\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001<code>az account set -s &lt;subscription-id&gt;</code> \u3092\u5b9f\u884c\u3057\u3066\u4f7f\u7528\u3059\u308b\u6b63\u3057\u3044\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/05-Provision-And-Deploy/#azd","title":"\u30ea\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3068\u7ba1\u7406\u306e\u305f\u3081\u306b <code>azd</code> \u3067\u8a8d\u8a3c\u3059\u308b","text":"<ol> <li> <p>Azure Developer CLI \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3054\u3068\u306b\u4e00\u5ea6\u3060\u3051\u5fc5\u8981\u3067\u3059\u3002</p> <pre><code>azd auth login\n</code></pre> </li> </ol>"},{"location":"ja/02-Setup/05-Provision-And-Deploy/#azure-ui-api","title":"Azure \u30ea\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3068\u30a2\u30d7\u30ea\u306e\u30c7\u30d7\u30ed\u30a4 (UI \u3068 API)","text":"<p>\u3053\u308c\u3067\u3001Azure \u30ea\u30bd\u30fc\u30b9\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3057\u3001Woodgrove Bank \u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002</p> <ol> <li> <p><code>azd up</code> \u3092\u4f7f\u7528\u3057\u3066 Azure \u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3057\u3001Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092 Azure \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002</p> <pre><code>azd up\n</code></pre> <p><code>azd up</code> \u30b3\u30de\u30f3\u30c9\u306e\u305f\u3081\u306b\u3044\u304f\u3064\u304b\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u307e\u3059:</p> <ul> <li>Enter a new environment name: <code>dev</code> \u306a\u3069\u306e\u5024\u3092\u5165\u529b\u3057\u307e\u3059\u3002</li> <li><code>azd up</code> \u30b3\u30de\u30f3\u30c9\u306e\u74b0\u5883\u306f\u3001\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u3001\u74b0\u5883\u5909\u6570\u3001\u304a\u3088\u3073\u30ea\u30bd\u30fc\u30b9\u304c\u6b63\u3057\u304f\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u304a\u3088\u3073\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</li> <li><code>azd</code> \u74b0\u5883\u3092\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001VS Code \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u306b\u3042\u308b <code>.azure</code> \u30d5\u30a9\u30eb\u30c0\u30fc\u3092\u898b\u3064\u3051\u3066\u524a\u9664\u3057\u307e\u3059\u3002</li> <li>Select an Azure location to use: \u4e0a\u4e0b\u306e\u77e2\u5370\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3066\u3001\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3067\u4f7f\u7528\u3059\u308b Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li>Select an Azure location to use: \u4e0a\u4e0b\u306e\u77e2\u5370\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3066\u3001\u30ea\u30bd\u30fc\u30b9\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b Azure \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li>Enter a value for the <code>deployAMLModel</code> infrastructure parameter: \u4e0a\u4e0b\u306e\u77e2\u5370\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3066\u6b21\u306e\u3044\u305a\u308c\u304b\u306e\u5024\u3092\u9078\u629e\u3057\u307e\u3059:<ul> <li><code>mini</code> \u306f \"MiniLM-L6-v2\" \u30af\u30ed\u30b9\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30e2\u30c7\u30eb\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\uff08\u5c0f\u578b\u3001\u6700\u901f\u3001\u9ad8\u7cbe\u5ea6\u30014 vCPU Azure ML \u30db\u30b9\u30c8\u3092\u30c7\u30d7\u30ed\u30a4\uff09</li> <li><code>bge</code> \u306f \"BGE-Reranker-v2-M3\" \u30af\u30ed\u30b9\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30e2\u30c7\u30eb\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\uff08\u5927\u578b\u3001\u901f\u3044\u3001\u6700\u9ad8\u7cbe\u5ea6\u300116 vCPU Azure ML \u30db\u30b9\u30c8\u3092\u30c7\u30d7\u30ed\u30a4\uff09</li> <li><code>none</code> \u306f\u30af\u30ed\u30b9\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u3092\u30c7\u30d7\u30ed\u30a4\u305b\u305a\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ab\u30fc\u6a5f\u80fd\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</li> </ul> </li> <li><code>False</code> \u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001\u3053\u306e\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306e \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> <li>Enter a value for the <code>resourceGroupName</code> infrastructure parameter: <code>rg-postgresql-accelerator</code> \u307e\u305f\u306f\u985e\u4f3c\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u307e\u3059\u3002</li> </ul> </li> <li> <p>\u30d7\u30ed\u30bb\u30b9\u304c\u5b8c\u4e86\u3059\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002<code>deployAMLModel</code> \u8a2d\u5b9a\u3067\u9078\u629e\u3057\u305f\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u5fdc\u3058\u3066\u3001\u30c7\u30d7\u30ed\u30a4\u306b\u304b\u304b\u308b\u6642\u9593\u306f\u7570\u306a\u308a\u307e\u3059\u3002</p> <ul> <li><code>mini</code> \u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001\u3059\u3079\u3066\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306e\u306b\u7d0427\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</li> <li><code>bge</code> \u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001\u3059\u3079\u3066\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306e\u306b\u7d0447\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</li> <li><code>none</code> \u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001\u3059\u3079\u3066\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306e\u306b\u7d0414\u5206\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</li> </ul> <p>\u306a\u305c MiniLM-L6-v2 \u307e\u305f\u306f BGE-Reranker-v2-M3 \u3092\u9078\u3076\u306e\u304b\uff1f</p> <p>MiniLM-L-6-v2 \u3068 BGE-Reranker-v2-M3 \u306e\u9593\u3067\u9078\u629e\u3059\u308b\u969b\u3001\u4e3b\u306a\u9055\u3044\u306f\u7cbe\u5ea6\u3068\u30ec\u30a4\u30c6\u30f3\u30b7\u30fc\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u306b\u3042\u308a\u307e\u3059\u3002</p> <ul> <li> <p>MiniLM-L-6-v2 \u306f\u8efd\u91cf\u306a\u30af\u30ed\u30b9\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30ea\u30e9\u30f3\u30ab\u30fc\u3067\u3001\u57fa\u672c\u7684\u306a\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u306b\u5bfe\u3057\u3066\u5805\u5b9f\u306a\u7cbe\u5ea6\u5411\u4e0a\u3092\u63d0\u4f9b\u3057\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u30fc\u3068\u8a08\u7b97\u8981\u4ef6\u304c\u6bd4\u8f03\u7684\u4f4e\u3044\u3067\u3059\u3002\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3084\u30b3\u30b9\u30c8\u306b\u5927\u304d\u306a\u5f71\u97ff\u3092\u4e0e\u3048\u305a\u306b\u30e9\u30f3\u30ad\u30f3\u30b0\u306e\u5fe0\u5b9f\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u305f\u3044\u30b7\u30ca\u30ea\u30aa\u306b\u6700\u9069\u3067\u3059\u3002\u3053\u306e\u30e2\u30c7\u30eb\u306f\u3001\u307b\u3068\u3093\u3069\u306e\u5b9f\u7528\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3044\u3066\u512a\u308c\u305f\u30d0\u30e9\u30f3\u30b9\u3092\u4fdd\u3061\u3001\u30ea\u30bd\u30fc\u30b9\u304c\u9650\u3089\u308c\u305f\u74b0\u5883\u3067\u3082\u3046\u307e\u304f\u30b9\u30b1\u30fc\u30eb\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u4e00\u65b9\u3001BGE-Reranker-v2-M3 \u306f\u3088\u308a\u5927\u304d\u304f\u5f37\u529b\u306a\u30af\u30ed\u30b9\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u3067\u3001\u6700\u5148\u7aef\u306e\u30e9\u30f3\u30ad\u30f3\u30b0\u54c1\u8cea\u3092\u63d0\u4f9b\u3057\u3001MRR \u3084 nDCG \u30b9\u30b3\u30a2\u304c\u9855\u8457\u306b\u9ad8\u3044\u3067\u3059\u3002\u6700\u5927\u306e\u95a2\u9023\u6027\u3068\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u306a\u5fe0\u5b9f\u5ea6\u304c\u91cd\u8981\u306a\u6cd5\u52d9\u3001\u7814\u7a76\u3001\u4f01\u696d\u306e\u77e5\u8b58\u30b7\u30b9\u30c6\u30e0\u3001\u307e\u305f\u306f\u30ab\u30b9\u30bf\u30de\u30fc\u30b5\u30dd\u30fc\u30c8\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u306a\u3069\u306e\u9ad8\u7cbe\u5ea6\u691c\u7d22\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067\u512a\u308c\u3066\u3044\u307e\u3059\u3002\u8ffd\u52a0\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u30fc\u304c\u8a31\u5bb9\u3055\u308c\u308b\u5834\u5408\u306b\u6700\u9069\u3067\u3059\u3002</p> </li> </ul> <p>\u5b9f\u969b\u306b\u306f\u3001MiniLM-L6-v2 \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30ea\u30e9\u30f3\u30ab\u30fc\u3068\u3057\u3066\u4f7f\u7528\u3057\u3001\u7cbe\u5ea6\u304c\u30ec\u30a4\u30c6\u30f3\u30b7\u30fc\u3092\u4e0a\u56de\u308b\u30d7\u30ec\u30df\u30a2\u30e0\u307e\u305f\u306f\u5c02\u9580\u7684\u306a\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u5bfe\u3057\u3066 BGE-Reranker-v2-M3 \u306b\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>Not enough subscription CPU quota</p> <p><code>azd up</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306bAzure ML\u306eCPU\u30af\u30a9\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u6b21\u306e\u3088\u3046\u306aCPU\u30af\u30a9\u30fc\u30bf\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\uff1a</p> <p>(OutOfQuota) \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306eCPU\u30af\u30a9\u30fc\u30bf\u304c\u4e0d\u8db3\u3057\u3066\u3044\u307e\u3059\u3002\u8981\u6c42\u3055\u308c\u305fCPU\u30af\u30a9\u30fc\u30bf\u306e\u91cf\u306f (4 \u307e\u305f\u306f 16) \u3067\u3001\u6700\u5927\u30af\u30a9\u30fc\u30bf\u306e\u91cf\u306f [N/A] \u3067\u3059\u3002\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30ac\u30a4\u30c9\u306f\u3001\u3053\u3061\u3089\u3067\u3054\u89a7\u3044\u305f\u3060\u3051\u307e\u3059: https://aka.ms/oe-tsg#error-outofquota</p> <p>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u7d9a\u884c\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u304c\u3001\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u30e2\u30c7\u30eb\u304c\u5229\u7528\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u306e Semantic Ranking \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Deployment failed: Postgresql server is not in an accessible state</p> <p>Azure Bicep\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u304cPostgreSQL\u30b5\u30fc\u30d0\u30fc\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3057\u305f\u5f8c\u306bPostgreSQL\u7ba1\u7406\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001<code>\u30b5\u30fc\u30d0\u30fc\u304c\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u72b6\u614b\u3067\u306f\u3042\u308a\u307e\u305b\u3093</code> \u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001PostgreSQL\u30b5\u30fc\u30d0\u30fc\u304cAzure\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3067\u307e\u3060\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u4e2d\u3067\u3042\u308b\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u304c\u3059\u3067\u306b\u6210\u529f\u3057\u305f\u3068\u8fd4\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u3001\u5358\u306b <code>azd up</code> \u30b3\u30de\u30f3\u30c9\u3092\u518d\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> Text Only<pre><code>ERROR: error executing step command 'provision': deployment failed: error deploying infrastructure: deploying to subscription:\n\nDeployment Error Details:\nAadAuthOperationCannotBePerformedWhenServerIsNotAccessible: The server 'psql-datacvdjta5pfnc5e' is not in an accessible state to perform Azure AD Principal operation. Please make sure the server is accessible before executing Azure AD Principal operations.\n</code></pre> </li> <li> <p>\u6b63\u5e38\u306b\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u306b <code>SUCCESS: ...</code> \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/05-Provision-And-Deploy/#vs-minilm-l6-v2-vs-bge-reranker-v2-m3","title":"\u6bd4\u8f03\u8868: \u30d9\u30af\u30c8\u30eb\u691c\u7d22 vs. MiniLM-L6-v2 vs. BGE-Reranker-v2-M3","text":"\u30e1\u30c8\u30ea\u30c3\u30af / \u7279\u5fb4 \u6a19\u6e96\u30d9\u30af\u30c8\u30eb\u691c\u7d22 (\u4f8b: BGE Base, OpenAI Embedding) MiniLM-L-6-v2 \u30ea\u30e9\u30f3\u30ab\u30fc BGE-Reranker-v2-M3 \u5165\u529b\u30e2\u30fc\u30c9 \u5225\u3005\u306e\u57cb\u3081\u8fbc\u307f (\u30af\u30a8\u30ea + \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8) \u30b8\u30e7\u30a4\u30f3\u30c8\u30af\u30a8\u30ea + \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u30b8\u30e7\u30a4\u30f3\u30c8\u30af\u30a8\u30ea + \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u30ec\u30a4\u30c6\u30f3\u30b7\u30fc \u4f4e (\u30b5\u30d6\u30df\u30ea\u79d2\u304b\u3089\u30df\u30ea\u79d2) \u4e2d (10\u201330ms \u5178\u578b\u7684) \u9ad8 (50\u2013100ms+) \u8a08\u7b97\u8981\u4ef6 \u6700\u5c0f\u9650 (\u30c9\u30c3\u30c8\u7a4d\u307e\u305f\u306f\u30b3\u30b5\u30a4\u30f3\u985e\u4f3c\u5ea6) \u4f4e (\u5c0f\u3055\u306a\u30e2\u30c7\u30eb) \u4e2d\u7a0b\u5ea6 (\u5927\u304d\u306a\u30e2\u30c7\u30eb) MRR@10 ~0.32\u20130.36 ~0.38\u20130.39 ~0.42\u20130.44 nDCG@10 ~0.45\u20130.50 ~0.52\u20130.54 ~0.57\u20130.60 \u30e9\u30f3\u30ad\u30f3\u30b0\u54c1\u8cea \u666e\u901a \u2014 \u7c97\u3044\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u95a2\u9023\u6027 \u3088\u308a\u826f\u3044 \u2014 \u591a\u5c11\u306e\u30cb\u30e5\u30a2\u30f3\u30b9 \u512a\u308c\u305f \u2014 \u9ad8\u3044\u5fe0\u5b9f\u5ea6 \u6700\u9069\u306a\u4f7f\u7528\u30b1\u30fc\u30b9 \u9ad8\u901f\u306a\u521d\u56de\u53d6\u5f97 \u8efd\u91cf\u306a\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0 \u9ad8\u7cbe\u5ea6\u306a\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0"},{"location":"ja/02-Setup/06-Validation/","title":"2.6 \u30c7\u30d7\u30ed\u30a4\u306e\u691c\u8a3c","text":"<p>\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01</p> <p>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u3068\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002</p> <ul> <li> \u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3068\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f</li> <li> \u30b5\u30f3\u30d7\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d5\u30a9\u30fc\u30af\u3057\u3001\u30ed\u30fc\u30ab\u30eb\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f</li> <li> Azure\u3067\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30ea\u30bd\u30fc\u30b9\u3092\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3057\u307e\u3057\u305f</li> <li> React UI\u3068Python API\u3092Azure Container Apps\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3057\u305f</li> <li> \u30ed\u30fc\u30ab\u30eb\u958b\u767a\u74b0\u5883\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u305f</li> </ul> <p>\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u3092\u78ba\u8a8d\u3059\u308b\u969b\u306b\u53c2\u7167\u3067\u304d\u308bAzure\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3067\u3059\u3002</p> <p></p> <p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u6b21\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u30d5\u30a7\u30fc\u30ba\u306b\u9032\u3080\u524d\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u691c\u8a3c\u3057\u307e\u3059\u3002</p>"},{"location":"ja/02-Setup/06-Validation/#azure","title":"\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305fAzure\u30ea\u30bd\u30fc\u30b9\u306e\u78ba\u8a8d","text":"<p>Azure\u30dd\u30fc\u30bf\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001Azure\u306b\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u3092\u8868\u793a\u3057\u3001\u6b63\u3057\u304f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059</p> <ol> <li> <p>\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30bf\u30d6\u3092\u958b\u304d\u3001\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u3092\u6c42\u3081\u3089\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>https://portal.azure.com/#browse/resourcegroups\n</code></pre> </li> <li> <p>\"Microsoft Azure\u3078\u3088\u3046\u3053\u305d\"\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u30ad\u30e3\u30f3\u30bb\u30eb\u3092\u9078\u629e\u3057\u3066\u753b\u9762\u3092\u9589\u3058\u308b\u304b\u3001\u306f\u3058\u3081\u306b\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Azure\u30dd\u30fc\u30bf\u30eb\u306e\u7d39\u4ecb\u30c4\u30a2\u30fc\u3092\u53d7\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306e\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u30da\u30fc\u30b8\u306b\u76f4\u63a5\u79fb\u52d5\u3057\u307e\u3059\u3002\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u30ea\u30b9\u30c8\u3067\u3001<code>rg-postgresql-accelerator</code>\u3068\u3044\u3046\u540d\u524d\u306e\u3082\u306e\u3092\u898b\u3064\u3051\u307e\u3059\uff08\u307e\u305f\u306f\u3001\u7570\u306a\u308b\u540d\u524d\u3092\u5272\u308a\u5f53\u3066\u305f\u5834\u5408\u306f\u305d\u306e\u540d\u524d\u3092\u898b\u3064\u3051\u307e\u3059\uff09\u3002\u3053\u306e\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306f\u3001<code>azd up</code>\u30ea\u30bd\u30fc\u30b9\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306e\u4e00\u74b0\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002AI\u5bfe\u5fdc\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u304a\u3088\u3073\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306eAzure\u30ea\u30bd\u30fc\u30b9\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u691c\u7d22\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u3066\u8868\u793a\u3055\u308c\u308b\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u6570\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p>\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u30ea\u30b9\u30c8\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p>\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\u306b\u52a0\u3048\u3066\u3001<code>azd up</code>\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u8868\u306b\u793a\u3059\u3088\u3046\u306b\u3001\u8907\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u305d\u306e\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3057\u305f\u3002</p> </li> </ol> <p><code>``markdown | Name                        | Type                             | | --------------------------- | -------------------------------- | |</code>appcs-<code>| Application Configuration        | |</code>appi-<code>| Application Insights             | |</code>ca-api-<code>| Container App                    | |</code>ca-portal-<code>| Container App                    | |</code>cae-<code>| Container Apps Environment       | |</code>cr<code>| Container registry               | |</code>di-<code>| Document Intelligence            | |</code>kv-<code>| Key Vault                        | |</code>lang-<code>| Language                         | |</code>log-<code>| Log Analytics workspace          | |</code>mle-<code>| Machine learning online endpoint | |</code>mlw-<code>| Azure Machine Learning workspace | |</code>openai-<code>| Azure OpenAI                     | |</code>psql-data<code>| Azure Database for PostgreSQL flexible server | |</code>st`         | Storage Account                  | <p>\u4e0a\u8a18\u306e\u30ea\u30bd\u30fc\u30b9\u540d\u306b\u3042\u308b <code>&lt;unique_string&gt;</code> \u30c8\u30fc\u30af\u30f3\u306f\u3001\u30ea\u30bd\u30fc\u30b9\u306e\u547d\u540d\u6642\u306b Bicep \u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u30e6\u30cb\u30fc\u30af\u306a\u6587\u5b57\u5217\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30ea\u30bd\u30fc\u30b9\u304c\u30e6\u30cb\u30fc\u30af\u306b\u547d\u540d\u3055\u308c\u3001\u30ea\u30bd\u30fc\u30b9\u547d\u540d\u306e\u885d\u7a81\u3092\u907f\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u4e0a\u8a18\u306e\u30ea\u30bd\u30fc\u30b9\u306b\u52a0\u3048\u3066\u3001Managed Identities \u306e\u3088\u3046\u306a\u3001\u8868\u306b\u3042\u308b\u30ea\u30bd\u30fc\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3082\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"ja/02-Setup/06-Validation/#_1","title":"\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u30a2\u30d7\u30ea\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b","text":"<p><code>azd up</code> \u30b3\u30de\u30f3\u30c9\u306b\u306f\u3001Woodgrove Bank \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092 Azure Container Apps (ACA) \u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u624b\u9806\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u30022\u3064\u306e\u30b3\u30f3\u30c6\u30ca\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u30021\u3064\u306f Woodgrove Bank \u30dd\u30fc\u30bf\u30eb UI \u7528\u3067\u3001\u3082\u30461\u3064\u306f\u305d\u308c\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30d0\u30c3\u30af\u30a8\u30f3\u30c9 API \u7528\u3067\u3059\u3002</p> <p>Azure Container Apps (ACA) \u306e\u30c7\u30d7\u30ed\u30a4</p> <p>ACA \u306f\u3001\u30b3\u30f3\u30c6\u30ca\u5316\u3055\u308c\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7c21\u5358\u306b\u30c7\u30d7\u30ed\u30a4\u304a\u3088\u3073\u7ba1\u7406\u3067\u304d\u308b\u5b8c\u5168\u306b\u7ba1\u7406\u3055\u308c\u305f\u30b5\u30fc\u30d0\u30fc\u30ec\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3059\u3002\u30c7\u30d7\u30ed\u30a4\u3092\u7c21\u7d20\u5316\u3057\u3001\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u3068\u30b3\u30b9\u30c8\u52b9\u7387\u3092\u63d0\u4f9b\u3057\u3001\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u7ba1\u7406\u3092\u6c17\u306b\u305b\u305a\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u306b\u96c6\u4e2d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/02-Setup/06-Validation/#woodgrove-api","title":"Woodgrove API \u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b","text":"<ol> <li> <p>Azure \u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306b\u958b\u304b\u308c\u305f\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001\u540d\u524d\u304c ca-api \u3067\u59cb\u307e\u308b \u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea \u30ea\u30bd\u30fc\u30b9\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>API \u30b3\u30f3\u30c6\u30ca\u30fc\u30a2\u30d7\u30ea\u306e \u6982\u8981 \u30da\u30fc\u30b8\u306e \u57fa\u672c\u60c5\u5831 \u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 URL \u3092\u9078\u629e\u3057\u3001\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f Woodgrove Bank API \u3092\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30bf\u30d6\u3067\u958b\u304d\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u753b\u9762\u306b <code>Welcome to the Woodgrove Bank API!</code> \u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\u3053\u308c\u306f\u3001API \u30a2\u30d7\u30ea\u304c\u6b63\u5e38\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3082\u306e\u3067\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/06-Validation/#woodgrove-ui","title":"Woodgrove \u30dd\u30fc\u30bf\u30eb UI \u3092\u958b\u304f","text":"<ol> <li> <p>Azure \u30dd\u30fc\u30bf\u30eb\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u3092\u542b\u3080\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306b\u623b\u308a\u3001\u540d\u524d\u304c ca-portal \u3067\u59cb\u307e\u308b \u30b3\u30f3\u30c6\u30ca\u30fc\u30a2\u30d7\u30ea \u30ea\u30bd\u30fc\u30b9\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30dd\u30fc\u30bf\u30eb\u30b3\u30f3\u30c6\u30ca\u30fc\u30a2\u30d7\u30ea\u306e \u6982\u8981 \u30da\u30fc\u30b8\u306e \u57fa\u672c\u60c5\u5831 \u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 URL \u3092\u9078\u629e\u3057\u3001\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f Woodgrove Bank \u30dd\u30fc\u30bf\u30eb\u3092\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30bf\u30d6\u3067\u958b\u304d\u307e\u3059\u3002</p> <p></p> </li> <li> <p>Woodgrove Bank \u5951\u7d04\u7ba1\u7406\u30dd\u30fc\u30bf\u30eb\u3067\u3001\u30d9\u30f3\u30c0\u30fc \u30da\u30fc\u30b8\u3092\u9078\u629e\u3057\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u30ea\u30b9\u30c8\u304c\u6b63\u3057\u304f\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p></p> </li> </ol>"},{"location":"ja/02-Setup/06-Validation/#azure-ai-foundry-azure-openai","title":"Azure AI Foundry \u3067 Azure OpenAI \u30e2\u30c7\u30eb\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u8868\u793a\u3059\u308b","text":"<p>Azure AI Foundry \u30dd\u30fc\u30bf\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30a2\u30d7\u30ea\u306e Azure AI \u30ea\u30bd\u30fc\u30b9\u3092\u8868\u793a\u304a\u3088\u3073\u7ba1\u7406\u3067\u304d\u307e\u3059\u3002</p> <p>Azure AI Foundry \u30dd\u30fc\u30bf\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001<code>gpt-4o</code> \u304a\u3088\u3073 <code>text-embedding-ada-002</code> \u30e2\u30c7\u30eb\u304c Azure OpenAI \u30b5\u30fc\u30d3\u30b9\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <ol> <li> <p>Azure \u30dd\u30fc\u30bf\u30eb\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u3092\u542b\u3080\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306b\u623b\u308a\u3001Azure OpenAI \u30ea\u30bd\u30fc\u30b9\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>Azure OpenAI \u30ea\u30bd\u30fc\u30b9\u306e \u6982\u8981 \u30da\u30fc\u30b8\u3067\u3001Azure AI Foundry \u30dd\u30fc\u30bf\u30eb\u3092\u63a2\u7d22 \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>Azure AI Foundry \u3067\u3001\u5de6\u5074\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u306e \u5171\u6709\u30ea\u30bd\u30fc\u30b9 \u306e\u4e0b\u306b\u3042\u308b \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8 \u30e1\u30cb\u30e5\u30fc\u9805\u76ee\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p><code>gpt-4o</code> \u30e2\u30c7\u30eb\u306e <code>completions</code> \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3068 <code>text-embedding-ada-002</code> \u30e2\u30c7\u30eb\u306e <code>embeddings</code> \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/06-Validation/#_2","title":"\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306e\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3092\u78ba\u8a8d\u3059\u308b\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","text":"<p>\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u4e2d\u306b Azure ML \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3053\u3068\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001Azure Machine Learning Studio \u3092\u4f7f\u7528\u3057\u3066\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u304c\u30aa\u30f3\u30e9\u30a4\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u6b63\u5e38\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001<code>azd up</code> \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u4e2d\u306b <code>deployAMLModel</code> \u306b <code>mini</code> \u307e\u305f\u306f <code>bge</code> \u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306b\u306e\u307f\u5fc5\u8981\u3067\u3059\u3002<code>none</code> \u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306f\u3001\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>Azure \u30dd\u30fc\u30bf\u30eb\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u3092\u542b\u3080\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306b\u623b\u308a\u3001Azure Machine Learning \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9 \u30ea\u30bd\u30fc\u30b9\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>Azure ML \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u30da\u30fc\u30b8\u304b\u3089\u3001\u30b9\u30bf\u30b8\u30aa\u3092\u8d77\u52d5 \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u3066\u3001\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 Azure Machine Learning Studio \u3092\u958b\u304d\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u3001Machine Learning Studio \u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u307e\u3059\u3002</p> </li> <li> <p>Machine Learning Studio \u3067\u3001\u5de6\u5074\u306e\u30ea\u30bd\u30fc\u30b9\u30e1\u30cb\u30e5\u30fc\u306e \u30a2\u30bb\u30c3\u30c8 \u306e\u4e0b\u306b\u3042\u308b \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8 \u3092\u9078\u629e\u3057\u3001\u6b21\u306b\u3042\u306a\u305f\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\uff08<code>bge-v2-m3-reranker model</code> \u307e\u305f\u306f <code>msmarco-minilm-deployment-6 model</code>\uff09\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30da\u30fc\u30b8\u3067\u3001(bgev2m3-v1 \u307e\u305f\u306f msmarco-minilm-deployment-6) \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306e Provisioning state \u304c Succeeded \u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p></p> </li> </ol> <p>Azure Portal\u3092\u958b\u3044\u305f\u307e\u307e\u306b\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\u5f8c\u3067\u518d\u8a2a\u3057\u307e\u3059\u3002</p>"},{"location":"ja/02-Setup/07-Setup-Dev-Env/","title":"2.7 \u958b\u767a\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<p>\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001Visual Studio Code \u3067 Python \u958b\u767a\u74b0\u5883\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u306e\u7d42\u308f\u308a\u306b\u306f\u3001\u4ee5\u4e0b\u304c\u5b8c\u4e86\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</p> <ul> <li> Python \u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u305f</li> <li> <code>requirements.txt</code> \u304b\u3089\u5fc5\u8981\u306a Python \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f</li> <li> Woodgrove API \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b <code>.env</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u5185\u5bb9\u3092\u5165\u529b\u3057\u305f</li> <li> pgAdmin \u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3057\u305f</li> </ul>"},{"location":"ja/02-Setup/07-Setup-Dev-Env/#python","title":"Python \u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b","text":"<p>Python \u306e\u4eee\u60f3\u74b0\u5883\u306f\u3001\u30af\u30ea\u30fc\u30f3\u3067\u6574\u7406\u3055\u308c\u305f\u958b\u767a\u30b9\u30da\u30fc\u30b9\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u4e0d\u53ef\u6b20\u3067\u3042\u308a\u3001\u500b\u3005\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u4ed6\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304b\u3089\u72ec\u7acb\u3057\u305f\u4f9d\u5b58\u95a2\u4fc2\u306e\u30bb\u30c3\u30c8\u3092\u6301\u3064\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7570\u306a\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9593\u306e\u7af6\u5408\u3092\u9632\u304e\u3001\u958b\u767a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u4e00\u8cab\u6027\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u7c21\u5358\u306b\u7ba1\u7406\u3057\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u885d\u7a81\u3092\u907f\u3051\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30b9\u30e0\u30fc\u30ba\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u74b0\u5883\u3092\u5b89\u5b9a\u3057\u3066\u4fe1\u983c\u3067\u304d\u308b\u3082\u306e\u306b\u4fdd\u3061\u3001\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u3092\u3088\u308a\u52b9\u7387\u7684\u3067\u554f\u984c\u304c\u5c11\u306a\u3044\u3082\u306e\u306b\u3059\u308b\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3067\u3059\u3002</p> <ol> <li> <p>PostgreSQL Solution Accelerator: Build your own AI Copilot \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u3044\u3066\u3044\u308b Visual Studio Code \u306b\u623b\u308a\u307e\u3059\u3002</p> </li> <li> <p>Visual Studio Code \u3067\u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u958b\u304d\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e <code>src/api</code> \u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5909\u66f4\u3057\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u30bf\u30fc\u30df\u30ca\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u5b9f\u884c\u3057\u3066 <code>.venv</code> \u3068\u3044\u3046\u540d\u524d\u306e\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <pre><code>cd src/api\npython -m venv .venv\n</code></pre> <p>\u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001<code>api</code> \u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u4e0b\u306b <code>.venv</code> \u30d5\u30a9\u30eb\u30c0\u30fc\u3092\u4f5c\u6210\u3057\u3001\u3053\u306e\u30e9\u30dc\u5168\u4f53\u3067\u4f7f\u7528\u3067\u304d\u308b <code>api</code> \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5c02\u7528\u306e Python \u74b0\u5883\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3057\u307e\u3059\u3002</p> <p>OS \u3068\u30b7\u30a7\u30eb\u306b\u5fdc\u3058\u3066\u9069\u5207\u306a\u30b3\u30de\u30f3\u30c9\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0 \u30b7\u30a7\u30eb \u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3059\u308b\u30b3\u30de\u30f3\u30c9 POSIX bash/zsh <code>source .venv/bin/activate</code> fish <code>source .venv/bin/activate.fish</code> csh/tcsh <code>source .venv/bin/activate.csh</code> pwsh <code>.venv/bin/Activate.ps1</code> Windows cmd.exe <code>.venv\\Scripts\\activate.bat</code> PowerShell <code>.venv\\Scripts\\Activate.ps1</code> macOS bash/zsh <code>source .venv/bin/activate</code> </li> <li> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/07-Setup-Dev-Env/#python_1","title":"\u5fc5\u8981\u306aPython\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p><code>src\\api</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u5185\u306e<code>requirements.txt</code>\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u306ePython\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306aPython\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30bb\u30c3\u30c8\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u78ba\u8a8d</p> <p>\u30ea\u30dd\u30b8\u30c8\u30ea\u5185\u306e<code>src\\api\\requirements.txt</code>\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u3001\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>VS Code\u306e\u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb\u30a6\u30a3\u30f3\u30c9\u30a6\u304b\u3089\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u4eee\u60f3\u74b0\u5883\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <pre><code>pip install -r requirements.txt\n</code></pre> </li> </ol>"},{"location":"ja/02-Setup/07-Setup-Dev-Env/#env","title":"<code>.env</code>\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210","text":"<p>\u63a5\u7d9a\u6587\u5b57\u5217\u3084\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306a\u3069\u306e\u69cb\u6210\u5024\u306f\u3001Azure\u30b5\u30fc\u30d3\u30b9\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u9023\u643a\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u3067\u3001Azure App Configuration\u30b5\u30fc\u30d3\u30b9\u306b\u30db\u30b9\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u5024\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u305d\u306e\u30b5\u30fc\u30d3\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u63d0\u4f9b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u30db\u30b9\u30c8\u3059\u308b\u305f\u3081\u306b\u3001<code>.env</code>\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001Woodgrove API\u3092\u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002<code>.env</code>\u30d5\u30a1\u30a4\u30eb\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e<code>src\\api\\app</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u5185\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002</p> <ol> <li> <p>VS Code\u3067\u3001Explorer\u30d1\u30cd\u30eb\u5185\u306e<code>src\\api\\app</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p><code>app</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089New file...\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>VS Code\u306eExplorer\u30d1\u30cd\u30eb\u5185\u3067\u3001\u65b0\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\u3068\u3057\u3066<code>.env</code>\u3092\u5165\u529b\u3057\u307e\u3059\u3002</p> </li> <li> <p><code>.env</code>\u30d5\u30a1\u30a4\u30eb\u306b\u3001\u6b21\u306e\u5185\u5bb9\u3092\u6700\u521d\u306e\u884c\u3068\u3057\u3066\u8ffd\u52a0\u3057\u3001<code>{YOUR_APP_CONFIG_ENDPOINT}</code>\u3092\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u5185\u306eApp Configuration\u30ea\u30bd\u30fc\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002</p> <pre><code>AZURE_APP_CONFIG_ENDPOINT={YOUR_APP_CONFIG_ENDPOINT}\n</code></pre> <p>App Configuration\u30ea\u30bd\u30fc\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u53d6\u5f97</p> <p>App Configuration\u30ea\u30bd\u30fc\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f:</p> <ol> <li> <p>Azure\u30dd\u30fc\u30bf\u30eb\u3067App Configuration\u30ea\u30bd\u30fc\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30ea\u30bd\u30fc\u30b9\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u306eSettings\u306e\u4e0b\u306b\u3042\u308bAccess settings\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>Endpoint\u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u3066\u3001<code>.env</code>\u30d5\u30a1\u30a4\u30eb\u306b\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002</p> <p></p> </li> </ol> </li> <li> <p><code>.env</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/02-Setup/07-Setup-Dev-Env/#pgadmin","title":"pgAdmin \u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b","text":"<p>pgAdmin \u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u3055\u307e\u3056\u307e\u306a\u6a5f\u80fd\u3092\u69cb\u6210\u3057\u3001\u305d\u308c\u3089\u306e\u6a5f\u80fd\u3092\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002<code>azd up</code> \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8 \u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001Microsoft Entra ID \u30e6\u30fc\u30b6\u30fc\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6240\u6709\u8005\u3068\u3057\u3066\u8ffd\u52a0\u3057\u305f\u305f\u3081\u3001Entra ID \u3067\u8a8d\u8a3c\u3057\u307e\u3059\u3002pgAdmin \u3092\u4f7f\u7528\u3057\u3066 Azure Database for PostgreSQL - Flexible Server \u306b\u63a5\u7d9a\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>Azure portal \u3067 Azure Database for PostgreSQL - Flexible Server \u30ea\u30bd\u30fc\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>Azure Database for PostgreSQL - Flexible Server \u30da\u30fc\u30b8\u3067\u3001\u6982\u8981 \u30da\u30fc\u30b8\u306e \u57fa\u672c \u30d1\u30cd\u30eb\u304b\u3089 \u30b5\u30fc\u30d0\u30fc\u540d \u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\u5024\u306e\u53f3\u5074\u306b\u3042\u308b \u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u958b\u767a\u7528\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u3067 pgAdmin \u3092\u958b\u304d\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin \u306e \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc \u3067\u3001\u30b5\u30fc\u30d0\u30fc \u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8 \u30e1\u30cb\u30e5\u30fc\u3067 \u767b\u9332 &gt; \u3092\u9078\u629e\u3057\u3001\u6b21\u306b \u30b5\u30fc\u30d0\u30fc... \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30b5\u30fc\u30d0\u30fc\u306e\u767b\u9332 \u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u30bf\u30d6\u3067\u3001\u6b21\u306e\u624b\u9806\u306b\u5f93\u3044\u307e\u3059\u3002</p> <ol> <li> <p>\u4e00\u822c \u30bf\u30d6\u3067\u3001\u540d\u524d \u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u300cPostgreSQLSolutionAccelerator\u300d\u3068\u5165\u529b\u3057\u3001\u4eca\u3059\u3050\u63a5\u7d9a \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u30af\u30ea\u30a2\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u63a5\u7d9a \u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u30db\u30b9\u30c8\u540d/\u30a2\u30c9\u30ec\u30b9 \u3068 \u30e6\u30fc\u30b6\u30fc\u540d \u306b Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a73\u7d30\u3092\u5165\u529b\u3057\u307e\u3059\u3002</p> <ol> <li>Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc\u306e \u30b5\u30fc\u30d0\u30fc\u540d \u306e\u5024\u3092 \u30db\u30b9\u30c8\u540d/\u30a2\u30c9\u30ec\u30b9 \u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002</li> </ol> </li> </ol> </li> <li> <p>\u30e6\u30fc\u30b6\u30fc\u540d\u306e\u5024\u306f\u3001Microsoft Entra ID\u307e\u305f\u306f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002</p> </li> <li> <p>\u4fdd\u5b58\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin Object Explorer\u3067\u65b0\u3057\u304f\u8ffd\u52a0\u3055\u308c\u305fPostgreSQLSolutionAccelerator\u30b5\u30fc\u30d0\u30fc\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> </ol> <p></p> <ol> <li>\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u63d0\u4f9b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <p>!!! note \"Microsoft Entra ID\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u53d6\u5f97\u65b9\u6cd5\"</p> Text Only<pre><code>   1. VS Code\u3067\u3001\u65b0\u3057\u3044\u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u304d\u307e\u3059\u3002\n\n   2. \u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u751f\u6210\u3057\u3001\u51fa\u529b\u3057\u307e\u3059\uff1a\n\n       ```bash\n       az account get-access-token --resource https://ossrdbms-aad.database.windows.net --query accessToken --output tsv\n       ```\n\n   3. \u51fa\u529b\u3055\u308c\u305f\u5024\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n       !!! info \"\u30c8\u30fc\u30af\u30f3\u306fBase64\u6587\u5b57\u5217\u3067\u3059\u3002\u8a8d\u8a3c\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u3059\u308b\u3059\u3079\u3066\u306e\u60c5\u5831\u3092\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3066\u304a\u308a\u3001Azure Database for PostgreSQL\u30b5\u30fc\u30d3\u30b9\u3092\u5bfe\u8c61\u3068\u3057\u3066\u3044\u307e\u3059\u3002\"\n</code></pre> <ol> <li>pgAdmin\u306b\u623b\u308a\u3001\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002</li> </ol> <p></p> <p>!!! note \"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\uff01\"</p> Text Only<pre><code>   _\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a_\u30c0\u30a4\u30a2\u30ed\u30b0\u306e**\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58**\u30dc\u30c3\u30af\u30b9\u304c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u30dc\u30c3\u30af\u30b9\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3068\u3001\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n</code></pre> <ol> <li>OK\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> </ol> <p>!!! warning \"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u5207\u308c\"</p> Text Only<pre><code>   \u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u4e2d\u306b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u304c\u5207\u308c\u305f\u5834\u5408\u3001\u518d\u8a8d\u8a3c\u3059\u308b\u305f\u3081\u306b\u4e0a\u8a18\u306e\u624b\u9806\u3092\u7e70\u308a\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n</code></pre> <p>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3067\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001pgAdmin\u3092\u958b\u3044\u305f\u307e\u307e\u306b\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/02-Setup/08-Review-Manual-Process/","title":"2.8 \u624b\u52d5\u30d7\u30ed\u30bb\u30b9\u306e\u30ec\u30d3\u30e5\u30fc","text":"<p>Woodgrove Bank Contract Management \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306bAI\u6a5f\u80fd\u3092\u7d71\u5408\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u3092\u958b\u59cb\u3059\u308b\u524d\u306b\u3001\u73fe\u5728\u5f7c\u3089\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u30c7\u30fc\u30bf\u3092\u5165\u529b\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u624b\u52d5\u30d7\u30ed\u30bb\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\u30e6\u30fc\u30b6\u30fc\u306f\u307e\u305aSOW\u3068\u8acb\u6c42\u66f8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u307f\u3001\u6b63\u3057\u3044\u60c5\u5831\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u624b\u52d5\u30d7\u30ed\u30bb\u30b9\u306f\u975e\u5e38\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3084\u3059\u3044\u3067\u3059\u3002</p>"},{"location":"ja/02-Setup/08-Review-Manual-Process/#sow","title":"SOW\u306e\u30ec\u30d3\u30e5\u30fc","text":"<p>SOW\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3UI\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002</p> <ol> <li> <p>Woodgrove Bank Contract Management Portal\u3067\u3001SOWs \u30da\u30fc\u30b8\u3092\u9078\u629e\u3057\u3001SOW\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>SOW-2024-073 SOW\u3092\u898b\u3064\u3051\u3001Actions \u5217\u306e\u4e0b\u306b\u3042\u308b Edit \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001SOW\u306e\u7de8\u96c6\u30da\u30fc\u30b8\u304c\u958b\u304d\u307e\u3059\u3002</p> <p></p> </li> <li> <p>SOW\u7de8\u96c6\u30da\u30fc\u30b8\u3067\u3001Statement of Work \u306e\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\uff08\u30d9\u30f3\u30c0\u30fc\u3001SOW\u540d\u3001\u4e88\u7b97\u3001\u958b\u59cb\u65e5\u3001\u7d42\u4e86\u65e5\uff09\u3092\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305fSOW\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u57fa\u3065\u3044\u3066\u624b\u52d5\u3067\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u30ea\u30b9\u30c8\u306b\u3082\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p></p> </li> <li> <p>Monitoring \u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e Edit \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u5fc5\u9808\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305fSOW\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u57fa\u3065\u3044\u3066\u624b\u52d5\u3067\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u6210\u679c\u7269\u3092\u78ba\u8a8d\u3067\u304d\u308b Edit Milestone \u30da\u30fc\u30b8\u304c\u958b\u304d\u307e\u3059\u3002\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u6210\u679c\u7269\u3092\u78ba\u8a8d\u3057\u305f\u5f8c\u3001Back to SOW \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>Edit SOW \u30da\u30fc\u30b8\u3067\u3001Validations \u5c65\u6b74\u30ea\u30b9\u30c8\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u3089\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306f\u3001SOW\u304c\u66f4\u65b0\u3055\u308c\u308b\u305f\u3073\u306b\u624b\u52d5\u3067\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u6709\u52b9\u6027\u306e\u4e0b\u306b\u3001SOW\u30c1\u30e3\u30f3\u30af\u306e\u30ea\u30b9\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306fSOW\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u3055\u307e\u3056\u307e\u306a\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u3067\u3059\u3002\u624b\u52d5\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3067\u306f\u3001\u3053\u308c\u3089\u306fSOW\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u30c6\u30ad\u30b9\u30c8\u3092\u62bd\u51fa\u3059\u308b\u305f\u3081\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u624b\u52d5\u3067\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304cSOW\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u307f\u306a\u304c\u3089\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u969b\u306b\u5165\u529b\u3055\u308c\u307e\u3059\u3002</p> <p></p> </li> </ol>"},{"location":"ja/02-Setup/08-Review-Manual-Process/#_1","title":"\u8acb\u6c42\u66f8\u306e\u30ec\u30d3\u30e5\u30fc","text":"<p>\u8acb\u6c42\u66f8\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3UI\u3092\u30ec\u30d3\u30e5\u30fc\u3057\u307e\u3057\u3087\u3046\u3002</p> <ol> <li> <p>Woodgrove Bank\u5951\u7d04\u7ba1\u7406\u30dd\u30fc\u30bf\u30eb\u3067\u3001\u8acb\u6c42\u66f8\u30da\u30fc\u30b8\u3092\u9078\u629e\u3057\u3066\u8acb\u6c42\u66f8\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u6b21\u306b\u3001\u30ea\u30b9\u30c8\u306e\u6700\u521d\u306e\u8acb\u6c42\u66f8\u306e\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u8acb\u6c42\u66f8\u7de8\u96c6\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u8acb\u6c42\u66f8\u7de8\u96c6\u30da\u30fc\u30b8\u3067\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u8acb\u6c42\u66f8\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u624b\u52d5\u3067\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3055\u307e\u3056\u307e\u306a\u30c7\u30fc\u30bf\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff1a</p> <ul> <li>\u8acb\u6c42\u66f8\u30d5\u30a3\u30fc\u30eb\u30c9\uff08\u30d9\u30f3\u30c0\u30fc\u3001SOW\u540d\u3001\u8acb\u6c42\u66f8\u756a\u53f7\u3001\u91d1\u984d\u3001\u8acb\u6c42\u65e5\u3001\u652f\u6255\u3044\u72b6\u6cc1\uff09</li> <li>\u30e9\u30a4\u30f3\u30a2\u30a4\u30c6\u30e0\u306f\u8acb\u6c42\u66f8\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u62bd\u51fa\u3057\u3001\u624b\u52d5\u3067\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> <li>\u6709\u52b9\u6027\u306f\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u8acb\u6c42\u66f8\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u624b\u52d5\u3067\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u969b\u306b\u30e6\u30fc\u30b6\u30fc\u304c\u624b\u52d5\u3067\u5165\u529b\u3057\u307e\u3059\u3002</li> </ul> <p></p> </li> <li> <p>\u6709\u52b9\u6027\u5185\u3067\u3001\u624b\u52d5\u3067\u5165\u529b\u3055\u308c\u305f\u7d50\u679c\u304c\u4e00\u822c\u7684\u306b\u975e\u5e38\u306b\u77ed\u304f\u3001\u3042\u307e\u308a\u591a\u304f\u306e\u60c5\u5831\u3092\u542b\u3093\u3067\u3044\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p></p> <p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306bAI\u3092\u7d71\u5408\u3059\u308b\u969b\u306b\u6c17\u3065\u304f\u3053\u3068\u306e\u4e00\u3064\u306f\u3001\u5f8c\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067AI\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u6709\u52b9\u6027\u306e\u8981\u7d04\u304c\u306f\u308b\u304b\u306b\u60c5\u5831\u8c4a\u5bcc\u306b\u306a\u308b\u3053\u3068\u3067\u3059\u3002</p> </li> </ol> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01\u65e7\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3067\u624b\u52d5\u5165\u529b\u3055\u308c\u308bSOW\u304a\u3088\u3073\u8acb\u6c42\u66f8\u306e\u30c7\u30fc\u30bf\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\u6b21\u306e\u30e6\u30cb\u30c3\u30c8\u3067\u306f\u3001AI\u3092\u6d3b\u7528\u3057\u305f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u7d71\u5408\u306b\u53d6\u308a\u7d44\u307f\u307e\u3059\uff01</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/","title":"Azure Database for PostgreSQL - Flexible Server \u306b\u30b8\u30a7\u30cd\u30ec\u30fc\u30c6\u30a3\u30d6 AI \u3092\u7d71\u5408\u3059\u308b","text":"\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059\u304b\uff1f <p>\u72ec\u81ea\u306e PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306b\u7d71\u5408\u3057\u305f\u3044\u53c2\u52a0\u8005\u306e\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\uff1a</p> <p>1. \u5fc5\u8981\u306a\u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5fc5\u8981\u306a\u62e1\u5f35\u6a5f\u80fd\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <p>azure_ai: Azure AI \u30b5\u30fc\u30d3\u30b9\u3068\u306e\u7d71\u5408\u3092\u5bb9\u6613\u306b\u3057\u307e\u3059\u3002 pgvector: \u30d9\u30af\u30bf\u30fc\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u3068\u985e\u4f3c\u691c\u7d22\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002 pg_diskann: \u52b9\u7387\u7684\u306a\u30d9\u30af\u30bf\u30fc\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u691c\u7d22\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p>\u6ce8: pg_diskann \u62e1\u5f35\u6a5f\u80fd\u306f\u30d9\u30af\u30bf\u30fc\u62e1\u5f35\u6a5f\u80fd\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u4e21\u65b9\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>2. \u95a2\u9023\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u7279\u5b9a\u3057\u3001\u5909\u66f4\u3059\u308b \u65e2\u5b58\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067 AI \u751f\u6210\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u7279\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\uff1a</p> <ul> <li>\u30d9\u30af\u30bf\u30fc\u5217\u3092\u8ffd\u52a0\u3059\u308b: \u57cb\u3081\u8fbc\u307f\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306b\u30d9\u30af\u30bf\u30fc\u578b\u306e\u5217\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002 \u4f8b: SQL<pre><code>  ALTER TABLE your_table\n  ADD COLUMN embedding vector(1536); -- \u30e2\u30c7\u30eb\u306b\u5fdc\u3058\u3066\u6b21\u5143\u3092\u8abf\u6574\n</code></pre></li> <li>DiskANN \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b: \u30d9\u30af\u30bf\u30fc\u5217\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5316\u3057\u3066\u30af\u30a8\u30ea\u6027\u80fd\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002 \u4f8b: SQL<pre><code>  CREATE INDEX your_table_embedding_diskann_idx\n  ON your_table\n  USING diskann (embedding vector_cosine_ops);\n</code></pre></li> </ul> <p>3. \u30de\u30cd\u30fc\u30b8\u30c9\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3068\u6a29\u9650\u3092\u8a2d\u5b9a\u3059\u308b \u4ee5\u4e0b\u306e Azure \u30b5\u30fc\u30d3\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\uff1a</p> <ul> <li>\u30de\u30cd\u30fc\u30b8\u30c9\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3: \u307e\u3060\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306b\u30de\u30cd\u30fc\u30b8\u30c9\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u5272\u308a\u5f53\u3066\u307e\u3059\u3002</li> <li>\u30ed\u30fc\u30eb\u306e\u5272\u308a\u5f53\u3066: \u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u305f\u3081\u306b\u3001\u95a2\u9023\u3059\u308b Azure Storage \u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u3066\u30de\u30cd\u30fc\u30b8\u30c9\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u306b Storage Blob Data Contributor \u30ed\u30fc\u30eb\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002</li> </ul> <p>\u3053\u308c\u3089\u306e\u624b\u9806\u3092\u5b9f\u65bd\u3059\u308b\u3053\u3068\u3067\u3001\u65e2\u5b58\u306e PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306b\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d71\u5408\u3057\u3001\u52b9\u7387\u7684\u306a AI \u99c6\u52d5\u306e\u30c7\u30fc\u30bf\u51e6\u7406\u3068\u5206\u6790\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</p> <p>\u30b8\u30a7\u30cd\u30ec\u30fc\u30c6\u30a3\u30d6 AI (GenAI) \u306f\u3001\u65e2\u5b58\u306e\u60c5\u5831\u304b\u3089\u5b66\u7fd2\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u3068\u30c7\u30fc\u30bf\u306b\u57fa\u3065\u3044\u3066\u65b0\u3057\u3044\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u4f5c\u6210\u3059\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u305f\u6700\u5148\u7aef\u306e AI \u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u30af\u30e9\u30b9\u3092\u8868\u3057\u307e\u3059\u3002\u81ea\u7136\u8a00\u8a9e\u51e6\u7406 (NLP) \u306f\u305d\u306e\u91cd\u8981\u306a\u90e8\u5206\u3067\u3059\u3002NLP \u306b\u3088\u308a\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30c6\u30a3\u30d6 AI \u306f\u4eba\u9593\u306e\u8a00\u8a9e\u3092\u7406\u89e3\u3057\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u5927\u91cf\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u8981\u7d04\u3057\u305f\u308a\u3001\u8a00\u8a9e\u3092\u7ffb\u8a33\u3057\u305f\u308a\u3001\u4eba\u3068\u4f1a\u8a71\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002NLP \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30c6\u30a3\u30d6 AI \u306f\u81ea\u7136\u306b\u805e\u3053\u3048\u3001\u6587\u8108\u306b\u5408\u3063\u305f\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d7\u30ed\u30f3\u30d7\u30c8\u3084\u30ea\u30c8\u30ea\u30fc\u30d0\u30eb\u5f37\u5316\u751f\u6210 (RAG) \u306a\u3069\u306e\u6280\u8853\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3001GenAI \u306f\u30c6\u30ad\u30b9\u30c8\u3084\u753b\u50cf\u306a\u3069\u306e\u9769\u65b0\u7684\u306a\u51fa\u529b\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>Azure Database for PostgreSQL - Flexible Server \u306b\u304a\u3051\u308b\u751f\u6210AI\uff08GenAI\uff09\u306e\u7d44\u307f\u8fbc\u307f\u306f\u3001Azure AI (<code>azure_ai</code>) \u304a\u3088\u3073 pgvector (<code>vector</code>) \u62e1\u5f35\u6a5f\u80fd\u3092\u901a\u3058\u3066\u5b9f\u73fe\u3055\u308c\u307e\u3059\u3002<code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u306f\u3001\u5927\u898f\u6a21\u8a00\u8a9e\u30e2\u30c7\u30eb\uff08LLM\uff09\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306b\u76f4\u63a5\u7d71\u5408\u3057\u3001Azure OpenAI \u3084 Azure Cognitive Services \u306a\u3069\u306e Azure \u306e\u9ad8\u5ea6\u306a AI \u30b5\u30fc\u30d3\u30b9\u3068\u306e\u30b7\u30fc\u30e0\u30ec\u30b9\u306a\u9023\u643a\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u7d71\u5408\u306b\u3088\u308a\u3001\u5f37\u529b\u306a AI \u6a5f\u80fd\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u306b\u76f4\u63a5\u7d44\u307f\u8fbc\u3080\u3053\u3068\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002<code>vector</code> \u62e1\u5f35\u6a5f\u80fd\u306f <code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u3068\u9023\u643a\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30a8\u30ea\u5185\u3067\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u3001\u305d\u308c\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u304a\u3088\u3073\u30af\u30a8\u30ea\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u5f37\u529b\u306a\u30d9\u30af\u30c8\u30eb\u985e\u4f3c\u6027\u691c\u7d22\u6a5f\u80fd\u3082\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001<code>pg_diskann</code> \u62e1\u5f35\u6a5f\u80fd\u306f\u3001\u52b9\u7387\u7684\u306a\u30d9\u30af\u30c8\u30eb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\u3068\u691c\u7d22\u306e\u305f\u3081\u306e DiskANN \u30b5\u30dd\u30fc\u30c8\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002DiskANN \u306f\u3001\u4efb\u610f\u306e\u30b9\u30b1\u30fc\u30eb\u3067\u52b9\u7387\u7684\u306a\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u3092\u884c\u3046\u305f\u3081\u306e\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u8fd1\u4f3c\u6700\u8fd1\u508d\u691c\u7d22\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u9ad8\u3044\u30ea\u30b3\u30fc\u30eb\u3001\u9ad8\u3044\u30af\u30a8\u30ea\u6bce\u79d2\u3001\u304a\u3088\u3073\u4f4e\u3044\u30af\u30a8\u30ea\u9045\u5ef6\u3092\u63d0\u4f9b\u3057\u3001\u6570\u5341\u5104\u30dd\u30a4\u30f3\u30c8\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u3082\u52b9\u679c\u7684\u3067\u3059\u3002</p> <p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066 PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u751f\u6210AI\u304a\u3088\u3073\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u6a5f\u80fd\u3067\u5f37\u5316\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3053\u3068\u3092\u9054\u6210\u3057\u307e\u3059\uff1a</p> <ul> <li> PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b <code>azure_ai</code>\u3001<code>pg_diskann</code>\u3001\u304a\u3088\u3073 <code>vector</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b</li> <li> Azure AI \u30b5\u30fc\u30d3\u30b9\u306e\u63a5\u7d9a\u8a73\u7d30\u3067 <code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u69cb\u6210\u3059\u308b</li> <li> \u30d9\u30af\u30c8\u30eb\u5217\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30c6\u30fc\u30d6\u30eb\u306b\u8ffd\u52a0\u3057\u3001\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3068\u5171\u306b\u57cb\u3081\u8fbc\u307f\u3092\u4fdd\u5b58\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b</li> <li> DiskANN \u3092\u4f7f\u7528\u3057\u3066\u30d9\u30af\u30c8\u30eb\u30af\u30a8\u30ea\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u5411\u4e0a\u3055\u305b\u308b</li> <li> \u65e2\u5b58\u30c7\u30fc\u30bf\u306e\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u3066\u4fdd\u5b58\u3059\u308b</li> </ul> <p>\u3053\u308c\u3089\u306e\u624b\u9806\u306b\u5f93\u3046\u3053\u3068\u3067\u3001PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5f37\u529b\u306a AI \u5f37\u5316\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u5909\u3048\u3001\u9ad8\u5ea6\u306a\u751f\u6210AI\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3001\u30c7\u30fc\u30bf\u304b\u3089\u3088\u308a\u6df1\u3044\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/01/","title":"3.1 \u62e1\u5f35\u6a5f\u80fd\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc\u3067\u306f\u3001\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6a5f\u80fd\u3092\u62e1\u5f35\u3067\u304d\u307e\u3059\u3002\u62e1\u5f35\u6a5f\u80fd\u306f\u3001\u8907\u6570\u306e\u95a2\u9023\u3059\u308b SQL \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5358\u4e00\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u307e\u3068\u3081\u30011 \u3064\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30ed\u30fc\u30c9\u307e\u305f\u306f\u524a\u9664\u3067\u304d\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30ed\u30fc\u30c9\u3055\u308c\u305f\u5f8c\u3001\u62e1\u5f35\u6a5f\u80fd\u306f\u7d44\u307f\u8fbc\u307f\u6a5f\u80fd\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/01/#_1","title":"\u62e1\u5f35\u6a5f\u80fd\u306e\u8a31\u53ef\u30ea\u30b9\u30c8","text":"<p>Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc\u3067\u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4f7f\u7528\u3059\u308b\u524d\u306b\u3001PostgreSQL \u62e1\u5f35\u6a5f\u80fd\u306e\u4f7f\u7528\u65b9\u6cd5\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u30b5\u30fc\u30d0\u30fc\u306e_\u8a31\u53ef\u30ea\u30b9\u30c8_\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u62e1\u5f35\u6a5f\u80fd\u306e\u8a31\u53ef\u30ea\u30b9\u30c8\u306b\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3057\u305f\u3044\u65b9\u6cd5\u306e\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u63d0\u4f9b\u3055\u308c\u305f\u6307\u793a\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> Azure CLIAzure portal <ol> <li>VS Code \u3067\u65b0\u3057\u3044\u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb \u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u958b\u304d\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u6b21\u306e Azure CLI \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> </ol> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u5185\u306e\u30c8\u30fc\u30af\u30f3\u3092\u3001Azure \u74b0\u5883\u304b\u3089\u306e\u9069\u5207\u306a\u5024\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>[YOUR_RESOURCE_GROUP]: Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc\u3092\u30db\u30b9\u30c8\u3057\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9 \u30b0\u30eb\u30fc\u30d7\u306e\u540d\u524d\u3002</li> <li>[YOUR_POSTGRESQL_SERVER]: Azure Database for PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u540d\u524d\u3002</li> <li>[YOUR_SUBSCRIPTION_ID]: Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3 ID\u3002</li> </ul> <p>\u6b21\u306e Azure CLI \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> Bash<pre><code>az postgres flexible-server parameter set --resource-group [YOUR_RESOURCE_GROUP] \u00a0--server-name [YOUR_POSTGRESQL_SERVER] --subscription [YOUR_SUBSCRIPTION_ID] --name azure.extensions --value azure_ai,pg_diskann,vector\n</code></pre> <ol> <li> <p>Azure portal \u3067 Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u5de6\u5074\u306e\u30ea\u30bd\u30fc\u30b9 \u30e1\u30cb\u30e5\u30fc\u304b\u3089:</p> <ol> <li>\u8a2d\u5b9a\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3001\u30b5\u30fc\u30d0\u30fc \u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li>\u691c\u7d22\u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u300cazure.extensions\u300d\u3068\u5165\u529b\u3057\u307e\u3059\u3002</li> <li>VALUE \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3 \u30ea\u30b9\u30c8\u3067\u305d\u308c\u305e\u308c\u306e\u30dc\u30c3\u30af\u30b9\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001AZURE_AI\u3001PG_DISKANN\u3001VECTOR \u62e1\u5f35\u6a5f\u80fd\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li>\u30c4\u30fc\u30eb\u30d0\u30fc\u306e\u4fdd\u5b58\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> </ol> <p></p> </li> </ol>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/01/#_2","title":"\u62e1\u5f35\u6a5f\u80fd\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u5fc5\u8981\u306a\u62e1\u5f35\u6a5f\u80fd\u304c_\u8a31\u53ef\u30ea\u30b9\u30c8_\u306b\u8ffd\u52a0\u3055\u308c\u305f\u3089\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u3089\u3092\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u3001PostgreSQL\u3067\u5404\u62e1\u5f35\u6a5f\u80fd\u306b\u5bfe\u3057\u3066CREATE EXTENSION\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p><code>CREATE EXTENSION</code>\u306f\u3001\u305d\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u65b0\u3057\u3044\u62e1\u5f35\u6a5f\u80fd\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u901a\u5e38\u3001\u95a2\u6570\u3001\u30c7\u30fc\u30bf\u578b\u3001\u30b9\u30ad\u30fc\u30de\u306a\u3069\u306e\u65b0\u3057\u3044SQL\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u540c\u3058\u540d\u524d\u306e\u62e1\u5f35\u6a5f\u80fd\u304c\u3059\u3067\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u305f\u3081\u3001<code>IF NOT EXISTS</code>\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u3059\u3067\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3067\u3082\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u305a\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</p> <p>pgAdmin\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066SQL\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <ol> <li> <p>\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u3001pgAdmin\u306e\u958b\u3044\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u623b\u308b\uff08\u307e\u305f\u306f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30bf\u30b9\u30af\u5f8c\u306b\u9589\u3058\u305f\u5834\u5408\u306f\u958b\u304f\uff09\u3057\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u3067\u3001PostgreSQL\u30b5\u30fc\u30d0\u30fc\u306e\u4e0b\u306b\u3042\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</p> </li> <li> <p>contracts\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u30af\u30a8\u30ea\u30c4\u30fc\u30eb\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> </ol> <p>\u4ee5\u4e0b\u306e\u5404\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001pgAdmin\u306e\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067<code>CREATE EXTENSION</code>\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> Azure AI\u62e1\u5f35\u6a5f\u80fdpgvector extensionDiskANN extension <p>Azure AI (<code>azure_ai</code>)\u62e1\u5f35\u6a5f\u80fd\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092AI\u5bfe\u5fdc\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089Azure OpenAI\u3084Azure Cognitive Services\u306a\u3069\u306eAzure\u306eAI\u30b5\u30fc\u30d3\u30b9\u306b\u76f4\u63a5\u63a5\u7d9a\u3057\u3001\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u3001\u30c6\u30ad\u30b9\u30c8\u5206\u6790\u3001\u57cb\u3081\u8fbc\u307f\u751f\u6210\u306a\u3069\u306e\u9ad8\u5ea6\u306a\u6a5f\u80fd\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u64cd\u4f5c\u306b\u7d44\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u7d71\u5408\u306b\u3088\u308a\u3001Azure\u306eAI\u30c4\u30fc\u30eb\u3068\u306e\u30b7\u30fc\u30e0\u30ec\u30b9\u306a\u76f8\u4e92\u4f5c\u7528\u304c\u53ef\u80fd\u306b\u306a\u308a\u3001\u6700\u5148\u7aef\u306eAI\u6a5f\u80fd\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5f37\u5316\u3057\u3001\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u304c\u7c21\u7d20\u5316\u3055\u308c\u307e\u3059\u3002</p> <ol> <li> <p><code>azure_ai</code>\u62e1\u5f35\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\uff1a</p> SQL<pre><code>CREATE EXTENSION IF NOT EXISTS azure_ai;\n</code></pre> </li> </ol> <p>pgvector (<code>vector</code>) \u62e1\u5f35\u6a5f\u80fd\u306f\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u9ad8\u5ea6\u306a\u30d9\u30af\u30c8\u30eb\u64cd\u4f5c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d9\u30af\u30c8\u30eb\u30c7\u30fc\u30bf\u3092PostgreSQL\u5185\u3067\u76f4\u63a5\u4fdd\u5b58\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5316\u3001\u30af\u30a8\u30ea\u3059\u308b\u3053\u3068\u3067\u3001\u30d9\u30af\u30c8\u30eb\u985e\u4f3c\u6027\u691c\u7d22\u3092\u5bb9\u6613\u306b\u3059\u308b\u3088\u3046\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u62e1\u5f35\u6a5f\u80fd\u306f\u3001\u30d9\u30af\u30c8\u30eb\u985e\u4f3c\u6027\u306b\u57fa\u3065\u3044\u305f\u3088\u308a\u8907\u96d1\u3067\u610f\u5473\u306e\u3042\u308b\u30c7\u30fc\u30bf\u53d6\u5f97\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <ol> <li> <p><code>vector</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u4f5c\u6210\u3057\u307e\u3059:</p> SQL<pre><code>CREATE EXTENSION IF NOT EXISTS vector;\n</code></pre> </li> </ol> <p>DiskANN (<code>pg_diskann</code>) \u62e1\u5f35\u6a5f\u80fd\u306f\u3001\u52b9\u7387\u7684\u306a\u30d9\u30af\u30c8\u30eb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\u3068\u691c\u7d22\u306e\u305f\u3081\u306bDiskANN\u3092\u4f7f\u7528\u3059\u308b\u30b5\u30dd\u30fc\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u306e\u62e1\u5f35\u6a5f\u80fd\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3068\u3001\u30d9\u30af\u30c8\u30eb\u30c7\u30fc\u30bf\u3092\u542b\u3080\u30c6\u30fc\u30d6\u30eb\u5217\u306b <code>diskann</code> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002</p> <ol> <li> <p><code>pg_diskann</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u4f5c\u6210\u3057\u307e\u3059:</p> SQL<pre><code>CREATE EXTENSION IF NOT EXISTS pg_diskann;\n</code></pre> </li> </ol> <p>DiskANN\u62e1\u5f35\u6a5f\u80fd\u306fpgvector\u62e1\u5f35\u6a5f\u80fd\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002</p> <p><code>pg_diskann</code> \u306f <code>vector</code> \u62e1\u5f35\u6a5f\u80fd\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u540c\u3058\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u307e\u305a <code>vector</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u8a31\u53ef\u3057\u3066\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3042\u308b\u3044\u306f\u3001\u4e0a\u8a18\u306e\u30af\u30a8\u30ea\u3067 <code>CASCADE</code> \u53e5\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001PostgreSQL\u306f\u62e1\u5f35\u6a5f\u80fd\u306e\u4f9d\u5b58\u95a2\u4fc2\u306b\u5bfe\u3057\u3066\u6697\u9ed9\u7684\u306b <code>CREATE EXTENSION</code> \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/02/","title":"3.2 Azure AI \u62e1\u5f35\u6a5f\u80fd\u306e\u8a2d\u5b9a","text":"<p><code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001Azure OpenAI\u3001Azure AI Language\u3001\u304a\u3088\u3073 Azure ML \u30b5\u30fc\u30d3\u30b9\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u76f4\u63a5\u7d71\u5408\u3067\u304d\u307e\u3059\u3002\u62e1\u5f35\u6a5f\u80fd\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u958b\u59cb\u3059\u308b\u306b\u306f\u3001\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u30ad\u30fc\u3092\u63d0\u4f9b\u3057\u3066\u3001Azure AI \u304a\u3088\u3073 ML \u30b5\u30fc\u30d3\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u6700\u521d\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/02/#pgadmin-sql","title":"pgAdmin \u3067 SQL \u3092\u5b9f\u884c\u3057\u3066\u62e1\u5f35\u6a5f\u80fd\u3092\u8a2d\u5b9a\u3059\u308b","text":"<p>pgAdmin \u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066 SQL \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067 <code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <ol> <li> <p>\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u3001pgAdmin \u306e\u958b\u3044\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u623b\u308a\uff08\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30bf\u30b9\u30af\u306e\u5f8c\u306b\u9589\u3058\u305f\u5834\u5408\u306f\u958b\u3044\u3066\uff09\u3001PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin \u306e Object Explorer \u3067\u3001PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u4e0b\u306b\u3042\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</p> </li> <li> <p>contracts \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089 Query Tool \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> </ol> <p>\u4ee5\u4e0b\u306e\u5404\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u5404 Azure AI \u30b5\u30fc\u30d3\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306b\u63d0\u4f9b\u3055\u308c\u305f SQL \u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> Azure OpenAI <p>Azure AI \u62e1\u5f35\u6a5f\u80fd\u306b\u306f <code>azure_openai</code> \u30b9\u30ad\u30fc\u30de\u304c\u542b\u307e\u308c\u3066\u304a\u308a\u3001Azure OpenAI embeddings \u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u3001\u30c6\u30ad\u30b9\u30c8\u5024\u306e\u30d9\u30af\u30c8\u30eb\u8868\u73fe\u306e\u4f5c\u6210\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u76f4\u63a5\u7d71\u5408\u3067\u304d\u307e\u3059\u3002\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u306f\u3001\u30d9\u30af\u30c8\u30eb\u985e\u4f3c\u6027\u691c\u7d22\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <ol> <li> <p>\u65b0\u3057\u3044 pgAdmin \u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001<code>set_setting()</code> \u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066 Azure OpenAI \u3078\u306e\u63a5\u7d9a\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306e\u6b21\u306e SQL \u30b3\u30de\u30f3\u30c9\u3092\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002Azure OpenAI \u30ea\u30bd\u30fc\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068 API \u30ad\u30fc\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u307e\u3060\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> SQL<pre><code>SELECT azure_ai.set_setting('azure_openai.endpoint', '&lt;endpoint&gt;');\nSELECT azure_ai.set_setting('azure_openai.subscription_key', '&lt;api-key&gt;');\n</code></pre> </li> <li> <p>\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001Azure \u30dd\u30fc\u30bf\u30eb \u306e Azure OpenAI \u30b5\u30fc\u30d3\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>Azure OpenAI \u30b5\u30fc\u30d3\u30b9\u30da\u30fc\u30b8\u3067:</p> <ol> <li>Resource Management \u306e\u4e0b\u306b\u3042\u308b Keys and Endpoint \u30e1\u30cb\u30e5\u30fc\u9805\u76ee\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> </ol> </li> </ol> <ol> <li> <p>Endpoint \u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u3001\u30af\u30a8\u30ea\u5185\u306e <code>&lt;endpoint&gt;</code> \u306e\u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001pgAdmin \u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 <code>azure_openai.endpoint</code> \u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> </li> <li> <p>KEY 1 \u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u3001\u30af\u30a8\u30ea\u5185\u306e <code>&lt;api-key&gt;</code> \u306e\u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001pgAdmin \u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 <code>azure_openai.subscription_key</code> \u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> </li> </ol> <p></p> <ol> <li>pgAdmin \u3067\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u3066\u66f4\u65b0\u3055\u308c\u305f SQL \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> </ol> <p></p> <ol> <li> <p><code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u306f\u3001<code>get_setting()</code> \u95a2\u6570\u3082\u63d0\u4f9b\u3057\u3066\u304a\u308a\u3001\u9069\u5207\u306a\u6a29\u9650\u3092\u6301\u3064\u30e6\u30fc\u30b6\u30fc\u304c\u5404\u30b9\u30ad\u30fc\u30de\u306e <code>endpoint</code> \u3068 <code>key</code> \u8a2d\u5b9a\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u5024\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b Azure OpenAI \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u30ad\u30fc\u306e\u5024\u3092\u8868\u793a\u3057\u307e\u3059\u3002</p> <pre><code>select azure_ai.get_setting('azure_openai.endpoint');\n</code></pre> <pre><code>select azure_ai.get_setting('azure_openai.subscription_key');\n</code></pre> </li> </ol> Language service <p><code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u306e <code>azure_cognitive</code> \u30b9\u30ad\u30fc\u30de\u306b\u542b\u307e\u308c\u308b Azure AI \u30b5\u30fc\u30d3\u30b9\u306e\u7d71\u5408\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u8c4a\u5bcc\u306a AI \u8a00\u8a9e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <ol> <li> <p>pgAdmin \u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001\u6b21\u306e SQL \u30b3\u30de\u30f3\u30c9\u3092\u8cbc\u308a\u4ed8\u3051\u3066\u3001\u8a00\u8a9e\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u62e1\u5f35\u6a5f\u80fd\u306e\u63a5\u7d9a\u3092\u69cb\u6210\u3059\u308b\u305f\u3081\u306b\u4ee5\u524d\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\u307e\u3060\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u307e\u305a\u3001\u30b5\u30fc\u30d3\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068 API \u30ad\u30fc\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> SQL<pre><code>SELECT azure_ai.set_setting('azure_cognitive.endpoint', '&lt;endpoint&gt;');\nSELECT azure_ai.set_setting('azure_cognitive.subscription_key', '&lt;api-key&gt;');\n</code></pre> </li> <li> <p>\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001Azure \u30dd\u30fc\u30bf\u30eb \u306e\u8a00\u8a9e\u30b5\u30fc\u30d3\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u8a00\u8a9e\u30b5\u30fc\u30d3\u30b9\u30da\u30fc\u30b8\u3067:</p> </li> <li> <p>\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u306e\u30e1\u30cb\u30e5\u30fc\u9805\u76ee\u304b\u3089\u30ad\u30fc\u3068\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u3001\u30af\u30a8\u30ea\u5185\u306e<code>&lt;endpoint&gt;</code>\u306e\u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001pgAdmin\u306e\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067<code>azure_cognitive.endpoint</code>\u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> </li> <li> <p>KEY 1\u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u3001\u30af\u30a8\u30ea\u5185\u306e<code>&lt;api-key&gt;</code>\u306e\u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001pgAdmin\u306e\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067<code>azure_cognitive.subscription_key</code>\u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> </li> </ol> <p></p> <ol> <li>pgAdmin\u3067\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u3066\u66f4\u65b0\u3055\u308c\u305fSQL\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> </ol> Azure ML (\u30aa\u30d7\u30b7\u30e7\u30f3) <p>Azure AI\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001SQL\u5185\u304b\u3089Azure Machine Learning (ML) \u306e\u30aa\u30f3\u30e9\u30a4\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u4efb\u610f\u306e\u6a5f\u68b0\u5b66\u7fd2\u30e2\u30c7\u30eb\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30e2\u30c7\u30eb\u306fAzure ML\u30ab\u30bf\u30ed\u30b0\u304b\u3089\u306e\u3082\u306e\u3084\u3001\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3055\u308c\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u30ab\u30b9\u30bf\u30e0\u30e2\u30c7\u30eb\u3067\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>azd up\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u4e2d\u306b<code>deployAMLModel</code>\u3092TRUE\u306b\u9078\u629e\u3057\u305f\u5834\u5408\u306e\u307f\u3001Azure ML\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u69cb\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>pgAdmin\u306e\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001\u4ee5\u4e0b\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092\u8cbc\u308a\u4ed8\u3051\u3066\u3001\u62e1\u5f35\u6a5f\u80fd\u306eAzure ML\u3078\u306e\u63a5\u7d9a\u3092\u69cb\u6210\u3059\u308b\u305f\u3081\u306b\u524d\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\u307e\u3060\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u307e\u305a\u3001Azure ML\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u30e2\u30c7\u30eb\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u30ad\u30fc\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> SQL<pre><code>SELECT azure_ai.set_setting('azure_ml.scoring_endpoint','&lt;endpoint&gt;');\nSELECT azure_ai.set_setting('azure_ml.endpoint_key', '&lt;api-key&gt;');\n</code></pre> </li> <li> <p>\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001Azure\u30dd\u30fc\u30bf\u30eb\u306eAzure ML\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>Azure ML\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u30da\u30fc\u30b8\u304b\u3089\u3001\u30b9\u30bf\u30b8\u30aa\u3092\u8d77\u52d5\u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u3066\u3001\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067Azure Machine Learning Studio\u3092\u958b\u304d\u307e\u3059\u3002</p> </li> </ol> <p></p> Text Only<pre><code>4. \u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u3001Machine Learning Studio \u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u307e\u3059\u3002\n\n5. Machine Learning Studio \u3067\u3001\u5de6\u5074\u306e\u30ea\u30bd\u30fc\u30b9\u30e1\u30cb\u30e5\u30fc\u306e **Assets** \u306e\u4e0b\u306b\u3042\u308b **Endpoints** \u3092\u9078\u629e\u3057\u3001`bge-v2-m3-reranker model` \u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n    ![Azure Machine Learning Studio \u306e Endpoints \u30da\u30fc\u30b8\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3002Endpoints \u30e1\u30cb\u30e5\u30fc\u9805\u76ee\u3068\u30ea\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002](../img/aml-studio-endpoints.png)\n\n6. \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30da\u30fc\u30b8\u3067\u6b21\u306e\u64cd\u4f5c\u3092\u884c\u3044\u307e\u3059\u3002\n\n   1. **Consume** \u30bf\u30d6\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n   2. **REST endpoint** \u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u3001\u30af\u30a8\u30ea\u5185\u306e `&lt;endpoint&gt;` \u306e\u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001pgAdmin \u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 `azure_ml.scoring_endpoint` \u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n   3. **Primary key** \u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u3001\u30af\u30a8\u30ea\u5185\u306e `&lt;api-key&gt;` \u306e\u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001pgAdmin \u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 `azure_ml.endpoint_key` \u306e\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n       ![Azure Machine Learning Studio Endpoints Consume \u30bf\u30d6\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3002REST Endpoint \u3068 Primary key \u306e\u30b3\u30d4\u30fc \u30dc\u30bf\u30f3\u304c\u8d64\u3044\u30dc\u30c3\u30af\u30b9\u3067\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002](../img/aml-studio-endpoints-consume.png)\n\n7.  pgAdmin \u3067\u3001**Execute script** \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u3066\u66f4\u65b0\u3055\u308c\u305f SQL \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n</code></pre> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u3059\u3079\u3066\u306e\u30b5\u30fc\u30d3\u30b9\uff08Azure OpenAI\u3001Language Service\u3001Azure Machine Learning\uff09\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u30ad\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5fc5\u305a\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/03/","title":"3.3 \u30d9\u30af\u30bf\u30fc\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u6709\u52b9\u306b\u3059\u308b","text":"<p>pgvector \u62e1\u5f35\u6a5f\u80fd\u306f\u3001PostgreSQL \u306b\u30d9\u30af\u30bf\u30fc\u30c7\u30fc\u30bf\u3092\u30cd\u30a4\u30c6\u30a3\u30d6\u306b\u6271\u3046\u80fd\u529b\u3092\u4e0e\u3048\u308b\u6700\u5148\u7aef\u306e\u8ffd\u52a0\u6a5f\u80fd\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001\u30d9\u30af\u30bf\u30fc\u60c5\u5831\u3092\u4fdd\u5b58\u304a\u3088\u3073\u30af\u30a8\u30ea\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3001\u63a8\u85a6\u30b7\u30b9\u30c6\u30e0\u3001\u985e\u4f3c\u691c\u7d22\u3092\u542b\u3080\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u6700\u9069\u3067\u3059\u3002\u30d9\u30af\u30bf\u30fc\u57cb\u3081\u8fbc\u307f\u3092 PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4ed6\u306e\u30c7\u30fc\u30bf\u3068\u4e00\u7dd2\u306b\u4fdd\u5b58\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001\u57cb\u3081\u8fbc\u307f\u3092\u4fdd\u5b58\u3057\u305f\u3044\u30c6\u30fc\u30d6\u30eb\u3092\u5909\u66f4\u3057\u3066\u3001\u62e1\u5f35\u6a5f\u80fd\u306b\u3088\u3063\u3066\u63d0\u4f9b\u3055\u308c\u308b <code>vector</code> \u30c7\u30fc\u30bf\u578b\u306e\u5217\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/03/#_1","title":"\u30d9\u30af\u30bf\u30fc\u3068\u306f\u4f55\u3067\u3059\u304b\uff1f","text":"<p>\u30d9\u30af\u30bf\u30fc\u3001\u307e\u305f\u306f\u57cb\u3081\u8fbc\u307f\u3084\u30d9\u30af\u30bf\u30fc\u57cb\u3081\u8fbc\u307f\u3068\u3082\u547c\u3070\u308c\u308b\u3082\u306e\u306f\u3001\u9ad8\u6b21\u5143\u7a7a\u9593\u3067\u30c7\u30fc\u30bf\u3092\u8868\u73fe\u3059\u308b\u6570\u5b66\u7684\u69cb\u9020\u3067\u3059\u3002\u3053\u306e\u7a7a\u9593\u306e\u5404\u6b21\u5143\u306f\u30c7\u30fc\u30bf\u306e\u7279\u5b9a\u306e\u7279\u5fb4\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u306f\u6570\u4e07\u306e\u6b21\u5143\u3092\u4f7f\u7528\u3057\u3066\u8868\u73fe\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u7a7a\u9593\u306b\u304a\u3051\u308b\u30d9\u30af\u30bf\u30fc\u306e\u4f4d\u7f6e\u306f\u3001\u305d\u306e\u72ec\u81ea\u306e\u5c5e\u6027\u3092\u6349\u3048\u3066\u3044\u307e\u3059\u3002\u5358\u8a9e\u3001\u30d5\u30ec\u30fc\u30ba\u3001\u6587\u66f8\u5168\u4f53\u3001\u753b\u50cf\u3001\u97f3\u58f0\u306a\u3069\u3001\u3055\u307e\u3056\u307e\u306a\u7a2e\u985e\u306e\u30c7\u30fc\u30bf\u3092\u30d9\u30af\u30bf\u30fc\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u306e\u7d71\u4e00\u3055\u308c\u305f\u8868\u73fe\u306e\u304a\u304b\u3052\u3067\u3001\u7570\u306a\u308b\u7a2e\u985e\u306e\u30c7\u30fc\u30bf\u9593\u3067\u985e\u4f3c\u3057\u305f\u30c7\u30fc\u30bf\u3092\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <p>\u57cb\u3081\u8fbc\u307f\u306f\u3001\u6a5f\u68b0\u5b66\u7fd2\u30e2\u30c7\u30eb\u3084\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u52b9\u679c\u7684\u306b\u6d3b\u7528\u3067\u304d\u308b\u5bc6\u3067\u60c5\u5831\u8c4a\u5bcc\u306a\u30c7\u30fc\u30bf\u5f62\u5f0f\u3067\u3059\u3002\u57cb\u3081\u8fbc\u307f\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u610f\u5473\u3092\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570\u306e\u30d9\u30af\u30bf\u30fc\u306e\u5f62\u3067\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u30d9\u30af\u30bf\u30fc\u30b9\u30da\u30fc\u30b9\u5185\u306e2\u3064\u306e\u57cb\u3081\u8fbc\u307f\u306e\u8fd1\u63a5\u6027\u306f\u3001\u5143\u306e\u5165\u529b\u9593\u306e\u610f\u5473\u7684\u985e\u4f3c\u6027\u3092\u53cd\u6620\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/03/#_2","title":"\u30c6\u30fc\u30d6\u30eb\u306b\u30d9\u30af\u30bf\u30fc\u5217\u3092\u8ffd\u52a0\u3059\u308b","text":"<p>pgvector \u62e1\u5f35\u6a5f\u80fd\u306b\u3088\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b <code>vector</code> \u30c7\u30fc\u30bf\u578b\u306f\u3001PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u3067\u9ad8\u6b21\u5143\u306e\u6570\u5024\u30d9\u30af\u30bf\u30fc\u3092\u52b9\u7387\u7684\u306b\u4fdd\u5b58\u304a\u3088\u3073\u64cd\u4f5c\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30d9\u30af\u30bf\u30fc\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u57cb\u3081\u8fbc\u307f\u3001\u753b\u50cf\u7279\u5fb4\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u597d\u307f\u306a\u3069\u3001\u5e45\u5e83\u3044\u30c7\u30fc\u30bf\u3092\u8868\u3059\u6570\u5024\u306e\u914d\u5217\u3067\u3059\u3002</p> <p>\u4ee5\u4e0b\u3067\u306f\u3001<code>deliverables</code>\u3001<code>invoice_line_items</code>\u3001<code>invoice_validation_results</code>\u3001<code>sow_chunks</code>\u3001\u304a\u3088\u3073 <code>sow_validation_results</code> \u30c6\u30fc\u30d6\u30eb\u306b <code>vector</code> \u5217\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u305d\u308c\u305e\u308c\u306b\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u4fdd\u5b58\u3059\u308b\u5217\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30d9\u30af\u30bf\u30fc\u57cb\u3081\u8fbc\u307f\u306f\u3001\u305d\u308c\u3089\u304c\u8868\u3059\u30c6\u30ad\u30b9\u30c8\u3068\u4e00\u7dd2\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</p> <p>\u30d9\u30af\u30c8\u30eb\u5217\u306e\u30b5\u30a4\u30ba\u306f\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b\u57cb\u3081\u8fbc\u307f\u30e2\u30c7\u30eb\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u6b21\u5143\u6570\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001OpenAI\u306e<code>text-embedding-ada-002</code>\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u30011,536\u6b21\u5143\u3092\u8fd4\u3059\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6570\u5024\u306f\u3001\u4ee5\u4e0b\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u8ffd\u52a0\u3055\u308c\u308b\u30d9\u30af\u30c8\u30eb\u5217\u306e\u30b5\u30a4\u30ba\u306b\u53cd\u6620\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>pgAdmin\u3092\u4f7f\u7528\u3057\u3066\u3001\u5404\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066contracts\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067SQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u5404\u30c6\u30fc\u30d6\u30eb\u306e\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u30d9\u30af\u30c8\u30eb\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e<code>embedding</code>\u5217\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e<code>ALTER TABLE</code>\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> deliverablesinvoice_line_itemsinvoice_validation_resultssow_chunkssow_validation_results <p>\u4ee5\u4e0b\u306eSQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u57cb\u3081\u8fbc\u307f\u30d9\u30af\u30c8\u30eb\u5217\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> SQL<pre><code>ALTER TABLE deliverables ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>\u4ee5\u4e0b\u306eSQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u57cb\u3081\u8fbc\u307f\u30d9\u30af\u30c8\u30eb\u5217\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> SQL<pre><code>ALTER TABLE invoice_line_items ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>\u4ee5\u4e0b\u306eSQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u57cb\u3081\u8fbc\u307f\u30d9\u30af\u30c8\u30eb\u5217\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> SQL<pre><code>ALTER TABLE invoice_validation_results ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>\u4ee5\u4e0b\u306eSQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u57cb\u3081\u8fbc\u307f\u30d9\u30af\u30c8\u30eb\u5217\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> SQL<pre><code>ALTER TABLE sow_chunks ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>\u4ee5\u4e0b\u306eSQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u57cb\u3081\u8fbc\u307f\u30d9\u30af\u30c8\u30eb\u5217\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> SQL<pre><code>ALTER TABLE sow_validation_results ADD COLUMN IF NOT EXISTS embedding vector(1536);\n</code></pre> <p>\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u9032\u3080\u524d\u306b\u3001\u3059\u3079\u3066\u306e\u57cb\u3081\u8fbc\u307f\u5217\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u5404\u30c6\u30fc\u30d6\u30eb\u306e<code>ALTER TABLE</code>\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5fc5\u305a\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/04/","title":"3.4 \u30d9\u30af\u30bf\u30fc\u30af\u30a8\u30ea\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6700\u9069\u5316\u3059\u308b","text":"<p><code>vector</code> \u62e1\u5f35\u6a5f\u80fd\u306f\u3001Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u30b5\u30fc\u30d0\u30fc\u306b\u30d9\u30af\u30bf\u30fc\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u985e\u4f3c\u691c\u7d22\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u3092\u5b9f\u884c\u3059\u308b\u969b\u306e\u52b9\u7387\u3092\u5411\u4e0a\u3055\u305b\u308b\u305f\u3081\u306b\u3001<code>pg_diskann</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3001\u30d9\u30af\u30bf\u30fc \u5217\u3092\u542b\u3080\u30c6\u30fc\u30d6\u30eb\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e DiskANN \u3092\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u30d9\u30af\u30bf\u30fc\u30af\u30a8\u30ea\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u306a\u3044\u5834\u5408\u3001<code>vector</code> \u62e1\u5f35\u6a5f\u80fd\u306f\u6b63\u78ba\u306a\u691c\u7d22\u3092\u884c\u3044\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u72a0\u7272\u306b\u3057\u3066\u5b8c\u74a7\u306a\u30ea\u30b3\u30fc\u30eb\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u8fd1\u4f3c\u6700\u8fd1\u508d\u691c\u7d22\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001\u30c7\u30fc\u30bf\u306b DiskANN \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210 \u3059\u308b\u3053\u3068\u3067\u3001\u9ad8\u3044\u30ea\u30b3\u30fc\u30eb\u3001\u9ad8\u3044\u30af\u30a8\u30ea\u6bce\u79d2\u3001\u4f4e\u3044\u30af\u30a8\u30ea\u9045\u5ef6\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u6570\u5341\u5104\u30dd\u30a4\u30f3\u30c8\u306e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u3082\u540c\u69d8\u3067\u3059\u3002</p> <p>\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b\u524d\u306b\u5fc5\u305a\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u3066\u304b\u3089\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3068\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u4f5c\u6210\u304c\u901f\u304f\u306a\u308a\u3001\u3088\u308a\u6700\u9069\u306a\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/04/#_1","title":"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30bf\u30a4\u30d7","text":"<p>\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30d9\u30af\u30bf\u30fc\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30bf\u30a4\u30d7\u306f3\u3064\u3042\u308a\u3001\u305d\u308c\u305e\u308c\u306b\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u304c\u3042\u308a\u307e\u3059\u3002\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30bf\u30a4\u30d7\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u306f\u3001\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>\u30c7\u30a3\u30b9\u30af\u8fd1\u4f3c\u6700\u8fd1\u508d (DiskANN)</li> <li>\u30d5\u30e9\u30c3\u30c8\u5727\u7e2e\u4ed8\u304d\u53cd\u8ee2\u30d5\u30a1\u30a4\u30eb (IVVFlat)</li> <li>\u968e\u5c64\u7684\u30ca\u30d3\u30b2\u30fc\u30d6\u30eb\u30b9\u30e2\u30fc\u30eb\u30ef\u30fc\u30eb\u30c9 (HNSW)</li> </ul> <p><code>IVFFlat</code> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f <code>HNSW</code> \u3088\u308a\u3082\u30d3\u30eb\u30c9\u6642\u9593\u304c\u77ed\u304f\u3001\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u304c\u5c11\u306a\u3044\u3067\u3059\u304c\u3001\u30af\u30a8\u30ea\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\uff08\u901f\u5ea6\u3068\u30ea\u30b3\u30fc\u30eb\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u306e\u89b3\u70b9\u304b\u3089\uff09\u306f\u4f4e\u304f\u306a\u308a\u307e\u3059\u3002<code>DiskANN</code> \u306f\u3053\u308c\u3089\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3092\u6700\u5c0f\u9650\u306b\u6291\u3048\u3001\u9ad8\u7cbe\u5ea6\u306a\u30af\u30a8\u30ea\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3068\u9ad8\u901f\u306a\u30d3\u30eb\u30c9\u6642\u9593\u306e\u512a\u308c\u305f\u30d0\u30e9\u30f3\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30bf\u30a4\u30d7\u306e\u5236\u9650 <ul> <li>\u5217\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5316\u3059\u308b\u306b\u306f\u3001\u6b21\u5143\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002<code>col vector</code> \u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u305f\u5217\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5316\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059: <code>ERROR: column does not have dimensions</code>\u3002</li> <li><code>ivfflat</code> \u304a\u3088\u3073 <code>hnsw</code> \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u30012000\u6b21\u5143\u4ee5\u4e0b\u306e\u5217\u306e\u307f\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5316\u3067\u304d\u307e\u3059\u3002\u3088\u308a\u591a\u304f\u306e\u6b21\u5143\u3092\u6301\u3064\u5217\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5316\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059: <code>ERROR: column cannot have more than 2000 dimensions for INDEX_TYPE index where INDEX_TYPE is either ivfflat or hnsw</code>\u3002</li> </ul>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/04/#_2","title":"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30a2\u30af\u30bb\u30b9\u3068\u30d9\u30af\u30c8\u30eb\u8ddd\u96e2\u95a2\u6570","text":"<p><code>vector</code> \u62e1\u5f35\u6a5f\u80fd\u306b\u3088\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u8ffd\u52a0\u3055\u308c\u305f <code>vector</code> \u578b\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u4fdd\u5b58\u3055\u308c\u305f\u30d9\u30af\u30c8\u30eb\u306b\u5bfe\u3057\u30663\u7a2e\u985e\u306e\u691c\u7d22\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8003\u616e\u3059\u308b\u3088\u3046\u306b\u3001\u6b63\u3057\u3044\u30a2\u30af\u30bb\u30b9\u95a2\u6570\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> \u8ddd\u96e2\u95a2\u6570 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30a2\u30af\u30bb\u30b9\u95a2\u6570 \u30d9\u30af\u30c8\u30eb\u6f14\u7b97\u5b50 \u8aac\u660e \u30b3\u30b5\u30a4\u30f3\u8ddd\u96e2 <code>vector_cosine_ops</code> <code>&lt;=&gt;</code> \u30d9\u30af\u30c8\u30eb\u9593\u306e\u89d2\u5ea6\u306e\u30b3\u30b5\u30a4\u30f3\u3092\u8a08\u7b97\u3059\u308b\u3053\u3068\u3067\u3001\u30d9\u30af\u30c8\u30eb\u9593\u306e\u985e\u4f3c\u6027\u3092\u6e2c\u5b9a\u3057\u307e\u3059\u3002 L2\uff08\u307e\u305f\u306f\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\uff09\u8ddd\u96e2 <code>vector_l2_ops</code> <code>&lt;-&gt;</code> \u591a\u6b21\u5143\u7a7a\u9593\u306b\u304a\u3051\u308b2\u3064\u306e\u30d9\u30af\u30c8\u30eb\u9593\u306e\u76f4\u7dda\u8ddd\u96e2\u3092\u6e2c\u5b9a\u3057\u307e\u3059\u3002 \u5185\u7a4d\uff08\u30c9\u30c3\u30c8\u7a4d\uff09 <code>vector_ip_ops</code> <code>&lt;#&gt;</code> \u5bfe\u5fdc\u3059\u308b\u6210\u5206\u306e\u7a4d\u3092\u5408\u8a08\u3059\u308b\u3053\u3068\u3067\u30012\u3064\u306e\u30d9\u30af\u30c8\u30eb\u9593\u306e\u985e\u4f3c\u6027\u3092\u6e2c\u5b9a\u3057\u307e\u3059\u3002"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/04/#_3","title":"\u30d9\u30af\u30c8\u30eb\u6f14\u7b97\u5b50","text":"<p>\u4e0a\u8a18\u306e\u8868\u306b\u3042\u308b \u30d9\u30af\u30c8\u30eb\u6f14\u7b97\u5b50 \u306f\u3001\u591a\u6b21\u5143\u7a7a\u9593\u306b\u304a\u3051\u308b2\u3064\u306e\u30d9\u30af\u30c8\u30eb\u9593\u306e\u8ddd\u96e2\u3092\u8a08\u7b97\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u300c\u8ddd\u96e2\u6f14\u7b97\u5b50\u300d\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306f\u3001\u985e\u4f3c\u6027\u3092\u8a08\u7b97\u3059\u308b\u305f\u3081\u306e\u30af\u30a8\u30ea\u3092\u66f8\u304f\u969b\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u6b21\u306e\u30af\u30a8\u30ea\u3067\u306f\u3001\u30b3\u30b5\u30a4\u30f3\u8ddd\u96e2\u306e\u985e\u4f3c\u6027\u304c0.5\u672a\u6e80\u3067\u3042\u308b\u63d0\u4f9b\u3055\u308c\u305f\u30d9\u30af\u30c8\u30eb\u306b\u57fa\u3065\u3044\u3066\u30ec\u30b3\u30fc\u30c9\u304c\u9078\u629e\u3055\u308c\u307e\u3059\u3002</p> <pre><code>SELECT * FROM sow_chunks\nWHERE embedding &lt;=&gt; '[-0.031766646,-0.033289704,...,0.016508864,0.031440277]' &lt; 0.5\n</code></pre>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/04/#_4","title":"\u30d9\u30af\u30c8\u30eb\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u4f5c\u6210","text":"<p>\u524d\u306e\u30bf\u30b9\u30af\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u3044\u304f\u3064\u304b\u306e\u30c6\u30fc\u30d6\u30eb\u306b <code>vector</code> \u5217\u3092\u8ffd\u52a0\u3057\u3001<code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u3068 Azure OpenAI \u3092\u4f7f\u7528\u3057\u3066\u57cb\u3081\u8fbc\u307f\u3092\u5165\u529b\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u306e\u57cb\u3081\u8fbc\u307f\u306b\u5bfe\u3059\u308b\u30af\u30a8\u30ea\u304c\u52b9\u7387\u7684\u3067\u3042\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u305f\u3081\u306b\u3001<code>vector</code> \u5217\u3092\u8ffd\u52a0\u3057\u305f\u5404\u30c6\u30fc\u30d6\u30eb\u306b <code>diskann</code> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u5404\u30c6\u30fc\u30d6\u30eb\u306e\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001<code>CREATE INDEX</code> \u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u3066 <code>diskann</code> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> deliverablesinvoice_line_itemsinvoice_validation_resultssow_chunkssow_validation_results <p>\u6b21\u306e SQL \u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092 pgAdmin \u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> SQL<pre><code>-- \u30b3\u30b5\u30a4\u30f3\u8ddd\u96e2\u6f14\u7b97\u5b50\u3092\u4f7f\u7528\u3057\u3066 diskann \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\nCREATE INDEX deliverables_diskann_idx ON deliverables USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>\u6b21\u306eSQL\u6587\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> SQL<pre><code>-- Cosine\u8ddd\u96e2\u6f14\u7b97\u5b50\u3092\u4f7f\u7528\u3057\u3066diskann\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\nCREATE INDEX line_items_diskann_idx ON invoice_line_items USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>\u6b21\u306eSQL\u6587\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> SQL<pre><code>-- Cosine\u8ddd\u96e2\u6f14\u7b97\u5b50\u3092\u4f7f\u7528\u3057\u3066diskann\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\nCREATE INDEX invoice_validation_results_diskann_idx ON invoice_validation_results USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>\u6b21\u306eSQL\u6587\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> SQL<pre><code>-- Cosine\u8ddd\u96e2\u6f14\u7b97\u5b50\u3092\u4f7f\u7528\u3057\u3066diskann\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\nCREATE INDEX sow_chunks_diskann_idx ON sow_chunks USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>\u6b21\u306eSQL\u6587\u3092pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> SQL<pre><code>-- Cosine\u8ddd\u96e2\u6f14\u7b97\u5b50\u3092\u4f7f\u7528\u3057\u3066diskann\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\nCREATE INDEX sow_validation_results_diskann_idx ON sow_validation_results USING diskann (embedding vector_cosine_ops);\n</code></pre> <p>\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u9032\u3080\u524d\u306b\u3001\u5404\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066<code>CREATE INDEX</code>\u6587\u3092\u5fc5\u305a\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/05/","title":"3.5 \u30c7\u30fc\u30bf\u306e\u30d9\u30af\u30c8\u30eb\u5316","text":"<p>Azure OpenAI \u306e <code>text-embedding-ada-002</code> \u306a\u3069\u306e\u57cb\u3081\u8fbc\u307f\u30e2\u30c7\u30eb\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u30d9\u30af\u30c8\u30eb\u8868\u73fe\u3092\u751f\u6210\u3057\u3001Azure Database for PostgreSQL - Flexible Server \u306e\u3088\u3046\u306a\u30d9\u30af\u30c8\u30eb\u30b9\u30c8\u30a2\u306b\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u52b9\u7387\u7684\u3067\u6b63\u78ba\u306a\u985e\u4f3c\u6027\u691c\u7d22\u304c\u53ef\u80fd\u306b\u306a\u308a\u3001\u95a2\u9023\u60c5\u5831\u306e\u53d6\u5f97\u3084\u6587\u8108\u306b\u5bcc\u3093\u3060\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u306e\u63d0\u4f9b\u304c\u5927\u5e45\u306b\u5411\u4e0a\u3057\u307e\u3059\u3002</p> <p><code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u306b\u3088\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b <code>azure_openai</code> \u30b9\u30ad\u30fc\u30de\u306b\u306f\u3001<code>create_embeddings()</code> \u95a2\u6570\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001Azure OpenAI \u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u57cb\u3081\u8fbc\u307f\u30e2\u30c7\u30eb\u3092\u30af\u30a8\u30ea\u304b\u3089\u76f4\u63a5\u547c\u3073\u51fa\u3057\u3066\u3001\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u306e\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3067\u304d\u307e\u3059\u3002</p> create_embeddings() \u95a2\u6570\u306e\u95a2\u6570\u30b7\u30b0\u30cd\u30c1\u30e3<pre><code>-- Single text input\nazure_openai.create_embeddings(deployment_name text, input text, timeout_ms integer DEFAULT 3600000, throw_on_error boolean DEFAULT true, max_attempts integer DEFAULT 1, retry_delay_ms integer DEFAULT 1000)\n\n-- Array of input text\nazure_openai.create_embeddings(deployment_name text, input text[], batch_size integer DEFAULT 100, timeout_ms integer DEFAULT 3600000, throw_on_error boolean DEFAULT true, max_attempts integer DEFAULT 1, retry_delay_ms integer DEFAULT 1000)\n</code></pre> <p><code>create_embeddings()</code> \u95a2\u6570\u3001\u305d\u306e\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3001\u304a\u3088\u3073\u671f\u5f85\u3055\u308c\u308b\u5f15\u6570\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u95a2\u6570\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/05/#_1","title":"\u57cb\u3081\u8fbc\u307f\u306e\u751f\u6210","text":"<p><code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u306b\u3088\u308a\u3001Azure OpenAI \u57cb\u3081\u8fbc\u307f API \u306e\u547c\u3073\u51fa\u3057\u304c\u7c21\u5358\u306b\u306a\u308a\u307e\u3059\u3002\u6700\u3082\u5358\u7d14\u306a\u5f62\u5f0f\u3067\u306f\u3001<code>create_embeddings()</code> \u95a2\u6570\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b <code>deployment_name</code> \u3068 <code>input</code> \u306e2\u3064\u306e\u5f15\u6570\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> SQL<pre><code>SELECT azure_openai.create_embeddings(deployment_name, input)\n</code></pre> <p>SQL \u30af\u30a8\u30ea\u3092\u901a\u3058\u3066\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3059\u305f\u3081\u306b\u3001pgAdmin \u3067\u6b21\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <ol> <li> <p>\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u958b\u3044\u3066\u3044\u308b pgAdmin \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u623b\u308a\u3001PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin \u306e Object Explorer \u3067\u3001PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u4e0b\u306b\u3042\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</p> </li> <li> <p>contracts \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089 Query Tool \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u6b21\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306e\u30af\u30a8\u30ea\u306f\u3001<code>invoice_validation_results</code> \u30c6\u30fc\u30d6\u30eb\u306e <code>result</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5bfe\u3057\u3066\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u95a2\u6570\u306e <code>deployment_name</code> \u30d1\u30e9\u30e1\u30fc\u30bf\u306f <code>embeddings</code> \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001Azure OpenAI \u30b5\u30fc\u30d3\u30b9\u3067\u306e <code>text-embedding-ada-002</code> \u30e2\u30c7\u30eb\u306e\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u540d\u3067\u3059\uff08Bicep \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u3063\u3066\u305d\u306e\u540d\u524d\u3067\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\uff09\u3002</p> </li> </ol> <p>\u4ee5\u4e0b\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> SQL<pre><code>SELECT \n        invoice_id,\n        azure_openai.create_embeddings('embeddings', result) AS embedding\n    FROM invoice_validation_results\n    LIMIT 1;\n</code></pre> <p>Azure AI Foundry\u3067\u57cb\u3081\u8fbc\u307f\u30e2\u30c7\u30eb\u306e\u30c7\u30d7\u30ed\u30a4\u540d\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> <ol> <li>Azure OpenAI\u30b5\u30fc\u30d3\u30b9\u306e\u30e9\u30f3\u30c7\u30a3\u30f3\u30b0\u30da\u30fc\u30b8\u304b\u3089Azure AI Foundry\u3092\u958b\u304d\u307e\u3059\u3002</li> <li>Azure AI Foundry\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u304b\u3089Deployments\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li><code>text-embedding-ada-002</code>\u30e2\u30c7\u30eb\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u305fName\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ol> <p></p> <ol> <li>\u30af\u30a8\u30ea\u306e\u7d50\u679c\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff1a</li> </ol> SQL<pre><code>   id |\u00a0          \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0     embedding\n------+-------------------------------------------------------------------------\n    1\u00a0| {-0.031766646,-0.033289704,0.0009468119,...,0.016508864,0.031440277}\n</code></pre> <p>\u30d9\u30af\u30c8\u30eb\u306e1,536\u6b21\u5143\u306f\u3001\u7c21\u6f54\u3055\u306e\u305f\u3081\u306b\u4e0a\u8a18\u306e\u51fa\u529b\u3067\u7701\u7565\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/03-Integrate-AI-Into-PostgreSQL/05/#_2","title":"\u65e2\u5b58\u30c7\u30fc\u30bf\u306e\u30d9\u30af\u30c8\u30eb\u5316","text":"<p><code>deliverables</code>\u3001<code>invoice_line_items</code>\u3001<code>invoice_validation_results</code>\u3001<code>sow_chunks</code>\u3001\u304a\u3088\u3073<code>sow_validation_results</code>\u30c6\u30fc\u30d6\u30eb\u306b<code>vector</code>\u5217\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u304b\u3089\u3001SQL\u306e<code>UPDATE</code>\u6587\u3067<code>azure_openai.create_embeddings()</code>\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3001\u5404\u30c6\u30fc\u30d6\u30eb\u306b\u65e2\u306b\u3042\u308b\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u306e\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> <p>\u5404\u30c6\u30fc\u30d6\u30eb\u30af\u30a8\u30ea\u306f\u3001\u8a2d\u5b9a\u3055\u308c\u305fTPM\u5236\u9650\u306b\u5fdc\u3058\u3066\u6570\u5206\u304b\u304b\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>pgAdmin\u3092\u4f7f\u7528\u3057\u3066\u3001\u5404\u30c6\u30fc\u30d6\u30eb\u306eSQL\u6587\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u5404\u30c6\u30fc\u30d6\u30eb\u306e\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u6307\u5b9a\u3055\u308c\u305f\u5217\u306e\u57cb\u3081\u8fbc\u307f\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b<code>UPDATE</code>\u6587\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> deliverables <p>pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u6b21\u306eSQL\u6587\u3092\u30b3\u30d4\u30fc\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> SQL<pre><code>UPDATE deliverables\nSET embedding = azure_openai.create_embeddings('embeddings', description, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> invoice_line_items <p>pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u6b21\u306eSQL\u6587\u3092\u30b3\u30d4\u30fc\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> SQL<pre><code>UPDATE invoice_line_items\nSET embedding = azure_openai.create_embeddings('embeddings', description, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> invoice_validation_results <p>pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u6b21\u306eSQL\u6587\u3092\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> SQL<pre><code>UPDATE invoice_validation_results\nSET embedding = azure_openai.create_embeddings('embeddings', result, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> sow_chunks <p>pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u6b21\u306eSQL\u6587\u3092\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> SQL<pre><code>UPDATE sow_chunks\nSET embedding = azure_openai.create_embeddings('embeddings', content, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> sow_validation_results <p>pgAdmin\u306e\u65b0\u3057\u3044\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u306b\u6b21\u306eSQL\u6587\u3092\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u3001\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> SQL<pre><code>UPDATE sow_validation_results\nSET embedding = azure_openai.create_embeddings('embeddings', result, max_attempts =&gt; 5, retry_delay_ms =&gt; 500)\nWHERE embedding IS NULL;\n</code></pre> <p>\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u9032\u3080\u524d\u306b\u3001\u3059\u3079\u3066\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066<code>UPDATE</code>\u6587\u3092\u5b9f\u884c\u3057\u3001\u3059\u3079\u3066\u306e\u57cb\u3081\u8fbc\u307f\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30c8\u30ea\u30ac\u30fc\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9<code>INSERT</code>\u3067\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210</p> <p>\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e<code>INSERT</code>\u30b3\u30de\u30f3\u30c9\u5185\u3067\u76f4\u63a5\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b<code>azure_openai</code>\u62e1\u5f35\u6a5f\u80fd\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\u30c6\u30fc\u30d6\u30eb\u306b<code>INSERT</code>\u30c8\u30ea\u30ac\u30fc\u3092\u4f7f\u7528\u3059\u308b\u65b9\u304c\u4fbf\u5229\u306a\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\u30c8\u30ea\u30ac\u30fc\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u306b\u884c\u304c\u633f\u5165\u3055\u308c\u308b\u305f\u3073\u306b\u81ea\u52d5\u7684\u306b\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306f\u3001<code>sow_chunks</code>\u30c6\u30fc\u30d6\u30eb\u3067\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e<code>INSERT</code>\u30c8\u30ea\u30ac\u30fc\u306e\u4f8b\u3067\u3059\uff1a</p> \u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e\u4f8b\u306eINSERT\u30c8\u30ea\u30ac\u30fc<pre><code>-- create function that generates embeddings\n    CREATE OR REPLACE FUNCTION sow_chunks_insert_trigger_fn()\n    RETURNS trigger AS $$\n    BEGIN\n      IF NEW.content IS NOT NULL THEN\n        NEW.embeddings := azure_openai.create_embeddings('embeddings', NEW.content, throw_on_error =&gt; FALSE, max_attempts =&gt; 1000, retry_delay_ms =&gt; 2000);\n      END IF;\n      RETURN NEW;\n    END;\n    $$ LANGUAGE plpgsql;\n    -- setup INSERT TRIGGER to call function\n    CREATE TRIGGER sow_chunks_insert_trigger\n    BEFORE INSERT ON sow_chunks\n    FOR EACH ROW\n    EXECUTE FUNCTION sow_chunks_insert_trigger_fn();\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/","title":"AI\u99c6\u52d5\u306e\u30c7\u30fc\u30bf\u691c\u8a3c","text":""},{"location":"ja/04-Create-AI-Pipeline/#ai_1","title":"AI\u5f37\u5316\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u304a\u3088\u3073\u51e6\u7406\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u69cb\u7bc9","text":"<p>Woodgrove Bank\u306e\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u3068\u691c\u8a3c\u30d7\u30ed\u30bb\u30b9\u3092\u81ea\u52d5\u5316\u3059\u308b\u305f\u3081\u306e\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u306eAI\u99c6\u52d5\u30c7\u30fc\u30bf\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304cAzure Blob Storage\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3068\u958b\u59cb\u3055\u308c\u3001Azure AI\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u3066\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u53d6\u308a\u8fbc\u307f\u3001\u81ea\u52d5\u5316\u3055\u308c\u305f\u691c\u8a3c\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u5206\u6790\u3001\u6700\u9069\u5316\u3055\u308c\u305f\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u884c\u3044\u307e\u3059\u3002</p> <p>AI\u3092\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306b\u7d71\u5408\u3059\u308b\u524d\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8acb\u6c42\u66f8\u3084SOW\u30c7\u30fc\u30bf\u3092\u624b\u52d5\u3067\u89e3\u6790\u3057\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u6642\u9593\u304c\u304b\u304b\u308a\u3001\u52b4\u529b\u3092\u8981\u3059\u308b\u3082\u306e\u3067\u3057\u305f\u3002</p> <p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306bAI\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7d71\u5408\u3059\u308b\u30b3\u30fc\u30c9\u3092\u30ec\u30d3\u30e5\u30fc\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/#_1","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u691c\u8a3c","text":"<p>AI\u99c6\u52d5\u306e\u30c7\u30fc\u30bf\u691c\u8a3c\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u51e6\u7406\u3092\u81ea\u52d5\u5316\u3057\u3001\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u3001\u4eba\u9593\u306e\u30ec\u30d3\u30e5\u30a2\u30fc\u306e\u8ca0\u62c5\u3092\u8efd\u6e1b\u3059\u308b\u3053\u3068\u3067\u3001\u5909\u9769\u7684\u306a\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u308a\u8fbc\u307f\u3001\u6a5f\u68b0\u5b66\u7fd2\u3001\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001AI\u306f\u5951\u7d04\u691c\u8a3c\u3092\u9769\u65b0\u3057\u307e\u3059\u3002</p> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u308a\u8fbc\u307f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30c6\u30ad\u30b9\u30c8\u62bd\u51fa\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u90e8\u5206\u306e\u691c\u8a3c\u3001\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u4fa1\u683c\u3068\u8acb\u6c42\u984d\u304a\u3088\u3073\u5b9f\u65bd\u4f5c\u696d\u306e\u6bd4\u8f03\u3001\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u30bb\u30af\u30b7\u30e7\u30f3\u3084\u6587\u8a00\u306a\u3069\u306e\u4e3b\u8981\u306aSOW\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u691c\u7d22\u3092\u884c\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u304c\u542b\u307e\u308c\u307e\u3059\uff1a</p> <ol> <li> <p>Azure AI Document Intelligence\u306f\u30c6\u30ad\u30b9\u30c8\u62bd\u51fa\u3092\u884c\u3044\u3001Azure OpenAI\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c1\u30e3\u30f3\u30af/\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30c6\u30ad\u30b9\u30c8\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> </li> <li> <p>Azure Database for PostgreSQL\u306e<code>pgvector</code>\u62e1\u5f35\u6a5f\u80fd\u306f\u3001\u4e3b\u8981\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30bb\u30af\u30b7\u30e7\u30f3\u9593\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u985e\u4f3c\u6027\u6bd4\u8f03\u3092\u884c\u3044\u307e\u3059\u3002Azure OpenAI\u306eGPT-4o\u30e2\u30c7\u30eb\u306f\u30c7\u30fc\u30bf\u5206\u6790\u3068\u30d9\u30af\u30c8\u30eb\u985e\u4f3c\u6027\u8a55\u4fa1\u306b\u6d3b\u7528\u3055\u308c\u307e\u3059\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u6587\u8a00\u306e\u985e\u4f3c\u6027\u3092\u8a55\u4fa1\u3057\u3001\u9069\u5207\u306a\u8a00\u8a9e\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u3001\u3057\u304d\u3044\u5024\u985e\u4f3c\u6027\u30b9\u30b3\u30a2\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002</p> </li> </ol> \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u691c\u8a3c\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 <p>\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u30b7\u30b9\u30c6\u30e0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u691c\u8a3c\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u5b9f\u884c\u3059\u308b\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3068\u3001Event Grid\u306e\u3088\u3046\u306a\u30ad\u30e5\u30fc\u3092\u4f7f\u7528\u3057\u3066\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u3055\u308c\u3001\u305d\u306e\u5f8c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u306b\u3088\u3063\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u308a\u8fbc\u307f\u3068\u691c\u8a3c\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002</p> <p>\u3053\u306e\u30ac\u30a4\u30c9\u3092\u3088\u308a\u5206\u304b\u308a\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306b\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u691c\u8a3c\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u76f4\u63a5\u547c\u3073\u51fa\u3055\u308c\u308bREST API\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3078\u306eAI\u7d71\u5408\u30b3\u30fc\u30c9\u306e\u30ec\u30d3\u30e5\u30fc\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/01/","title":"4.1 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30b9\u306b\u3088\u308b\u30c7\u30fc\u30bf\u62bd\u51fa","text":"<p>Azure Document Intelligence\u306f\u3001AI\u3092\u4f7f\u7528\u3057\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u306e\u30c7\u30fc\u30bf\u62bd\u51fa\u3068\u51e6\u7406\u3092\u81ea\u52d5\u5316\u3057\u307e\u3059\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001AI\u3092\u5f37\u5316\u3057\u305f\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u3068\u51e6\u7406\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u8a73\u7d30\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> \u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304b\uff1f <p>\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001<code>../scripts/sql/deploy-database-tables.sql</code>\u306e\u69cb\u9020\u3068\u5f62\u5f0f\u3092\u30b3\u30d4\u30fc\u3057\u3001vendors\u3001sows\u3001sow_chunks\u3001milestones\u3001deliverables\u3001sow_validation_results\u3001invoices\u3001invoice_line_items\u3001\u304a\u3088\u3073invoice_validation_results\u30c6\u30fc\u30d6\u30eb\u306eINSERT\u6587\u3092\u7d44\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30ab\u30b9\u30bf\u30e0\u30c6\u30fc\u30d6\u30eb\u3084\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u65e2\u5b58\u306e\u30b9\u30ad\u30fc\u30de\u306b\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u304b\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fee\u6b63\u3057\u3066\u72ec\u81ea\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u95a2\u4fc2\u3092\u53cd\u6620\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30d9\u30af\u30c8\u30eb\u5217\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6226\u7565\u304cAI\u3068\u691c\u7d22\u306e\u30cb\u30fc\u30ba\u306b\u5408\u81f4\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3001\u30c7\u30fc\u30bf\u306e\u4e00\u8cab\u6027\u3068\u6574\u5408\u6027\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u30af\u30a8\u30ea\u3001\u7d50\u5408\u3001\u304a\u3088\u3073\u5236\u7d04\u3092\u9069\u5b9c\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/01/#_1","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3068\u53d6\u308a\u8fbc\u307f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u6982\u8981","text":"<ol> <li> <p>\u30d7\u30ed\u30bb\u30b9\u306f\u3001\u8acb\u6c42\u66f8\u3084\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u306a\u3069\u306e\u8ca1\u52d9\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3UI\u3092\u901a\u3058\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u307e\u308a\u307e\u3059\u3002</p> </li> <li> <p>\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306b\u3088\u308a\u3001\u30d9\u30f3\u30c0\u30fc\u3001\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\u3001\u304a\u3088\u3073\u8acb\u6c42\u66f8\u306e\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u6295\u5165\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>Document Intelligence\u306b\u30ed\u30fc\u30c9\u3059\u308b\u305f\u3081\u306e\u30b5\u30f3\u30d7\u30eb\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u30ea\u30dd\u30b8\u30c8\u30ea\u5185\u306b\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001<code>../data/sample_docs</code>\u306b\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>Trey Research\u30d9\u30f3\u30c0\u30fc\u306e\u8acb\u6c42\u66f8\u3092\u5b8c\u6210\u3055\u305b\u308b\u305f\u3081\u306b\u3001<code>Exercise_1_Load_Invoices</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u304b\u3089\u8acb\u6c42\u66f8\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002</li> <li>\u6b21\u306b\u3001Lucerne Publishing\u30d9\u30f3\u30c0\u30fc\u306e\u305f\u3081\u306b<code>Exercise_2_Load_SOW_Invoices</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u304b\u3089\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\u30683\u3064\u306e\u8acb\u6c42\u66f8\u3092\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002</li> <li>\u4e0d\u6b63\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u306b\u306f\u3001<code>Exercise_3_Load_Bad_SOWandInv</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <p>\u72ec\u81ea\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u751f\u6210\u3057\u3066\u30ed\u30fc\u30c9\u3059\u308b</p> <p>\u72ec\u81ea\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u751f\u6210\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>../data/data_generator/src</code>\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u304c\u3042\u308a\u307e\u3059\u3002README\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001Python\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001requirements.txt\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u306a\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> </li> <li> <p>\u65b0\u3057\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3068\u3001\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u958b\u59cb\u6642\u306bAzure Blob Storage\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306f\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092Azure AI Document Intelligence \u30b5\u30fc\u30d3\u30b9\u306b\u9001\u4fe1\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u306e\u62bd\u51fa\u3068\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002</p> </li> <li> <p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u3001Document Intelligence\u5185\u306e\u4e8b\u524d\u69cb\u7bc9\u3055\u308c\u305fAI\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u6210\u679c\u7269\u3001\u671f\u9650\u3001\u8acb\u6c42\u53ef\u80fd\u91d1\u984d\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u8a73\u7d30\u306a\u3069\u306e\u30c7\u30fc\u30bf\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5206\u6790\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30e2\u30c7\u30eb\u306f\u3001\u8acb\u6c42\u66f8\u3001SOW\u3001\u5951\u7d04\u66f8\u3001\u9818\u53ce\u66f8\u3001\u8eab\u5206\u8a3c\u660e\u66f8\u306a\u3069\u306e\u7279\u5b9a\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30bf\u30a4\u30d7\u5411\u3051\u306b\u8a2d\u8a08\u3055\u308c\u3066\u304a\u308a\u3001AI\u3092\u6d3b\u7528\u3057\u305f\u5149\u5b66\u6587\u5b57\u8a8d\u8b58\uff08OCR\uff09\u3068\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\uff08NLP\uff09\u3092\u5229\u7528\u3057\u3066\u95a2\u9023\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5206\u6790\u3055\u308c\u308b\u3068\u3001\u30e2\u30c7\u30eb\u306f\u4ee5\u4e0b\u3092\u884c\u3044\u307e\u3059\uff1a</p> <ol> <li>\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u62bd\u51fa\u3057\u3001\u4fe1\u983c\u5ea6\u30b9\u30b3\u30a2\u3092\u5272\u308a\u5f53\u3066\u307e\u3059\uff08\u4f8b\uff1a\u300c\u8acb\u6c42\u66f8\u5408\u8a08\uff1a$1,250.00\uff08\u4fe1\u983c\u5ea6\uff1a0.98\uff09\u300d\uff09\u3002</li> <li>\u69cb\u9020\u5316\u3055\u308c\u305fJSON\u307e\u305f\u306f\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u3092\u4f7f\u7528\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u3084\u30e9\u30a4\u30f3\u30a2\u30a4\u30c6\u30e0\u3092\u51e6\u7406\u3057\u307e\u3059\u3002</li> <li>\u62bd\u51fa\u3055\u308c\u305f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u9593\u306e\u95a2\u4fc2\u3092\u8a8d\u8b58\u3057\u307e\u3059\uff08\u4f8b\uff1a\u8acb\u6c42\u66f8\u756a\u53f7\u3092\u5bfe\u5fdc\u3059\u308b\u671f\u9650\u65e5\u3068\u30ea\u30f3\u30af\u3059\u308b\uff09\u3002</li> </ol> </li> <li> <p>Document Intelligence\u306e\u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u5316\u6a5f\u80fd\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u69cb\u9020\u3092\u8a8d\u8b58\u3057\u3001\u898b\u51fa\u3057\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3057\u3001\u6bb5\u843d\u3084\u6587\u306a\u3069\u306e\u610f\u5473\u7684\u306a\u4e00\u8cab\u6027\u306b\u57fa\u3065\u3044\u3066\u30b3\u30f3\u30c6\u30f3\u30c4\u672c\u4f53\u3092\u30c1\u30e3\u30f3\u30af\u5316\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001Retrieval-Augmented Generation (RAG) \u30d1\u30bf\u30fc\u30f3\u306e\u30af\u30a8\u30ea\u3067\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u30c1\u30e3\u30f3\u30af\u306e\u54c1\u8cea\u304c\u5411\u4e0a\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u62bd\u51fa\u3055\u308c\u305f\u5f8c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c7\u30fc\u30bf\u306fAzure Database for PostgreSQL flexible server\u306b\u5b89\u5168\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u633f\u5165\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u4e00\u90e8\u3068\u3057\u3066\u3001<code>azure_ai</code>\u62e1\u5f35\u6a5f\u80fd\u306eGenAI\u6a5f\u80fd\u3092\u6d3b\u7528\u3057\u3066\u4ee5\u4e0b\u3092\u884c\u3044\u307e\u3059\uff1a</p> <ul> <li>Azure OpenAI\u3092\u4f7f\u7528\u3057\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c6\u30ad\u30b9\u30c8\u306e\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u304a\u3088\u3073\u4fdd\u5b58\u3057\u3001\u52b9\u7387\u7684\u306a\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22\u3068\u53d6\u5f97\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</li> <li>Azure AI Language \u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3057\u3066\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u306e\u62bd\u51fa\u8981\u7d04\u3092\u4f5c\u6210\u3057\u3001\u9577\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u91cd\u8981\u306a\u6d1e\u5bdf\u3092\u7c21\u6f54\u3067\u5b9f\u7528\u7684\u306a\u8981\u7d04\u306b\u51dd\u7e2e\u3057\u307e\u3059\u3002</li> </ul> </li> <li> <p>\u72ec\u81ea\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u304a\u6301\u3061\u306e\u5834\u5408\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3UI\u3092\u4f7f\u7528\u3057\u3066\u305d\u308c\u3089\u3092\u30d6\u30ed\u30d6\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u30ed\u30fc\u30c9\u3057\u3001AI\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u53d6\u308a\u8fbc\u307f\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u30c8\u30ea\u30ac\u30fc\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/01/#ai","title":"AI\u306b\u3088\u308b\u30c7\u30fc\u30bf\u53d6\u308a\u8fbc\u307f\u3068\u691c\u8a3c\u306e\u5f37\u5316","text":"<p>Azure Document Intelligence \u306f\u3001AI\u99c6\u52d5\u306e\u691c\u8a3c\u3092\u9069\u7528\u3057\u3066\u6b63\u78ba\u6027\u3092\u78ba\u4fdd\u3057\u306a\u304c\u3089\u3001\u69cb\u9020\u5316\u304a\u3088\u3073\u975e\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</p> <p>\u81ea\u52d5\u30c6\u30ad\u30b9\u30c8\u62bd\u51fa: \u53d6\u5f15\u91d1\u984d\u3084\u9867\u5ba2\u60c5\u5831\u306a\u3069\u306e\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8b58\u5225\u3057\u307e\u3059\u3002 AI\u99c6\u52d5\u306e\u30c7\u30fc\u30bf\u691c\u8a3c: \u62bd\u51fa\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u4e8b\u524d\u5b9a\u7fa9\u3055\u308c\u305f\u30eb\u30fc\u30eb\u3068\u7167\u5408\u3057\u3066\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002 \u69cb\u9020\u8981\u7d20\u306b\u57fa\u3065\u304f\u30c1\u30e3\u30f3\u30af\u5316: \u5927\u898f\u6a21\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u52b9\u7387\u7684\u306b\u51e6\u7406\u3059\u308b\u305f\u3081\u306b\u610f\u5473\u306e\u3042\u308b\u90e8\u5206\u306b\u5206\u5272\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/01/#_2","title":"\u5f37\u5316\u3055\u308c\u305f\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u5229\u70b9","text":"<ul> <li>\u9ad8\u54c1\u8cea\u306a\u30c7\u30fc\u30bf: AI\u99c6\u52d5\u306e\u691c\u8a3c\u306b\u3088\u308a\u6b63\u78ba\u6027\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002</li> <li>\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3: \u5927\u91cf\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u52b9\u7387\u7684\u306b\u51e6\u7406\u3057\u307e\u3059\u3002</li> <li>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u7406\u89e3: AI\u306b\u3088\u308b\u691c\u7d22\u3068\u5206\u6790\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</li> <li>\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u306e\u81ea\u52d5\u5316: \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u51e6\u7406\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u52b9\u7387\u5316\u3057\u307e\u3059\u3002</li> </ul> <p>Azure Document Intelligence \u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u975e\u69cb\u9020\u5316\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u52b9\u7387\u7684\u306b\u5b9f\u7528\u7684\u306a\u30a4\u30f3\u30b5\u30a4\u30c8\u306b\u5909\u63db\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/01/#_3","title":"\u8ffd\u52a0\u306e\u5b66\u7fd2\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"<ul> <li>Azure AI Document Intelligence \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8</li> <li>Azure Document Intelligence \u30b3\u30fc\u30c9\u30b5\u30f3\u30d7\u30eb</li> </ul>"},{"location":"ja/04-Create-AI-Pipeline/02/","title":"4.2 \u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u8a2d\u5b9a","text":"<p>\u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u306f\u3001RAG\uff08\u30ea\u30c8\u30ea\u30fc\u30d0\u30eb\u30fb\u30aa\u30fc\u30b0\u30e1\u30f3\u30c6\u30c3\u30c9\u30fb\u30b8\u30a7\u30cd\u30ec\u30fc\u30b7\u30e7\u30f3\uff09\u3084\u305d\u306e\u4ed6\u306eAI\u99c6\u52d5\u578b\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u305f\u3081\u306b\u6587\u66f8\u3092\u6e96\u5099\u3059\u308b\u4e0a\u3067\u91cd\u8981\u306a\u30b9\u30c6\u30c3\u30d7\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u5927\u304d\u306a\u6587\u66f8\u3092\u3088\u308a\u5c0f\u3055\u304f\u3001\u610f\u5473\u7684\u306b\u610f\u5473\u306e\u3042\u308b\u30c1\u30e3\u30f3\u30af\u306b\u5206\u5272\u3059\u308b\u3053\u3068\u3067\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\u3001\u691c\u7d22\u3001\u30ea\u30c8\u30ea\u30fc\u30d0\u30eb\u3092\u6539\u5584\u3057\u307e\u3059\u3002Azure Document Intelligence\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u3092\u8a2d\u5b9a\u3057\u3001\u4e0b\u6d41\u30d7\u30ed\u30bb\u30b9\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u3092\u6700\u9069\u5316\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/02/#document-intelligence","title":"Document Intelligence\u306b\u304a\u3051\u308b\u30c1\u30e3\u30f3\u30af\u3068\u306f\uff1f","text":"<p>Azure AI Document Intelligence\u3067\u306f\u3001\u300c\u30c1\u30e3\u30f3\u30af\u300d\u3068\u306f\u3001\u30c7\u30fc\u30bf\u306e\u62bd\u51fa\u3001\u30ea\u30c8\u30ea\u30fc\u30d0\u30eb\u3001\u691c\u8a3c\u3092\u6539\u5584\u3059\u308b\u305f\u3081\u306b\u77e5\u7684\u306b\u5206\u5272\u3055\u308c\u305f\u6587\u66f8\u306e\u69cb\u9020\u5316\u30bb\u30b0\u30e1\u30f3\u30c8\u3092\u6307\u3057\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u3001\u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u3068\u3057\u3066\u77e5\u3089\u308c\u3001\u60c5\u5831\u304c\u30da\u30fc\u30b8\u756a\u53f7\u306e\u3088\u3046\u306a\u4efb\u610f\u306e\u533a\u5206\u3067\u306f\u306a\u304f\u3001\u305d\u306e\u610f\u5473\u3068\u6587\u8108\u306b\u57fa\u3065\u3044\u3066\u8ad6\u7406\u7684\u306b\u30b0\u30eb\u30fc\u30d7\u5316\u3055\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/02/#_1","title":"\u30c1\u30e3\u30f3\u30af\u306e\u4ed5\u7d44\u307f","text":"<ol> <li> <p>\u610f\u5473\u306e\u7406\u89e3: \u6587\u66f8\u3092\u5358\u4e00\u306e\u30c6\u30ad\u30b9\u30c8\u30d6\u30ed\u30c3\u30af\u3068\u3057\u3066\u6271\u3046\u306e\u3067\u306f\u306a\u304f\u3001AI\u30e2\u30c7\u30eb\u306f\u898b\u51fa\u3057\u3001\u6bb5\u843d\u3001\u8868\u3001\u30ea\u30b9\u30c8\u306a\u3069\u306e\u4e3b\u8981\u306a\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8a8d\u8b58\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u6587\u8108\u306e\u4fdd\u6301: \u6587\u66f8\u306e\u7570\u306a\u308b\u90e8\u5206\u9593\u306e\u95a2\u4fc2\u3092\u7dad\u6301\u3059\u308b\u3053\u3068\u3067\u3001\u30c1\u30e3\u30f3\u30af\u306fAI\u30e2\u30c7\u30eb\u304c\u8ca1\u52d9\u8af8\u8868\u3001SOW\u3001\u8acb\u6c42\u66f8\u3092\u3088\u308a\u6b63\u78ba\u306b\u89e3\u91c8\u3059\u308b\u306e\u3092\u52a9\u3051\u307e\u3059\u3002</p> </li> <li> <p>\u30ea\u30c8\u30ea\u30fc\u30d0\u30eb\u30fb\u30aa\u30fc\u30b0\u30e1\u30f3\u30c6\u30c3\u30c9\u30fb\u30b8\u30a7\u30cd\u30ec\u30fc\u30b7\u30e7\u30f3\uff08RAG\uff09\u30e2\u30c7\u30eb\u306f\u3001\u95a2\u9023\u3059\u308b\u30c1\u30e3\u30f3\u30af\u3092\u52d5\u7684\u306b\u53d6\u5f97\u3057\u3001AI\u99c6\u52d5\u306e\u6587\u66f8\u691c\u8a3c\u3001\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u30c1\u30a7\u30c3\u30af\u3001\u8ca1\u52d9\u30c7\u30fc\u30bf\u306e\u8abf\u6574\u3092\u6539\u5584\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/02/#ai","title":"AI\u99c6\u52d5\u306e\u30c7\u30fc\u30bf\u691c\u8a3c\u306b\u304a\u3051\u308b\u30c1\u30e3\u30f3\u30af\u306e\u91cd\u8981\u6027","text":"<ul> <li>\u9ad8\u7cbe\u5ea6: \u69cb\u9020\u5316\u3055\u308c\u305f\u6587\u66f8\u306e\u30bb\u30b0\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u3001AI\u306e\u4e3b\u8981\u306a\u8ca1\u52d9\u30c7\u30fc\u30bf\u306e\u62bd\u51fa\u3068\u691c\u8a3c\u80fd\u529b\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</li> <li>\u3088\u308a\u826f\u3044\u6587\u8108\u7684\u30ea\u30c8\u30ea\u30fc\u30d0\u30eb: \u8acb\u6c42\u66f8\u3092\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u3068\u6bd4\u8f03\u3059\u308b\u969b\u3001AI\u306f\u652f\u6255\u3044\u6761\u4ef6\u306b\u95a2\u9023\u3059\u308b\u7279\u5b9a\u306e\u6761\u9805\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002</li> <li>\u6700\u9069\u5316\u3055\u308c\u305f\u30af\u30a8\u30ea\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9: AI\u99c6\u52d5\u306e\u691c\u7d22\u306f\u3001\u3088\u308a\u6b63\u78ba\u3067\u6587\u8108\u3092\u8003\u616e\u3057\u305f\u7d50\u679c\u3092\u8fd4\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"ja/04-Create-AI-Pipeline/02/#document-intelligence_1","title":"Document Intelligence\u306b\u304a\u3051\u308b\u30c1\u30e3\u30f3\u30af\u6226\u7565\u306e\u5b9a\u7fa9","text":"<p>\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u3084\u8acb\u6c42\u66f8\u3092\u6271\u3046\u969b\u3001\u52b9\u679c\u7684\u306a\u30c1\u30e3\u30f3\u30af\u6226\u7565\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306f\u3001\u6b63\u78ba\u306a\u30c7\u30fc\u30bf\u62bd\u51fa\u3001\u691c\u8a3c\u3001\u30af\u30ed\u30b9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u4e0d\u53ef\u6b20\u3067\u3059\u3002\u30c1\u30e3\u30f3\u30af\u306e\u69cb\u9020\u306f\u6587\u66f8\u306e\u7a2e\u985e\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\u3002SOW\u3068\u8acb\u6c42\u66f8\u306f\u7570\u306a\u308b\u5f62\u5f0f\u3001\u76ee\u7684\u3001\u30c7\u30fc\u30bf\u8981\u4ef6\u3092\u6301\u3063\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/02/#sow","title":"\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8 (SOW) \u306e\u30c1\u30e3\u30f3\u30af\u5316\u6226\u7565","text":"<p>SOW\u306f\u3001\u5951\u7d04\u4e0a\u306e\u7fa9\u52d9\u3001\u652f\u6255\u3044\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u3001\u6210\u679c\u7269\u3001\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u6761\u9805\u3092\u793a\u3059\u9577\u304f\u69cb\u9020\u5316\u3055\u308c\u305f\u6587\u66f8\u3067\u3059\u3002SOW\u306e\u30c1\u30e3\u30f3\u30af\u5316\u6226\u7565\u306f\u3001\u6587\u8108\u306e\u6574\u5408\u6027\u3092\u4fdd\u3061\u306a\u304c\u3089\u95a2\u9023\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u7c21\u5358\u306b\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u306b\u7126\u70b9\u3092\u5f53\u3066\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/02/#sow_1","title":"SOW\u306e\u305f\u3081\u306e\u4e3b\u8981\u306a\u30c1\u30e3\u30f3\u30af\u5316\u306e\u8003\u616e\u4e8b\u9805","text":"<ol> <li> <p>\u8ad6\u7406\u7684\u306a\u30bb\u30af\u30b7\u30e7\u30cb\u30f3\u30b0:</p> <ol> <li>\u898b\u51fa\u3057\u3001\u526f\u898b\u51fa\u3057\u3001\u756a\u53f7\u4ed8\u304d\u6761\u9805\uff08\u4f8b\uff1a\u300c\u4f5c\u696d\u7bc4\u56f2\u300d\u3001\u300c\u652f\u6255\u3044\u6761\u4ef6\u300d\u3001\u300c\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u300d\uff09\u306b\u57fa\u3065\u3044\u3066\u30c1\u30e3\u30f3\u30af\u5316\u3057\u307e\u3059\u3002</li> <li>AI\u304c\u8acb\u6c42\u66f8\u3092\u53c2\u7167\u3059\u308b\u969b\u306b\u95a2\u9023\u3059\u308b\u5951\u7d04\u306e\u8a73\u7d30\u3092\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</li> </ol> </li> <li> <p>\u6bb5\u843d\u30d9\u30fc\u30b9\u306e\u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u5316:</p> <ol> <li>\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u610f\u5473\u7684\u306b\u610f\u5473\u306e\u3042\u308b\u6bb5\u843d\u306b\u5206\u5272\u3057\u3066\u6b63\u78ba\u306b\u53d6\u5f97\u3057\u307e\u3059\u3002</li> <li>RAG\u30d9\u30fc\u30b9\u306eAI\u30e2\u30c7\u30eb\u304c\u5951\u7d04\u7fa9\u52d9\u3092\u7406\u89e3\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</li> </ol> </li> <li> <p>\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u6761\u9805\u306e\u8a8d\u8b58:</p> <ol> <li>\u898f\u5236\u307e\u305f\u306f\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u306e\u8a00\u8a9e\u3092\u7279\u5b9a\u3057\u3001\u5225\u3005\u306b\u30c1\u30e3\u30f3\u30af\u5316\u3057\u3066\u81ea\u52d5\u6cd5\u7684\u30c1\u30a7\u30c3\u30af\u3092\u5bb9\u6613\u306b\u3057\u307e\u3059\u3002</li> </ol> </li> <li> <p>\u6210\u679c\u7269\u30d9\u30fc\u30b9\u306e\u30bb\u30b0\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3:</p> <ol> <li>\u652f\u6255\u3044\u6210\u679c\u7269\u306b\u57fa\u3065\u3044\u3066\u30c1\u30e3\u30f3\u30af\u3092\u5b9a\u7fa9\u3057\u3001\u671f\u5f85\u3055\u308c\u308b\u8acb\u6c42\u66f8\u91d1\u984d\u306b\u30ea\u30f3\u30af\u3057\u307e\u3059\u3002</li> </ol> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/02/#_2","title":"\u8acb\u6c42\u66f8\u306e\u30c1\u30e3\u30f3\u30af\u5316\u6226\u7565","text":"<p>\u8acb\u6c42\u66f8\u306f\u3001\u8acb\u6c42\u53ef\u80fd\u306a\u9805\u76ee\u3001\u91d1\u984d\u3001\u671f\u65e5\u3092\u4e00\u89a7\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u305f\u69cb\u9020\u5316\u3055\u308c\u305f\u8868\u5f62\u5f0f\u306e\u6587\u66f8\u3067\u3059\u3002SOW\u3068\u306f\u7570\u306a\u308a\u3001\u8acb\u6c42\u66f8\u306e\u30c1\u30e3\u30f3\u30af\u5316\u306f\u8868\u5f62\u5f0f\u30c7\u30fc\u30bf\u306e\u62bd\u51fa\u3001\u9805\u76ee\u306e\u6b63\u78ba\u6027\u3001\u304a\u3088\u3073SOW\u3068\u306e\u76f4\u63a5\u7684\u306a\u4e00\u81f4\u306b\u7126\u70b9\u3092\u5f53\u3066\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/02/#_3","title":"\u8acb\u6c42\u66f8\u306e\u305f\u3081\u306e\u4e3b\u8981\u306a\u30c1\u30e3\u30f3\u30af\u5316\u306e\u8003\u616e\u4e8b\u9805","text":"<ol> <li>\u9805\u76ee\u3054\u3068\u306e\u30c1\u30e3\u30f3\u30af\u5316:<ol> <li>\u5404\u9805\u76ee\uff08\u4f8b\uff1a\u30b5\u30fc\u30d3\u30b9\u3001\u6570\u91cf\u3001\u91d1\u984d\u3001\u7a0e\u91d1\u306a\u3069\uff09\u306f\u3001\u6b63\u78ba\u306aAI\u691c\u8a3c\u306e\u305f\u3081\u306b\u500b\u5225\u306e\u30c1\u30e3\u30f3\u30af\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002</li> </ol> </li> <li> <p>\u30c6\u30fc\u30d6\u30eb\u5bfe\u5fdc\u306e\u30c1\u30e3\u30f3\u30af\u5316:</p> <ol> <li>\u8868\u5f62\u5f0f\u306e\u69cb\u9020\u3092\u4fdd\u6301\u3057\u3066\u3001AI\u304c\u8acb\u6c42\u66f8\u306e\u5408\u8a08\u3001\u7a0e\u91d1\u3001\u5272\u5f15\u3092\u6b63\u3057\u304f\u62bd\u51fa\u304a\u3088\u3073\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</li> </ol> </li> <li> <p>\u8aac\u660e\u306e\u305f\u3081\u306e\u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u5316:</p> <ol> <li>\u8acb\u6c42\u66f8\u306e\u8aac\u660e\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u6210\u679c\u7269\u3092\u53c2\u7167\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u30c1\u30e3\u30f3\u30af\u5316\u306b\u3088\u308aAI\u304c\u305d\u308c\u3089\u3092SOW\u306e\u6210\u679c\u7269\u3068\u30af\u30ed\u30b9\u30d0\u30ea\u30c7\u30fc\u30c8\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</li> </ol> </li> <li> <p>\u30d9\u30f3\u30c0\u30fc\u3068\u652f\u6255\u3044\u6761\u4ef6\u306e\u30bb\u30b0\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3:</p> <ol> <li>\u30d9\u30f3\u30c0\u30fc\u306e\u8a73\u7d30\u3001\u8acb\u6c42\u66f8\u306e\u65e5\u4ed8\u3001\u304a\u3088\u3073\u671f\u65e5\u306f\u5225\u3005\u306b\u30c1\u30e3\u30f3\u30af\u5316\u3057\u3066\u3001\u6b63\u78ba\u306a\u652f\u6255\u3044\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u691c\u8a3c\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002</li> </ol> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/02/#_4","title":"\u30c1\u30e3\u30f3\u30af\u6226\u7565\u306e\u9055\u3044","text":"\u9805\u76ee SOW\u30c1\u30e3\u30f3\u30af\u6226\u7565 \u8acb\u6c42\u66f8\u30c1\u30e3\u30f3\u30af\u6226\u7565 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u69cb\u9020 \u30bb\u30af\u30b7\u30e7\u30f3\u4ed8\u304d\u306e\u9577\u6587\u5951\u7d04\u66f8 \u660e\u7d30\u9805\u76ee\u4ed8\u304d\u306e\u69cb\u9020\u5316\u3055\u308c\u305f\u8868 \u30c1\u30e3\u30f3\u30af\u65b9\u6cd5 \u30bb\u30af\u30b7\u30e7\u30f3\u3068\u6bb5\u843d\u306b\u57fa\u3065\u304f\u30c1\u30e3\u30f3\u30af \u8868\u306b\u5bfe\u5fdc\u3057\u305f\u660e\u7d30\u9805\u76ee\u306e\u30c1\u30e3\u30f3\u30af \u4e3b\u8981\u306a\u30c1\u30e3\u30f3\u30af\u306e\u7126\u70b9 \u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u3001\u6210\u679c\u7269\u3001\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u6761\u9805 \u8acb\u6c42\u9805\u76ee\u3001\u652f\u6255\u3044\u8a73\u7d30 AI\u306e\u53d6\u5f97\u76ee\u7684 \u5951\u7d04\u4e0a\u306e\u7fa9\u52d9\u3068\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u306e\u691c\u8a3c \u8acb\u6c42\u53ef\u80fd\u306a\u91d1\u984d\u3068SOW\u306e\u671f\u65e5\u3092\u4e00\u81f4\u3055\u305b\u308b"},{"location":"ja/04-Create-AI-Pipeline/02/#_5","title":"\u6700\u9069\u5316\u3055\u308c\u305f\u30c1\u30e3\u30f3\u30af\u6226\u7565\u304c\u91cd\u8981\u306a\u7406\u7531","text":"<ul> <li>AI\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a \u2013 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u691c\u8a3c\u304c\u69cb\u9020\u5316\u3055\u308c\u305f\u610f\u5473\u306e\u3042\u308b\u30c1\u30e3\u30f3\u30af\u306b\u57fa\u3065\u3044\u3066\u884c\u308f\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</li> <li>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u9593\u306e\u691c\u8a3c\u3092\u5f37\u5316 \u2013 AI\u30e2\u30c7\u30eb\u304c\u8acb\u6c42\u66f8\u3092SOW\u306b\u52b9\u7387\u7684\u306b\u4e00\u81f4\u3055\u305b\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</li> <li>\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u3068\u76e3\u67fb\u53ef\u80fd\u6027\u3092\u30b5\u30dd\u30fc\u30c8 \u2013 \u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u9069\u5207\u306b\u30ec\u30d3\u30e5\u30fc\u3055\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</li> <li>\u53d6\u5f97\u5f37\u5316\u751f\u6210\uff08RAG\uff09\u30af\u30a8\u30ea\u3092\u6700\u9069\u5316 \u2013 AI\u304c\u6b63\u78ba\u306a\u5951\u7d04\u304a\u3088\u3073\u8acb\u6c42\u66f8\u306e\u8a73\u7d30\u3092\u53d6\u5f97\u3057\u3066\u5206\u6790\u3067\u304d\u307e\u3059\u3002</li> </ul>"},{"location":"ja/04-Create-AI-Pipeline/02/#azure-document-intelligence","title":"Azure Document Intelligence\u306e\u6d3b\u7528","text":"<p>Azure Document Intelligence\u306f\u3001\u30c1\u30e3\u30f3\u30af\u30d7\u30ed\u30bb\u30b9\u3092\u81ea\u52d5\u5316\u3059\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3068\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\uff1a</p> <ol> <li>\u4e8b\u524d\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u6e08\u307f\u30e2\u30c7\u30eb\u306e\u4f7f\u7528:</li> <li> <p>\u4e8b\u524d\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u6e08\u307f\u30e2\u30c7\u30eb\u3092\u9069\u7528\u3057\u3066\u3001\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5185\u306e\u8ad6\u7406\u7684\u306a\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u7279\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3067\u306f2\u3064\u306e\u30e2\u30c7\u30eb\u304c\u4f7f\u7528\u3055\u308c\u307e\u3057\u305f\uff1a</p> <ol> <li>Document Intelligence\u306eprebuilt-invoice\u30e2\u30c7\u30eb\u306f\u3001\u8acb\u6c42\u66f8\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u306e\u30e2\u30c7\u30eb\u306f\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u8a73\u7d30\u3001\u8acb\u6c42\u66f8\u306e\u65e5\u4ed8\u3001\u5408\u8a08\u91d1\u984d\u306a\u3069\u3001\u8acb\u6c42\u66f8\u304b\u3089\u306e\u91cd\u8981\u306a\u60c5\u5831\u3092\u62bd\u51fa\u3059\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30e2\u30c7\u30eb\u306f\u3001\u9ad8\u5ea6\u306a\u6a5f\u68b0\u5b66\u7fd2\u6280\u8853\u3092\u6d3b\u7528\u3057\u3066\u8acb\u6c42\u66f8\u306e\u51e6\u7406\u3092\u52b9\u7387\u5316\u3057\u3001\u624b\u52d5\u306e\u30c7\u30fc\u30bf\u5165\u529b\u3092\u524a\u6e1b\u3057\u3001\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</li> <li>Document Intelligence\u306eprebuilt-document\u30e2\u30c7\u30eb\u306f\u3001Statement of Works\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u306e\u30e2\u30c7\u30eb\u306f\u3001\u5951\u7d04\u66f8\u3001\u9818\u53ce\u66f8\u3001\u30d5\u30a9\u30fc\u30e0\u306a\u3069\u3001\u3055\u307e\u3056\u307e\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30bf\u30a4\u30d7\u304b\u3089\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30e2\u30c7\u30eb\u306f\u3001\u95a2\u9023\u60c5\u5831\u3092\u7279\u5b9a\u3057\u3066\u62bd\u51fa\u3059\u308b\u305f\u3081\u306b\u6a5f\u68b0\u5b66\u7fd2\u3092\u4f7f\u7528\u3057\u3001\u52b9\u7387\u7684\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u51e6\u7406\u3068\u30c7\u30fc\u30bf\u7ba1\u7406\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</li> </ol> </li> <li> <p>\u30ab\u30b9\u30bf\u30e0\u30e2\u30c7\u30eb\u306e\u9069\u7528:</p> <ol> <li>\u4e8b\u524d\u69cb\u7bc9\u3055\u308c\u305f\u30e2\u30c7\u30eb\u304c\u30c9\u30e1\u30a4\u30f3\u56fa\u6709\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u9069\u3055\u306a\u3044\u5834\u5408\u3001\u30ab\u30b9\u30bf\u30e0\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u7279\u6709\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8b58\u5225\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002    \u3053\u306e\u30ac\u30a4\u30c9\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044</li> </ol> </li> <li> <p>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30eb\u30fc\u30eb\u306e\u8a2d\u5b9a:</p> <ol> <li>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30b3\u30f3\u30c6\u30f3\u30c4\u306b\u57fa\u3065\u3044\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u30bb\u30b0\u30e1\u30f3\u30c8\u5316\u3059\u308b\u305f\u3081\u306e\u30eb\u30fc\u30eb\u3084\u6761\u4ef6\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</li> <li>\u4f8b: \u5951\u7d04\u66f8\u3092\u300c\u95a2\u4fc2\u8005\u300d\u3001\u300c\u7fa9\u52d9\u300d\u3001\u300c\u6761\u4ef6\u3068\u6761\u9805\u300d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u5206\u5272\u3057\u307e\u3059\u3002</li> </ol> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/02/#azure-database-for-postgresql","title":"Azure Database for PostgreSQL\u306b\u30c1\u30e3\u30f3\u30af\u3092\u4fdd\u5b58\u3059\u308b","text":"<p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u306b\u30c1\u30e3\u30f3\u30af\u5316\u3055\u308c\u305f\u5f8c\u3001\u7d50\u679c\u306e\u30c1\u30e3\u30f3\u30af\u306f\u52b9\u7387\u7684\u306a\u30af\u30a8\u30ea\u3068\u53d6\u5f97\u306e\u305f\u3081\u306bAzure Database for PostgreSQL\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059:</p> <ol> <li> <p>\u30c7\u30fc\u30bf\u69cb\u9020:</p> <ol> <li>\u5404\u30c1\u30e3\u30f3\u30af\u306f\u3001\u7c21\u5358\u306b\u8b58\u5225\u3067\u304d\u308b\u30e1\u30bf\u30c7\u30fc\u30bf\u3068\u3068\u3082\u306b\u500b\u5225\u306e\u30ec\u30b3\u30fc\u30c9\u3068\u3057\u3066\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</li> <li> <p>\u4f8b\u306e\u30b9\u30ad\u30fc\u30de:</p> SQL<pre><code>CREATE TABLE sow_chunks (\n    id BIGSERIAL PRIMARY KEY,\n    sow_id BIGINT NOT NULL,\n    heading, TEXT,\n    content TEXT,\n    page_number INT,\n    FOREIGN KEY (sow_id) REFERENCES sows (id) ON DELETE CASCADE\n);\n</code></pre> </li> </ol> </li> <li> <p>\u30e1\u30bf\u30c7\u30fc\u30bf:</p> <ol> <li>\u3053\u308c\u306b\u306f\u3001\u52b9\u7387\u7684\u306a\u53d6\u5f97\u306e\u305f\u3081\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID\u3001\u30c1\u30e3\u30f3\u30af\u30b7\u30fc\u30b1\u30f3\u30b9\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30d9\u30eb\u306a\u3069\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u304c\u542b\u307e\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/02/#_6","title":"\u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u5316\u306e\u5229\u70b9","text":"<ol> <li>\u5f37\u5316\u3055\u308c\u305f\u53d6\u5f97:</li> <li> <p>\u7279\u5b9a\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u6b63\u78ba\u306a\u30af\u30a8\u30ea\u3092\u53ef\u80fd\u306b\u3057\u3001AI\u99c6\u52d5\u306e\u5fdc\u7b54\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</p> </li> <li> <p>\u6700\u9069\u5316\u3055\u308c\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210:</p> <ol> <li>\u5927\u898f\u6a21\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\u306e\u8907\u96d1\u3055\u3092\u3001\u3088\u308a\u5c0f\u3055\u304f\u610f\u5473\u306e\u3042\u308b\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u7126\u70b9\u3092\u5f53\u3066\u308b\u3053\u3068\u3067\u8efd\u6e1b\u3057\u307e\u3059\u3002</li> </ol> </li> <li> <p>AI\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u5411\u4e0a:</p> <ol> <li>AI\u30e2\u30c7\u30eb\u304c\u30c8\u30fc\u30af\u30f3\u5236\u9650\u5185\u3067\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u3001\u5207\u308a\u6368\u3066\u3092\u907f\u3051\u3001\u51fa\u529b\u54c1\u8cea\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</li> </ol> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/02/#postgresql","title":"\u30c1\u30e3\u30f3\u30af\u3092PostgreSQL\u306b\u66f8\u304d\u8fbc\u3080","text":""},{"location":"ja/04-Create-AI-Pipeline/02/#azure-database-for-postgresql_1","title":"Azure Database for PostgreSQL\u306b\u304a\u3051\u308b\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u30c7\u30fc\u30bf\u30b9\u30c8\u30ec\u30fc\u30b8","text":"<p>\u30c1\u30e3\u30f3\u30af\u5316\u3055\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u306fAzure Database for PostgreSQL\u306b\u4fdd\u5b58\u3055\u308c\u3001\u52b9\u7387\u7684\u306a\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u53d6\u5f97\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</p> <ul> <li>\u30c7\u30fc\u30bf\u306e\u7d44\u7e54\u5316: \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u4f34\u3063\u305f\u69cb\u9020\u5316\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</li> <li>\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3: \u5927\u91cf\u306e\u30c7\u30fc\u30bf\u3092\u6271\u3046\u305f\u3081\u306b\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> </ul>"},{"location":"ja/04-Create-AI-Pipeline/02/#4-azure-ai","title":"4. Azure AI\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u305f\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u306e\u751f\u6210","text":"<p>PostgreSQL\u7528\u306eAzure AI\u62e1\u5f35\u6a5f\u80fd\u306f\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22\u306a\u3069\u306e\u9ad8\u5ea6\u306aAI\u6a5f\u80fd\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</p> <ul> <li>\u57cb\u3081\u8fbc\u307f\u30b9\u30c8\u30ec\u30fc\u30b8: \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u57cb\u3081\u8fbc\u307f\u7528\u306e\u30d9\u30af\u30c8\u30eb\u5217\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</li> <li>\u57cb\u3081\u8fbc\u307f\u751f\u6210: Azure OpenAI \u3092\u4f7f\u7528\u3057\u3066\u9ad8\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002</li> </ul> <p>SQL\u30b3\u30de\u30f3\u30c9\u306e\u4f8b:</p> SQL<pre><code>ALTER TABLE invoices ADD COLUMN embeddings VECTOR(1536);\nALTER TABLE sows ADD COLUMN embeddings VECTOR(1536);\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/02/#api","title":"\u633f\u5165\u6642\u306b\u30c1\u30e3\u30f3\u30af\u3092\u633f\u5165\u3059\u308b\u305f\u3081\u306eAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8","text":"<p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067SOW\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u969b\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306f\u5206\u6790API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8 <code>/sows/</code> \u304b\u3089\u59cb\u307e\u308a\u307e\u3059\u3002\u3053\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u3001HTTP POST\u3092\u4f7f\u7528\u3057\u3066\u3001\u30d9\u30f3\u30c0\u30fc\u306e <code>vendor_id</code> \u3068\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6e21\u3057\u3066\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</p> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306fDocument Intelligence\u306b\u6e21\u3055\u308c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u30c6\u30ad\u30b9\u30c8\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</p> src/api/app/routers/sows.py<pre><code>  analysis_result = await doc_intelligence_service.extract_text_from_sow_document(document_data)\n</code></pre> <p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001<code>src/api/app/services/azure_doc_intelligence_service.py</code> \u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3042\u308bDocument Intelligence\u3092\u547c\u3073\u51fa\u3059\u30b5\u30fc\u30d3\u30b9\u3092\u5b9f\u88c5\u3057\u3066\u304a\u308a\u3001\u3053\u3053\u306b <code>.extract_text_from_sow_document</code> \u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30b3\u30fc\u30c9\u306f\u3001Document Intelligence\u5185\u306e <code>prebuild-document</code> \u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u30c6\u30ad\u30b9\u30c8\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3059\u308b\u3068\u3001Document Intelligence\u3092\u547c\u3073\u51fa\u3057\u3066\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u30c6\u30ad\u30b9\u30c8\u3092\u62bd\u51fa\u3057\u3001\u30c6\u30ad\u30b9\u30c8\u30c1\u30e3\u30f3\u30af\u3092\u751f\u6210\u3059\u308b\u30b3\u30fc\u30c9\u306e\u7279\u5b9a\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u30c6\u30ad\u30b9\u30c8\u3092\u62bd\u51fa\u3059\u308b\u305f\u3081\u306bDocument Intelligence\u3092\u547c\u3073\u51fa\u3059 src/api/services/azure_doc_intelligence_service.py<pre><code>  async def extract_text_from_sow_document(self, document_data):\n    \"\"\"Extract text and structure using Azure AI Document Intelligence.\"\"\"\n    docClient = DocumentAnalysisClient(\n        endpoint=self.docIntelligenceEndpoint,\n        credential=self.credential\n    )\n\n    poller = await docClient.begin_analyze_document(\n        model_id=\"prebuilt-document\",\n        document=document_data\n    )\n\n    result = await poller.result()\n\n    analysis = DocumentAnalysisResult()\n    analysis.extracted_text = []\n    analysis.text_chunks = []\n\n    known_headings = [\n        \"Project Scope\", \"Project Objectives\", \"Location\", \"Tasks\", \"Schedules\",\n        \"Standards and Testing\", \"Payments\", \"Compliance\", \"Requirements\", \"Project Deliverables\"\n    ]\n\n    for page in result.pages:\n        page_text = \" \".join([line.content for line in page.lines])\n        analysis.extracted_text.append(page_text)\n\n        current_heading = None\n        for line in page.lines:\n            text = line.content\n            if self.__is_heading(text, known_headings): # Detect headings\n                current_heading = text\n                newTextChunk = TextChunk()\n                newTextChunk.heading = text\n                newTextChunk.content = \"\"\n                newTextChunk.page_number = page.page_number\n                analysis.text_chunks.append(newTextChunk)\n            elif current_heading:\n                analysis.text_chunks[-1].content += \" \" + text\n\n    await docClient.close()\n\n    analysis.full_text = \"\\n\".join(analysis.extracted_text)\n\n    return analysis\n</code></pre> <p><code>.extract_text_from_sow_document</code> \u30e1\u30bd\u30c3\u30c9\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u3059\u3079\u3066\u306e\u30c6\u30ad\u30b9\u30c8\u30c1\u30e3\u30f3\u30af\u3092\u542b\u3080 <code>.text_chunks</code> \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u542b\u3080\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u62bd\u51fa\u3055\u308c\u305f\u30c1\u30e3\u30f3\u30af\u3092\u30eb\u30fc\u30d7\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3057\u307e\u3059\u3002</p> src/api/app/routers/sows.py<pre><code>for chunk in analysis_result.text_chunks:\n    await conn.execute('''\n        INSERT INTO sow_chunks (sow_id, heading, content, page_number) VALUES ($1, $2, $3, $4);\n    ''', sow.id, chunk.heading, chunk.content, chunk.page_number)\n</code></pre> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u30c1\u30e3\u30f3\u30af\u306f\u3001\u5f8c\u3067Copilot\u306b\u3088\u3063\u3066\u30af\u30a8\u30ea\u3055\u308c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30c6\u30ad\u30b9\u30c8\u5185\u5bb9\u306b\u57fa\u3065\u3044\u305f\u691c\u7d22\u62e1\u5f35\u751f\u6210\uff08RAG\uff09\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/02/#_7","title":"\u8ffd\u52a0\u5b66\u7fd2\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"<ul> <li> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30b9 - \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u51e6\u7406\u30e2\u30c7\u30eb</p> </li> <li> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30b9\u3067\u30ab\u30b9\u30bf\u30e0\u30e2\u30c7\u30eb\u3092\u69cb\u7bc9\u3059\u308b</p> </li> <li> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30b9 - \u691c\u7d22\u5f37\u5316\u751f\u6210</p> </li> </ul> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\u69cb\u9020\u8981\u7d20\u30d9\u30fc\u30b9\u306e\u30c1\u30e3\u30f3\u30af\u5316\u306e\u8a2d\u5b9a\u306b\u95a2\u3059\u308b\u4e3b\u8981\u306a\u6982\u5ff5\u3092\u5b66\u3073\u307e\u3057\u305f</p>"},{"location":"ja/04-Create-AI-Pipeline/03/","title":"4.3 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8981\u7d04","text":"<p>Azure Cognitive Services\u3001\u7279\u306bAzure Language Service\u306e\u8981\u7d04\u6a5f\u80fd\u306f\u3001\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8 (SoWs) \u306e\u3088\u3046\u306a\u8907\u96d1\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u7c21\u6f54\u306a\u8981\u7d04\u306b\u51dd\u7e2e\u3059\u308b\u9ad8\u5ea6\u306a\u62bd\u51fa\u7684\u30c6\u30ad\u30b9\u30c8\u8981\u7d04\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u6a5f\u80fd\u3092PostgreSQL Azure_AI \u62e1\u5f35\u6a5f\u80fd\u3068\u7d71\u5408\u3059\u308b\u3053\u3068\u3067\u3001\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8981\u7d04\u3092\u52d5\u7684\u306b\u751f\u6210\u3057\u3001\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u5408\u7406\u5316\u3057\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30a2\u30af\u30bb\u30b9\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/03/#sows","title":"\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8 (SoWs) \u306e\u8981\u7d04","text":"<p>\u91d1\u878d\u696d\u754c\u306eSoWs\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7bc4\u56f2\u3001\u6210\u679c\u7269\u3001\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306b\u95a2\u3059\u308b\u8a73\u7d30\u3092\u591a\u304f\u542b\u3093\u3067\u3044\u308b\u3053\u3068\u304c\u3088\u304f\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u6570\u6587\u306b\u8981\u7d04\u3059\u308b\u3053\u3068\u3067\u3001\u610f\u601d\u6c7a\u5b9a\u8005\u306f\u9577\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u3080\u3053\u3068\u306a\u304f\u3001\u91cd\u8981\u306a\u60c5\u5831\u3092\u8fc5\u901f\u306b\u628a\u63e1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/03/#_1","title":"\u8981\u7d04\u306e\u4e3b\u306a\u5229\u70b9","text":"<ul> <li>\u6642\u9593\u52b9\u7387: \u9577\u6587\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u91cd\u8981\u306a\u60c5\u5831\u3092\u8fc5\u901f\u306b\u7279\u5b9a\u3002</li> <li>\u30a2\u30af\u30bb\u30b7\u30d3\u30ea\u30c6\u30a3\u306e\u5411\u4e0a: \u8981\u7d04\u306f\u7c21\u6f54\u306a\u6982\u8981\u3092\u63d0\u4f9b\u3057\u3001\u610f\u601d\u6c7a\u5b9a\u30d7\u30ed\u30bb\u30b9\u3092\u6539\u5584\u3002</li> <li>\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u81ea\u52d5\u5316: \u624b\u52d5\u306e\u4ecb\u5165\u306a\u3057\u306b\u5927\u91cf\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8981\u7d04\u3092\u81ea\u52d5\u751f\u6210\u3002</li> </ul> <p>Azure\u306eLanguage Service\u5185\u306e\u8981\u7d04API\u306f\u3001\u62bd\u51fa\u7684\u8981\u7d04\u3092\u53ef\u80fd\u306b\u3057\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30a8\u30c3\u30bb\u30f3\u30b9\u3092\u4f1d\u3048\u308b\u4eba\u9593\u306e\u3088\u3046\u306a\u8981\u7d04\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/03/#azure_cognitive-azure_ai","title":"<code>azure_cognitive</code> \u30b9\u30ad\u30fc\u30de\u3092\u4f7f\u7528\u3057\u305f Azure_AI \u62e1\u5f35\u6a5f\u80fd","text":"<p>Azure_AI \u62e1\u5f35\u6a5f\u80fd\u306f\u3001Azure Cognitive Services\u306e\u8981\u7d04\u6a5f\u80fd\u3092\u76f4\u63a5SQL\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306b\u7d71\u5408\u3057\u3001\u7c21\u5358\u306aSQL\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066SoWs\u3084\u305d\u306e\u4ed6\u306e\u91d1\u878d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u62bd\u51fa\u7684\u8981\u7d04\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/03/#_2","title":"\u62bd\u51fa\u7684\u8981\u7d04","text":"<p>\u62e1\u5f35\u6a5f\u80fd\u306e\u62bd\u51fa\u7684\u8981\u7d04\u6a5f\u80fd\u306f\u3001\u5143\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u5168\u4f53\u7684\u306a\u610f\u56f3\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u305f\u30e6\u30cb\u30fc\u30af\u306a\u81ea\u7136\u8a00\u8a9e\u306e\u8981\u7d04\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u3067<code>azure_cognitive.summarize_extractive</code>\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u306b\u3088\u3063\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u6e21\u3055\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u306e2\u301c3\u6587\u306e\u8981\u7d04\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002</p> SQL<pre><code>SELECT azure_cognitive.summarize_extractive('This is a document text', 'en', 2)\n</code></pre> <p>\u4ee5\u4e0b\u306f\u3001PostgreSQL\u30c6\u30fc\u30d6\u30eb\u306e\u4f8b\u3067\u3059\uff1a</p> SQL<pre><code>CREATE TABLE IF NOT EXISTS sows (\n    id BIGSERIAL PRIMARY KEY,\n    number text NOT NULL,\n    vendor_id BIGINT NOT NULL,\n    start_date DATE NOT NULL,\n    end_date DATE NOT NULL,\n    budget DECIMAL(18,2) NOT NULL,\n    document text NOT NULL,\n    metadata jsonb,\n    summary text,\n    FOREIGN KEY (vendor_id) REFERENCES vendors (id) ON DELETE CASCADE\n);\n</code></pre> SQL<pre><code>-- \u8981\u7d04\u5217\u3092\u62bd\u51fa\u7684\u8981\u7d04\u3067\u66f4\u65b0\nUPDATE sows\nSET summary = azure_cognitive.summarize_extractive(metadata::text, 'en', 2);\n</code></pre> SQL<pre><code>SELECT azure_cognitive.summarize_extractive('This is a document text', 'en', 2);\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/03/#_3","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u633f\u5165\u6642\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u8981\u7d04\u306e\u633f\u5165","text":"<p><code>azure_ai</code>\u62e1\u5f35\u6a5f\u80fd\u306e<code>azure_cognitive.summarize_extractive</code>\u30e1\u30bd\u30c3\u30c9\u3092\u6d3b\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30af\u30ea\u30d7\u30c8\u306fINSERT\u307e\u305f\u306fUPDATE\u6642\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u8981\u7d04\u3092\u751f\u6210\u3059\u308b\u547c\u3073\u51fa\u3057\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306f\u3001\u8981\u7d04\u3092\u542b\u3080SOW\u30ec\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u4f7f\u7528\u3059\u308bINSERT\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f8b\u3067\u3059\uff1a</p> SQL<pre><code>INSERT INTO sows (number, start_date, end_date, budget, document, metadata, embeddings, summary, vendor_id)\nVALUES (\n    $1, $2, $3, $4, $5, $6,\n    azure_openai.create_embeddings('embeddings', $7, throw_on_error =&gt; FALSE, max_attempts =&gt; 1000, retry_delay_ms =&gt; 2000),\n    azure_cognitive.summarize_extractive($7, 'en', 2)\n    $8)\nRETURNING *;\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/03/#api","title":"API\u5b9f\u88c5","text":"<p>REST API\u306e<code>/sows/</code> HTTP POST\u30e1\u30bd\u30c3\u30c9\u306b\u306f\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u57fa\u3065\u3044\u3066SOW\u3092\u633f\u5165\u307e\u305f\u306f\u66f4\u65b0\u3059\u308b\u30b3\u30fc\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b3\u30fc\u30c9\u306f<code>src/api/app/routers/sows.py</code>\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3042\u308a\u307e\u3059\u3002\u4eca\u3059\u3050Visual Studio Code\u3067\u958b\u304d\u3001SOW\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53d6\u308a\u8fbc\u3080\u30b3\u30fc\u30c9\u3092\u542b\u3080<code>async def analyze_sow</code>\u30e1\u30bd\u30c3\u30c9\u5185\u306e\u30b3\u30fc\u30c9\u3092\u63a2\u7d22\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u306b\u306f\u3001<code>sows</code>\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9INSERT\u307e\u305f\u306fUPDATE\u3092\u5b9f\u884c\u3059\u308b\u90e8\u5206\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9INSERT\u304a\u3088\u3073UPDATE\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u5185\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u8981\u7d04\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e<code>azure_ai</code>\u547c\u3073\u51fa\u3057\u3092\u5b9f\u884c\u3059\u308b\u7279\u5b9a\u306e\u30b3\u30fc\u30c9\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u8981\u7d04\u751f\u6210\u3092\u4f34\u3046SOW\u306eINSERT / UPDATE src/api/app/routers/sows.py<pre><code># Create SOW in the database\nasync with pool.acquire() as conn:\n    if sow_id is None:\n        # Create new SOW\n        row = await conn.fetchrow('''\n            INSERT INTO sows (number, start_date, end_date, budget, document, metadata, summary, vendor_id)\n            VALUES (\n            $1, $2, $3, $4, $5, $6,\n            azure_cognitive.summarize_extractive($7, 'en', 2),\n            $8)\n            RETURNING *;\n        ''', sow_number, start_date, end_date, budget, documentName, json.dumps(metadata), full_text, vendor_id)\n    else:\n        # Update existing SOW with new document\n        row = await conn.fetchrow('''\n            UPDATE sows\n            SET start_date = $1,\n                end_date = $2,\n                budget = $3,\n                document = $4,\n                metadata = $5,\n                summary = azure_cognitive.summarize_extractive($6, 'en', 2)\n            WHERE id = $7\n            RETURNING *;\n        ''', start_date, end_date, budget, documentName, json.dumps(metadata), full_text, sow_id)\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/03/#_4","title":"\u8ffd\u52a0\u306e\u5b66\u7fd2\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"<ul> <li>\u62bd\u51fa\u7684\u8981\u7d04</li> </ul>"},{"location":"ja/04-Create-AI-Pipeline/04/","title":"4.4 Azure OpenAI\u3092\u4f7f\u7528\u3057\u305f\u30c7\u30fc\u30bf\u306e\u691c\u8a3c","text":"<p>SOW\u304a\u3088\u3073\u8acb\u6c42\u66f8\u306e\u8a18\u9332\u306e\u305f\u3081\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u308a\u8fbc\u307f\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306f\u3001\u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u6700\u521d\u306e\u30b9\u30c6\u30fc\u30b8\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u5206\u6790\u3057\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u57fa\u3065\u3044\u3066SOW\u304a\u3088\u3073\u8acb\u6c42\u66f8\u306e\u8a18\u9332\u3092INSERT/UPDATE\u3059\u308b\u305f\u3081\u306b\u30b7\u30b9\u30c6\u30e0\u306b\u53d6\u308a\u8fbc\u3080\u3053\u3068\u3067\u3059\u3002\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u7b2c\u4e8c\u30b9\u30c6\u30fc\u30b8\u306f\u3001SOW\u304a\u3088\u3073/\u307e\u305f\u306f\u8acb\u6c42\u66f8\u306e\u8a18\u9332\u3092\u691c\u8a3c\u3059\u308b\u3053\u3068\u3067\u3059\u3002</p> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u308a\u8fbc\u307f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306eSOW\u304a\u3088\u3073\u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001Azure OpenAI\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u691c\u8a3c\u3057\u3001\u691c\u8a3c\u7d50\u679c\u306e\u5206\u6790\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u53d6\u5f97\u62e1\u5f35\u751f\u6210\uff08RAG\uff09\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u305f\u30c1\u30e3\u30c3\u30c8\u88dc\u5b8c\u3092\u884c\u3044\u307e\u3059\u3002</p> <p>\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u691c\u8a3c\u30b9\u30c6\u30c3\u30d7\u306e\u30b3\u30fc\u30c9\u306f\u3001\u8acb\u6c42\u66f8\u306e\u5834\u5408\u306fREST API <code>/validation/invoice/{id}</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3001SOW\u306e\u5834\u5408\u306f <code>/validation/sow/{id}</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30b3\u30fc\u30c9\u306f <code>src/api/app/routers/validation.py</code> \u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u8aac\u660e\u306f\u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u30d7\u30ed\u30bb\u30b9\u3092\u30ab\u30d0\u30fc\u3057\u3066\u3044\u307e\u3059\u304c\u3001SOW\u306b\u3064\u3044\u3066\u3082\u540c\u3058\u6226\u7565\u304c\u63a1\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/04/#azure-openai","title":"Azure OpenAI\u3092\u4f7f\u7528\u3057\u305f\u691c\u8a3c\u306e\u5229\u70b9","text":"<p>\u691c\u8a3c\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3078\u306eAzure OpenAI\u306e\u7d71\u5408\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u91cd\u8981\u306a\u5229\u70b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\uff1a</p> <ul> <li> <p>\u81ea\u52d5\u5316\u3055\u308c\u305f\u691c\u8a3c: \u624b\u52d5\u306e\u30c7\u30fc\u30bf\u30ec\u30d3\u30e5\u30fc\u306e\u5fc5\u8981\u6027\u3092\u6e1b\u3089\u3057\u3001\u6642\u9593\u3068\u52b4\u529b\u3092\u7bc0\u7d04\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u6b63\u78ba\u6027\u3068\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9: \u8acb\u6c42\u66f8\u304cSOW\u306e\u5951\u7d04\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u3001\u652f\u6255\u3044\u30a8\u30e9\u30fc\u3092\u6e1b\u5c11\u3055\u305b\u307e\u3059\u3002</p> </li> <li> <p>\u4e0d\u6b63\u691c\u51fa: \u652f\u6255\u3044\u304c\u51e6\u7406\u3055\u308c\u308b\u524d\u306b\u3001\u6f5c\u5728\u7684\u306a\u8acb\u6c42\u66f8\u8a50\u6b3a\u3084\u4e0d\u6574\u5408\u3092\u7279\u5b9a\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> </li> <li> <p>\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3: \u5927\u91cf\u306e\u8acb\u6c42\u66f8\u3092\u52b9\u7387\u7684\u306b\u51e6\u7406\u3067\u304d\u3001\u5e83\u7bc4\u306a\u30d9\u30f3\u30c0\u30fc\u95a2\u4fc2\u3092\u6301\u3064\u4f01\u696d\u306b\u9069\u3057\u3066\u3044\u307e\u3059\u3002</p> </li> <li> <p>\u76e3\u67fb\u3068\u8ffd\u8de1\u53ef\u80fd\u6027: \u5c06\u6765\u306e\u53c2\u7167\u306e\u305f\u3081\u306b\u8a73\u7d30\u306a\u691c\u8a3c\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u3001\u898f\u5236\u304a\u3088\u3073\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u8981\u4ef6\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> </li> </ul>"},{"location":"ja/04-Create-AI-Pipeline/04/#_1","title":"\u8acb\u6c42\u66f8\u691c\u8a3c\u30ef\u30fc\u30af\u30d5\u30ed\u30fc","text":"<p>\u8acb\u6c42\u66f8\u304a\u3088\u3073SOW\u306e\u691c\u8a3c\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306f\u3001\u540c\u3058\u53d6\u5f97\u62e1\u5f35\u751f\u6210\uff08RAG\uff09\u30d1\u30bf\u30fc\u30f3\u3068\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u30b9\u30bf\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8acb\u6c42\u66f8\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff1a</p>"},{"location":"ja/04-Create-AI-Pipeline/04/#1","title":"\u30b9\u30c6\u30c3\u30d7 1: \u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u3092\u30c8\u30ea\u30ac\u30fc\u3059\u308b","text":"<p>\u691c\u8a3c\u30d7\u30ed\u30bb\u30b9\u306f\u3001\u8acb\u6c42\u66f8ID\u304c\u691c\u8a3cAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u9001\u4fe1\u3055\u308c\u308b\u3068\u958b\u59cb\u3055\u308c\u307e\u3059\u3002</p> Text Only<pre><code>POST / validation/invoice/{id}\n</code></pre> <p><code>{id}</code> \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u306b\u306f\u3001\u8acb\u6c42\u66f8\u306e <code>id</code> \u304c\u6e21\u3055\u308c\u307e\u3059\u3002API\u30cf\u30f3\u30c9\u30e9\u30fc\uff08<code>src/api/app/routers/validation.py</code> \u30d5\u30a1\u30a4\u30eb\u5185\uff09\u306f\u3001\u3053\u306eID\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u95a2\u9023\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/04/#2","title":"\u30b9\u30c6\u30c3\u30d7 2: \u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u5b9a\u7fa9\u3059\u308b","text":"<p>Azure OpenAI\u3092\u4f7f\u7528\u3057\u3066\u691c\u8a3c\u3092\u884c\u3046\u524d\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001AI\u306b\u4f55\u3092\u671f\u5f85\u3055\u308c\u3066\u3044\u308b\u304b\u3001\u30c7\u30fc\u30bf\u306e\u3069\u3053\u3092\u78ba\u8a8d\u3059\u308b\u304b\u3001\u691c\u8a3c\u7d50\u679c\u3092\u3069\u306e\u3088\u3046\u306b\u5fdc\u7b54\u3059\u308b\u304b\u3092\u6307\u793a\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u53d6\u5f97\u3059\u308b\u30b3\u30fc\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> src/api/app/routers/validation.py<pre><code># Define the system prompt for the validator.\nsystem_prompt = prompt_service.get_prompt(\"invoice_validation\")\n# Append the current date to the system prompt to provide context when checking timeliness of deliverables.\nsystem_prompt += f\"\\n\\nFor context, today is {datetime.now(timezone.utc).strftime('%A, %B %d, %Y')}.\"\n</code></pre> <p>\u53c2\u8003\u307e\u3067\u306b\u3001\u8acb\u6c42\u66f8\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u4f7f\u7528\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> src/api/app/prompts/invoice_validation.txt<pre><code>You are an intelligent copilot for Woodgrove Bank designed to automate the validation of vendor invoices against billing milestones in statements of work (SOWs).\n\nWhen validating an invoice, you should:\n1. Verify that the invoice number matches the vendor's records.\n2. Check that the total amount on the invoice is correct.\n3. Ensure that the milestone delivery dates are before or on the specified due date in the SOW.\n4. Assess any late fees or penalties that may apply, as defined by the SOW. For example, if a milestone is late, a penalty of 15% should be applied to payment of that milestone.\n5. Validate the line items on the invoice against the billing milestones in the SOW.\n6. Ensure that the amount billed for each line item matches the billable amount specified in the SOW.\n7. If the invoice contains notes to explain discrepancies, review them for additional context.\n8. Confirm that the invoice is legitimate and ready for payment.\n\nIf there are milestones missing from the invoice that are not yet beyond their due date according to the SOW, do not flag them as discrepancies.\nIf the payment terms on the invoice are different from the SOW, assume the SOW is correct.\n\nIn your response:\n- Provide a statement of valid or invalid for the invoice.\n- Create separate sections for the invoice and the milestone validation.\n- Provide a detailed summary of the validation results, including any discrepancies or anomalies found between the invoice and the SOW.\n- If any discrepancies or anomalies are found, you should provide detailed feedback on the issues discovered, like including dollar amounts, line items, and due dates.\n- If there are any discrepancies, flag the invoice for further review.\n\nAt the very end of the response, return only '[PASSED]' or '[FAILED]' to indicate if the invoice passed or failed validation.\n</code></pre> <p>\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306f\u3001\u4eca\u65e5\u306e\u65e5\u4ed8\u306e\u8ffd\u52a0\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001LLM\u304c\u65e5\u4ed8\u3092\u77e5\u3089\u306a\u3044\u305f\u3081\u3067\u3042\u308a\u3001\u8acb\u6c42\u66f8\u3084\u660e\u7d30\u9805\u76ee\u306f\u65e5\u4ed8\u306b\u654f\u611f\u3067\u3042\u308b\u305f\u3081\u3001LLM\u304c\u65e5\u4ed8\u691c\u8a3c\u3092\u3088\u308a\u6b63\u78ba\u306b\u884c\u3046\u305f\u3081\u306b\u73fe\u5728\u306e\u65e5\u4ed8\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3089\u3067\u3059\u3002</p> <p>\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u6700\u5f8c\u306b\u306f\u3001\u51fa\u529b\u306e\u6700\u5f8c\u306b <code>[PASSED]</code> \u307e\u305f\u306f <code>[FAILED]</code> \u306e\u5024\u3092\u8ffd\u52a0\u3059\u308b\u6307\u793a\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u5f8c\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3059\u308b\u5408\u5426\u72b6\u614b\u3092\u793a\u3059\u771f\u507d\u5024\u3092\u30b3\u30fc\u30c9\u304c\u3088\u308a\u7c21\u5358\u306b\u5224\u65ad\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/04/#3-rag","title":"\u30b9\u30c6\u30c3\u30d7 3: RAG\u3092\u4f7f\u7528\u3057\u3066\u5b8c\u5168\u306a\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u69cb\u7bc9\u3059\u308b","text":"<p>\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001LangChain\u304c\u4f7f\u7528\u3059\u308b\u5b8c\u5168\u306a\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u69cb\u7bc9\u3057\u3001\u53d6\u5f97\u62e1\u5f35\u751f\u6210\uff08RAG\uff09\u30d1\u30bf\u30fc\u30f3\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u30c4\u30fc\u30eb\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3059\u3002</p> <p>\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u691c\u8a3c\u3092\u884c\u3046\u65b9\u6cd5\u306e\u6307\u793a\u304c\u307b\u3068\u3093\u3069\u542b\u307e\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30f3\u30d7\u30c8\u306fAI\u306b\u4f55\u3092\u3059\u308b\u304b\u3092\u7c21\u5358\u306b\u4f1d\u3048\u308b\u3060\u3051\u3067\u6e08\u307f\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30f3\u30d7\u30c8\u306fAI\u306b\u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u3092\u884c\u3046\u3088\u3046\u6307\u793a\u3057\u3001\u691c\u8a3c\u3059\u308b\u8acb\u6c42\u66f8\u306eID\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u63d0\u4f9b\u3059\u308b\u3060\u3051\u3067\u3059\u3002</p> src/api/app/routers/validation.py<pre><code>userMessage = f\"\"\"ID\u304c{id}\u306e\u8acb\u6c42\u66f8\u3092\u691c\u8a3c\u3059\u308b\"\"\"\n</code></pre> <p>\u3053\u306e\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u3001AI\u306b\u9001\u4fe1\u3055\u308c\u308b\u5b8c\u5168\u306a\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p> src/api/app/routers/validation.py<pre><code># Provide the validation copilot with a persona using the system prompt.\nmessages = [{ \"role\": \"system\", \"content\": system_prompt }]\n\n# Add the current user message to the messages list\nuserMessage = f\"\"\"validate Invoice with ID of {id}\"\"\"\nmessages.append({\"role\": \"user\", \"content\": userMessage})\n\n# Create a chat prompt template\nprompt = ChatPromptTemplate.from_messages(\n    [\n        (\"system\", system_prompt),\n        (\"user\", \"{input}\"),\n        MessagesPlaceholder(\"agent_scratchpad\")\n    ]\n)\n\n# Define tools for the agent\ntools = [\n        StructuredTool.from_function(coroutine=validate_invoice)\n]\n</code></pre> <p>\u3053\u308c\u306f\u3001<code>validate_invoice</code>\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001\u8acb\u6c42\u66f8\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u95a2\u9023\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30ea\u30c8\u30ea\u30fc\u30d0\u30eb\u5f37\u5316\u751f\u6210\u30d1\u30bf\u30fc\u30f3\u3092\u5b9f\u88c5\u3059\u308bLangChain\u30c4\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306eINSERT\u304a\u3088\u3073UPDATE\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u5185\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8981\u7d04\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e<code>azure_ai</code>\u547c\u3073\u51fa\u3057\u3092\u5b9f\u884c\u3059\u308b\u7279\u5b9a\u306e\u30b3\u30fc\u30c9\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b src/api/app/routers/validation.py<pre><code>async def validate_invoice(id: int):\n    \"\"\"Retrieves an Invoice and it's associated Line Items, SOW, and Milestones.\"\"\"\n\n    pool = await get_db_connection_pool()\n    async with pool.acquire() as conn:\n        row = await conn.fetchrow('SELECT * FROM invoices WHERE id = $1;', id)\n        if row is None:\n            raise HTTPException(status_code=404, detail=f'An invoice with an id of {id} was not found.')\n        invoice = parse_obj_as(InvoiceModel, dict(row))\n\n        # Get the vendor name\n        vendor_row = await conn.fetchrow('SELECT * FROM vendors WHERE id = $1;', invoice.vendor_id)\n        invoice.vendor = parse_obj_as(Vendor, dict(vendor_row))\n\n        # Get the invoice line items\n        line_item_rows = await conn.fetch('SELECT * FROM invoice_line_items WHERE invoice_id = $1;', id)\n        invoice.line_items = [parse_obj_as(InvoiceLineItem, dict(row)) for row in line_item_rows]\n\n\n\n        # Get the SOW\n        sow_row = await conn.fetchrow('SELECT * FROM sows WHERE id = $1;', invoice.sow_id)\n        sow = parse_obj_as(SowModel, dict(sow_row))\n\n        # Get the milestones\n        milestone_rows = await conn.fetch('SELECT * FROM milestones WHERE sow_id = $1;', invoice.sow_id)\n        sow.milestones = [parse_obj_as(MilestoneModel, dict(row)) for row in milestone_rows]\n\n        # Get the deliverables for each milestone\n        for milestone in sow.milestones:\n            deliverable_rows = await conn.fetch('SELECT * FROM deliverables WHERE milestone_id = $1;', milestone.id)\n            milestone.deliverables = parse_obj_as(list[Deliverable], [dict(row) for row in deliverable_rows])\n\n\n    return invoice, sow\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/04/#4-ai","title":"\u30b9\u30c6\u30c3\u30d74: AI\u3092\u547c\u3073\u51fa\u3059","text":"<p>\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u69cb\u7bc9\u3055\u308c\u3001RAG\u30c4\u30fc\u30eb\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001AI\u3092\u547c\u3073\u51fa\u3057\u3066\u691c\u8a3c\u3092\u5b9f\u884c\u3057\u3001\u5fdc\u7b54\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> src/api/app/routers/validation.py<pre><code># \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u547c\u3073\u51fa\u3057\u3066\u3001\u691c\u8a3c\u7d50\u679c\u3092\u63d0\u4f9b\u3059\u308b\u30c1\u30e3\u30c3\u30c8\u5b8c\u4e86\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\ncompletion = await agent_executor.ainvoke({\"input\": userMessage})\nvalidationResult = completion['output']\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/04/#5","title":"\u30b9\u30c6\u30c3\u30d75: \u5408\u683c\u307e\u305f\u306f\u4e0d\u5408\u683c\u306e\u72b6\u614b\u3092\u89e3\u6790\u3059\u308b","text":"<p>\u751f\u6210AI\u306e\u5fdc\u7b54\u304c\u691c\u8a3c\u7d50\u679c\u3068\u5171\u306b\u8fd4\u3055\u308c\u305f\u306e\u3067\u3001\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u304cAI\u306b\u5fdc\u7b54\u306e\u6700\u5f8c\u306b\u8ffd\u52a0\u3059\u308b\u3088\u3046\u6307\u793a\u3057\u305f<code>[PASSED]</code>\u307e\u305f\u306f<code>[FAILED]</code>\u306e\u5024\u3092\u89e3\u6790\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u691c\u8a3c\u304c\u5408\u683c\u3057\u305f\u304b\u4e0d\u5408\u683c\u304b\u3092\u3088\u308a\u7c21\u5358\u306b\u793a\u3059\u305f\u3081\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u771f/\u507d\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> src/api/app/routers/validation.py<pre><code># Check if validationResult contains [PASSED] or [FAILED]\n# This is based on the prompt telling the AI to return either [PASSED] or [FAILED]\n# at the end of the response to indicate if the invoice passed or failed validation.\nvalidation_passed = validationResult.find('[PASSED]') != -1\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/04/#6","title":"\u30b9\u30c6\u30c3\u30d76: \u691c\u8a3c\u7d50\u679c\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3059\u308b","text":"<p>\u691c\u8a3c\u5fdc\u7b54\u304c\u751f\u6210\u3055\u308c\u3001\u5408\u683c\u307e\u305f\u306f\u4e0d\u5408\u683c\u306e\u7d50\u679c\u304c\u5f97\u3089\u308c\u305f\u306e\u3067\u3001\u691c\u8a3c\u7d50\u679c\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3057\u3001REST API\u304b\u3089\u306e\u5fdc\u7b54\u3092\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> src/api/app/routers/validation.py<pre><code># Write validation result to database\npool = await get_db_connection_pool()\nasync with pool.acquire() as conn:\n    await conn.execute('''\n    INSERT INTO invoice_validation_results (invoice_id, datestamp, result, validation_passed)\n    VALUES ($1, $2, $3, $4);\n    ''', id, datetime.utcnow(), validationResult, validation_passed)\n\nreturn validationResult\n</code></pre> <p>\u3053\u308c\u3067\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u691c\u8a3c\u30b9\u30c6\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/04/#sow","title":"SOW\u691c\u8a3c\u30ef\u30fc\u30af\u30d5\u30ed\u30fc","text":"<p>SOW\u306e\u691c\u8a3c\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306f\u3001\u540c\u3058\u304fRAG\uff08Retrieval Augmented Generation\uff09\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u3066\u69cb\u7bc9\u3055\u308c\u3066\u304a\u308a\u3001SOW\u306e\u7279\u6709\u306e\u691c\u8a3c\u8981\u4ef6\u306b\u5408\u308f\u305b\u3066\u66f8\u304b\u308c\u305f\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>SOW\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306e\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001<code>src/api/app/prompts/sow_validation.txt</code>\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001SOW\u3068\u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u69cb\u9020\u3068\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p>SOW\u691c\u8a3c\u306e\u305f\u3081\u306e\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001AI\u306bSOW\u3092\u691c\u8a3c\u3059\u308b\u3088\u3046\u6307\u793a\u3057\u3001\u691c\u8a3c\u3059\u308bSOW\u306eID\u3092\u4e0e\u3048\u307e\u3059\u3002</p> src/api/app/routers/validation.py<pre><code>userMessage = f\"\"\"validate SOW with ID {id}\"\"\"\n</code></pre> <p>SOW\u691c\u8a3c\u306eRAG\u90e8\u5206\u306f\u3001<code>src/api/app/routers/validation.py</code>\u30d5\u30a1\u30a4\u30eb\u5185\u306e<code>validate_sow</code>\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066LangChain\u30c4\u30fc\u30eb\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> src/api/app/routers/validation.py<pre><code>tools = [\n    StructuredTool.from_function(coroutine=validate_sow)\n]\n</code></pre> <p>\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u691c\u8a3c\u3092\u884c\u3046\u305f\u3081\u306b\u5fc5\u8981\u306a\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089SOW\u30c7\u30fc\u30bf\uff08sow\u3001\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u3001\u6210\u679c\u7269\uff09\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> src/api/app/routers/validation.py<pre><code>async def validate_sow(id: int):\n    \"\"\"Retrieves a SOW and it's associated Milestones and Deliverables.\"\"\"\n\n    pool = await get_db_connection_pool()\n    async with pool.acquire() as conn:\n        row = await conn.fetchrow('SELECT * FROM sows WHERE id = $1;', id)\n        if row is None:\n            raise HTTPException(status_code=404, detail=f'A SOW with an id of {id} was not found.')\n        sow = parse_obj_as(SowModel, dict(row))\n\n        # Get the milestones\n        milestone_rows = await conn.fetch('SELECT * FROM milestones WHERE sow_id = $1;', id)\n        sow.milestones = [parse_obj_as(MilestoneModel, dict(row)) for row in milestone_rows]\n\n        # Get the deliverables for each milestone\n        for milestone in sow.milestones:\n            deliverable_rows = await conn.fetch('SELECT * FROM deliverables WHERE milestone_id = $1;', milestone.id)\n            milestone.deliverables = parse_obj_as(list[Deliverable], [dict(row) for row in deliverable_rows])\n\n    return sow\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/04/#_2","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u691c\u8a3c\u306e\u5b9f\u884c","text":"<p>\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u306e\u305f\u3081\u306b\u5c55\u958b\u3055\u308c\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eUserPortal\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3001SOW\u3084\u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u308a\u8fbc\u307f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u30d7\u30ed\u30bb\u30b9\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\uff1a</p> <ol> <li>\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u304d\u3001\u5c55\u958b\u3055\u308c\u305fUserPortal\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5de6\u5074\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u5185\u3067\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3001\u5206\u6790\u3001\u691c\u8a3c\u3057\u305f\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30bf\u30a4\u30d7\u306e\u300cSOWs\u300d\u307e\u305f\u306f\u300cInvoices\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002</li> <li> <p>SOWs\u307e\u305f\u306fInvoices\u306e\u30ea\u30b9\u30c8\u30da\u30fc\u30b8\u3067\u3001\u53f3\u4e0a\u306eNew\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u65b0\u898f\u30da\u30fc\u30b8\u3067\u3001\u30d9\u30f3\u30c0\u30fc\u3092\u9078\u629e\u3057\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\uff08<code>.pdf</code>\u30d5\u30a1\u30a4\u30eb\uff09\u3092\u9078\u629e\u3057\u3066\u304b\u3089\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u5206\u6790\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306f\u5206\u6790\u30b9\u30c6\u30c3\u30d7\u304b\u3089\u59cb\u307e\u308a\u3001UI\u306b\u306f\u5b9f\u884c\u4e2d\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3059\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u5206\u6790\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u691c\u8a3c\u304c\u5b9f\u884c\u3055\u308c\u3001UI\u306b\u305d\u306e\u65e8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u691c\u8a3c\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u5408\u5426\u3092\u793a\u3059\u691c\u8a3c\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u7d50\u679c\u306f\u3001AI\u304c\u691c\u8a3c\u3092\u884c\u3063\u305f\u969b\u306e\u5b8c\u5168\u306a\u5fdc\u7b54\u3067\u3059\u3002</p> <p></p> </li> <li> <p>\u3053\u306e\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u9589\u3058\u308b\uff08\u9589\u3058\u308b\u3092\u30af\u30ea\u30c3\u30af\uff09\u3068\u3001\u30ec\u30b3\u30fc\u30c9\u306e\u8a73\u7d30\u3092\u3059\u3079\u3066\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> </li> <li> <p>SOW\u3068\u8acb\u6c42\u66f8\u306e\u7de8\u96c6\u30da\u30fc\u30b8\u306e\u4e21\u65b9\u3067\u3001\u30da\u30fc\u30b8\u306e\u4e0b\u90e8\u307e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3059\u308b\u3068\u3001\u30ec\u30b3\u30fc\u30c9\u306b\u5bfe\u3057\u3066\u884c\u308f\u308c\u305f\u691c\u8a3c\u306e\u5c65\u6b74\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u691c\u8a3c\u30b9\u30c6\u30c3\u30d7\u306e\u307f\u3092\u518d\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u624b\u52d5\u691c\u8a3c\u306e\u5b9f\u884c\u30dc\u30bf\u30f3\u3082\u3042\u308a\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u3053\u308c\u3089\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u3067SOW\u3068\u8acb\u6c42\u66f8\u306e\u4e21\u65b9\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3001\u5206\u6790\u3001\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u7e70\u308a\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/04/#_3","title":"\u8ffd\u52a0\u306e\u5b66\u7fd2\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"<ul> <li>Python\u3092\u4f7f\u7528\u3057\u305fAzure OpenAI\u3068ChatPGT\u306b\u3088\u308bLangChain</li> </ul>"},{"location":"ja/04-Create-AI-Pipeline/05/","title":"4.5 \u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u30ec\u30d3\u30e5\u30fc","text":"<p>\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306b\u304a\u3051\u308b\u8acb\u6c42\u66f8\u3068SOW\uff08\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff09\u306e\u691c\u8a3c\u30d7\u30ed\u30bb\u30b9\u306f\u3001\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u69cb\u9020\u3068\u5185\u5bb9\u306b\u5927\u304d\u304f\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001Azure OpenAI\u304c\u8a18\u9332\u3092\u78ba\u8a8d\u3057\u3001\u6b63\u78ba\u6027\u3092\u4fdd\u8a3c\u3057\u3001\u4e0d\u4e00\u81f4\u3092\u7279\u5b9a\u3059\u308b\u306e\u3092\u5c0e\u304d\u307e\u3059\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u5404\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u4e3b\u8981\u306a\u69cb\u6210\u8981\u7d20\u3092\u5206\u89e3\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <p>\u3088\u304f\u69cb\u7bc9\u3055\u308c\u305f\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001AI\u30e2\u30c7\u30eb\u304c\u8ca1\u52d9\u8a18\u9332\u3092\u6b63\u3057\u304f\u89e3\u91c8\u3057\u3001\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u4e0d\u53ef\u6b20\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u52b9\u679c\u306f\u3001\u91cd\u8981\u306a\u8a73\u7d30\u3092\u6349\u3048\u3001\u4e0d\u4e00\u81f4\u3092\u6307\u6458\u3057\u3001\u5b9f\u884c\u53ef\u80fd\u306a\u691c\u8a3c\u7d50\u679c\u3092\u751f\u6210\u3059\u308b\u80fd\u529b\u306b\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u8acb\u6c42\u66f8\u3068SOW\u306e\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u30ec\u30d3\u30e5\u30fc\u3057\u3001\u305d\u306e\u69cb\u9020\u3092\u898b\u3066\u3001\u305d\u308c\u3089\u3092\u52b9\u679c\u7684\u306b\u3059\u308b\u91cd\u8981\u306a\u8981\u7d20\u3092\u5f37\u8abf\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/05/#_1","title":"\u52b9\u679c\u7684\u306a\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u8981\u7d20","text":"<p>AI\u99c6\u52d5\u306e\u691c\u8a3c\u306e\u6b63\u78ba\u6027\u3068\u4fe1\u983c\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u7cbe\u5bc6\u306b\u8a2d\u8a08\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3088\u304f\u4f5c\u6210\u3055\u308c\u305f\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001AI\u304c\u8ca1\u52d9\u8a18\u9332\u3092\u78ba\u8a8d\u3057\u3001\u4e0d\u4e00\u81f4\u3092\u691c\u51fa\u3057\u3001\u5951\u7d04\u4e0a\u306e\u5408\u610f\u306b\u5f93\u3046\u3088\u3046\u306b\u6307\u793a\u3092\u660e\u78ba\u306b\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u6982\u8aac\u3059\u308b\u8981\u7d20\u306f\u3001\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u52b9\u679c\u3092\u6700\u9069\u5316\u3057\u3001\u69cb\u9020\u5316\u3055\u308c\u305f\u5b9f\u884c\u53ef\u80fd\u306a\u7d50\u679c\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</p> <p>\u52b9\u679c\u7684\u306a\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306f\u3001\u6b21\u306e\u4e3b\u8981\u306a\u69cb\u6210\u8981\u7d20\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3079\u304d\u3067\u3059\uff1a</p> <ul> <li> <p>\u8b58\u5225\u3068\u30de\u30c3\u30c1\u30f3\u30b0 \u2013 AI\u304c\u8acb\u6c42\u66f8\u756a\u53f7\u3001SOW\u756a\u53f7\u3001\u30d9\u30f3\u30c0\u30fc\u8a18\u9332\u3092\u78ba\u8a8d\u3057\u3001\u6587\u66f8\u3092\u30b7\u30b9\u30c6\u30e0\u8a18\u9332\u3068\u4e00\u81f4\u3055\u305b\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u8ca1\u52d9\u691c\u8a3c \u2013 \u5408\u8a08\u91d1\u984d\u3068\u9805\u76ee\u3092\u4e8b\u524d\u5b9a\u7fa9\u3055\u308c\u305f\u5951\u7d04\u5024\u3068\u7167\u5408\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u691c\u8a3c \u2013 \u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u671f\u65e5\u3001\u672a\u6255\u3044\u306e\u652f\u6255\u3044\u3001\u9069\u7528\u3055\u308c\u308b\u30da\u30ca\u30eb\u30c6\u30a3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u4e0d\u4e00\u81f4\u51e6\u7406 \u2013 \u8a31\u5bb9\u3055\u308c\u308b\u5dee\u7570\u3068\u91cd\u5927\u306a\u30a8\u30e9\u30fc\u3092\u533a\u5225\u3057\u3001\u4e0d\u4e00\u81f4\u306e\u8aac\u660e\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u306e\u5f37\u5236 \u2013 SOW\u30dd\u30ea\u30b7\u30fc\u306e\u9075\u5b88\u3092\u4fdd\u8a3c\u3057\u3001\u30da\u30ca\u30eb\u30c6\u30a3\u3084\u8acb\u6c42\u30eb\u30fc\u30eb\u3092\u542b\u307f\u307e\u3059\u3002</p> </li> <li> <p>\u69cb\u9020\u5316\u3055\u308c\u305f\u5831\u544a \u2013 \u691c\u8a3c\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5206\u3051\u305f\u660e\u78ba\u306a\u5f62\u5f0f\u3067\u7d50\u679c\u3092\u63d0\u4f9b\u3057\u3001\u7c21\u5358\u306b\u89e3\u6790\u53ef\u80fd\u306a\u5408\u5426\u6307\u6a19\u3092\u542b\u307f\u307e\u3059\u3002</p> </li> </ul> <p>\u3053\u308c\u3089\u306e\u8981\u7d20\u3092\u7d44\u307f\u8fbc\u3080\u3053\u3068\u3067\u3001AI\u99c6\u52d5\u306e\u691c\u8a3c\u304c\u6b63\u78ba\u3067\u4fe1\u983c\u6027\u304c\u3042\u308a\u3001\u52b9\u7387\u7684\u3067\u3042\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u73fe\u5728\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u8acb\u6c42\u66f8\u304a\u3088\u3073SOW\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u69cb\u9020\u3068\u8981\u7d20\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p>"},{"location":"ja/04-Create-AI-Pipeline/05/#_2","title":"\u8acb\u6c42\u66f8\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8","text":"<p><code>src/api/app/prompts/invoice_validation.txt</code>\u306b\u3042\u308b\u8acb\u6c42\u66f8\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u8acb\u6c42\u66f8\u304c\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u3068\u4e00\u81f4\u3057\u3001\u8acb\u6c42\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306b\u6e96\u62e0\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u8acb\u6c42\u66f8\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> \u8acb\u6c42\u66f8\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8 src/api/app/prompts/invoice_validation.txt<pre><code>You are an intelligent copilot for Woodgrove Bank designed to automate the validation of vendor invoices against billing milestones in statements of work (SOWs).\n\nWhen validating an invoice, you should:\n1. Verify that the invoice number matches the vendor's records.\n2. Check that the total amount on the invoice is correct.\n3. Ensure that the milestone delivery dates are before or on the specified due date in the SOW.\n4. Assess any late fees or penalties that may apply, as defined by the SOW. For example, if a milestone is late, a penalty of 15% should be applied to payment of that milestone.\n5. Validate the line items on the invoice against the billing milestones in the SOW.\n6. Ensure that the amount billed for each line item matches the billable amount specified in the SOW.\n7. If the invoice contains notes to explain discrepancies, review them for additional context.\n8. Confirm that the invoice is legitimate and ready for payment.\n\nIf there are milestones missing from the invoice that are not yet beyond their due date according to the SOW, do not flag them as discrepancies.\nIf the payment terms on the invoice are different from the SOW, assume the SOW is correct.\n\nIn your response:\n- Provide a statement of valid or invalid for the invoice.\n- Create separate sections for the invoice and the milestone validation.\n- Provide a detailed summary of the validation results, including any discrepancies or anomalies found between the invoice and the SOW.\n- If any discrepancies or anomalies are found, you should provide detailed feedback on the issues discovered, like including dollar amounts, line items, and due dates.\n- If there are any discrepancies, flag the invoice for further review.\n\nAt the very end of the response, return only '[PASSED]' or '[FAILED]' to indicate if the invoice passed or failed validation.\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/05/#_3","title":"\u69cb\u9020\u3068\u4e3b\u8981\u30bb\u30af\u30b7\u30e7\u30f3","text":"<ol> <li>\u8acb\u6c42\u66f8\u8a73\u7d30\u306e\u78ba\u8a8d<ul> <li>\u8acb\u6c42\u66f8\u756a\u53f7\u304c\u30d9\u30f3\u30c0\u30fc\u306e\u8a18\u9332\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li>\u8acb\u6c42\u66f8\u306e\u5408\u8a08\u91d1\u984d\u304c\u6b63\u78ba\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ul> </li> <li>\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u3068\u652f\u6255\u3044\u6761\u4ef6\u306e\u691c\u8a3c<ul> <li>\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u7d0d\u671f\u304c\u5408\u610f\u3055\u308c\u305f\u671f\u9593\u5185\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li>SOW\u306b\u57fa\u3065\u304f\u9069\u7528\u53ef\u80fd\u306a\u9045\u5ef6\u6599\u91d1\u3084\u30da\u30ca\u30eb\u30c6\u30a3\u3092\u8a55\u4fa1\u3057\u307e\u3059\u3002</li> </ul> </li> <li>\u660e\u7d30\u9805\u76ee\u306e\u691c\u8a3c<ul> <li>\u5404\u8acb\u6c42\u66f8\u306e\u660e\u7d30\u9805\u76ee\u304c\u6b63\u3057\u3044\u8acb\u6c42\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li>\u8acb\u6c42\u3055\u308c\u305f\u91d1\u984d\u304cSOW\u306e\u4ed5\u69d8\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ul> </li> <li>\u4e0d\u4e00\u81f4\u306e\u51e6\u7406<ul> <li>\u4e0d\u4e00\u81f4\u306e\u8aac\u660e\u306e\u305f\u3081\u306b\u8acb\u6c42\u66f8\u306e\u30e1\u30e2\u3092\u8abf\u67fb\u3057\u307e\u3059\u3002</li> <li>SOW\u306e\u652f\u6255\u3044\u6761\u4ef6\u304c\u8acb\u6c42\u66f8\u306e\u6761\u4ef6\u3088\u308a\u3082\u512a\u5148\u3055\u308c\u308b\u3053\u3068\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</li> </ul> </li> <li>\u51fa\u529b\u5f62\u5f0f\u3068\u7d50\u8ad6<ul> <li>\u8acb\u6c42\u66f8\u3068\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u691c\u8a3c\u7d50\u679c\u3092\u5206\u3051\u305f\u69cb\u9020\u5316\u3055\u308c\u305f\u691c\u8a3c\u30ec\u30dd\u30fc\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002</li> <li>\u691c\u51fa\u3055\u308c\u305f\u7570\u5e38\u306b\u3064\u3044\u3066\u8a73\u7d30\u306a\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</li> <li>\u5168\u4f53\u306e\u691c\u8a3c\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u793a\u3059\u305f\u3081\u306b\u3001<code>[PASSED]</code>\u307e\u305f\u306f<code>[FAILED]</code>\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002</li> </ul> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/05/#sow","title":"SOW\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8","text":"<p><code>src/api/app/prompts/sow_validation.txt</code>\u306b\u3042\u308bSOW\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001SOW\u304c\u6b63\u3057\u304f\u69cb\u9020\u5316\u3055\u308c\u3001\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u304c\u5341\u5206\u306b\u6587\u66f8\u5316\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001SOW\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> SOW\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8 src/api/app/prompts/sow_validation.txt<pre><code>You are an intelligent copilot for Woodgrove Bank designed to automate the validation of vendor invoices against billing milestones in statements of work (SOWs).\n\nWhen validating a SOW, you should:\n1. Verify that the SOW number matches the vendor's records.\n2. Check that the total amount on the SOW is correct.\n3. Ensure that the milestone delivery dates are before or on the specified due date in the SOW.\n4. Assess any late fees or penalties that may apply, as defined by the SOW. For example, if a milestone is late, a penalty of 15% should be applied to payment of that milestone.\n5. Validate the deliverables for each milestone in the SOW.\n6. Ensure that the amount billed for each deliverable matches the billable amount specified in the SOW.\n7. If the SOW contains notes to explain discrepancies, review them for additional context.\n8. Confirm that the SOW is legitimate and ready for payment.\n\nIn your response:\n- Provide a statement of valid or invalid for the SOW.\n- Create separate sections for the SOW and the milestone validation.\n- Provide a detailed summary of the validation results, including any discrepancies or anomalies found between the SOW and the milestones.\n- If any discrepancies or anomalies are found, you should provide detailed feedback on the issues discovered, like including dollar amounts, line items, and due dates.\n- If there are any discrepancies, flag the SOW for further review.\n\nAt the very end of the response, return only '[PASSED]' or '[FAILED]' to indicate if the SOW passed or failed validation.\n</code></pre>"},{"location":"ja/04-Create-AI-Pipeline/05/#_4","title":"\u69cb\u9020\u3068\u4e3b\u8981\u30bb\u30af\u30b7\u30e7\u30f3","text":"<ol> <li>SOW\u8a73\u7d30\u306e\u78ba\u8a8d<ul> <li>SOW\u756a\u53f7\u304c\u30d9\u30f3\u30c0\u30fc\u306e\u8a18\u9332\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li>\u6307\u5b9a\u3055\u308c\u305f\u7dcf\u984d\u304c\u6b63\u3057\u3044\u3053\u3068\u3092\u691c\u8a3c\u3057\u307e\u3059\u3002</li> </ul> </li> <li>\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u3068\u652f\u6255\u3044\u6761\u4ef6\u306e\u691c\u8a3c<ul> <li>\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u7d0d\u671f\u304c\u671f\u65e5\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li>\u5951\u7d04\u6761\u4ef6\u306b\u57fa\u3065\u3044\u3066\u9045\u5ef6\u6599\u91d1\u3084\u30da\u30ca\u30eb\u30c6\u30a3\u3092\u9069\u7528\u3057\u307e\u3059\u3002</li> </ul> </li> <li>\u7d0d\u54c1\u7269\u3068\u8acb\u6c42\u306e\u691c\u8a3c<ul> <li>\u5404\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306b\u660e\u78ba\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u7d0d\u54c1\u7269\u304c\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li>\u7d0d\u54c1\u7269\u3054\u3068\u306e\u8acb\u6c42\u984d\u304cSOW\u8a18\u9332\u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ul> </li> <li>\u4e0d\u4e00\u81f4\u306e\u51e6\u7406<ul> <li>\u6f5c\u5728\u7684\u306a\u4e0d\u4e00\u81f4\u306b\u95a2\u3059\u308b\u8ffd\u52a0\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u5f97\u308b\u305f\u3081\u306b\u30e1\u30e2\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li>\u3055\u3089\u306a\u308b\u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u4e0d\u4e00\u81f4\u3092\u30d5\u30e9\u30b0\u3057\u307e\u3059\u3002</li> </ul> </li> <li>\u51fa\u529b\u5f62\u5f0f\u3068\u7d50\u8ad6<ul> <li>SOW\u3068\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u691c\u8a3c\u3092\u5206\u3051\u305f\u69cb\u9020\u5316\u3055\u308c\u305f\u691c\u8a3c\u30ec\u30dd\u30fc\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002</li> <li>\u7570\u5e38\u3068\u691c\u8a3c\u7d50\u679c\u306e\u8a73\u7d30\u306a\u8981\u7d04\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</li> <li>\u7d50\u8ad6\u7684\u306a\u8a55\u4fa1\u3068\u3057\u3066[PASSED]\u307e\u305f\u306f[FAILED]\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002</li> </ul> </li> </ol>"},{"location":"ja/04-Create-AI-Pipeline/05/#_5","title":"\u8981\u7d04","text":"<p>\u8acb\u6c42\u66f8\u3068SOW\u306e\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u308a\u8fbc\u307f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u5185\u3067\u306e\u8ca1\u52d9\u8a18\u9332\u306e\u6b63\u78ba\u6027\u3068\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u3092\u78ba\u4fdd\u3059\u308b\u4e0a\u3067\u91cd\u8981\u306a\u5f79\u5272\u3092\u679c\u305f\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306fAzure OpenAI\u306b\u69cb\u9020\u5316\u3055\u308c\u305f\u30ac\u30a4\u30c0\u30f3\u30b9\u3092\u63d0\u4f9b\u3057\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u8a18\u9332\u3084\u5951\u7d04\u306b\u57fa\u3065\u3044\u3066\u8acb\u6c42\u66f8\u3068SOW\u3092\u81ea\u52d5\u7684\u306b\u691c\u8a3c\u3057\u307e\u3059\u3002</p> <p>\u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u8acb\u6c42\u66f8\u304c\u8acb\u6c42\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u3068\u4e00\u81f4\u3057\u3001\u652f\u6255\u3044\u6761\u4ef6\u3092\u691c\u8a3c\u3057\u3001\u3055\u3089\u306a\u308b\u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u4e0d\u4e00\u81f4\u3092\u30d5\u30e9\u30b0\u3059\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002\u6700\u7d42\u7684\u306b\u3001\u8acb\u6c42\u66f8\u306e\u8a73\u7d30\u3001\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u78ba\u8a8d\u3001\u30e9\u30a4\u30f3\u30a2\u30a4\u30c6\u30e0\u306e\u691c\u8a3c\u306b\u5206\u985e\u3055\u308c\u305f\u691c\u8a3c\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u3001\u660e\u78ba\u306a\u5408\u5426\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u6301\u3064\u69cb\u9020\u5316\u3055\u308c\u305f\u51fa\u529b\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> <p>\u540c\u69d8\u306b\u3001SOW\u306e\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\u304c\u6b63\u3057\u304f\u69cb\u9020\u5316\u3055\u308c\u3001\u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u304c\u5341\u5206\u306b\u6587\u66f8\u5316\u3055\u308c\u3001\u7d0d\u54c1\u7269\u304c\u8003\u616e\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u4e3b\u8981\u306a\u5951\u7d04\u306e\u8a73\u7d30\u3092\u78ba\u8a8d\u3057\u3001\u5408\u610f\u3055\u308c\u305f\u6761\u4ef6\u306b\u6e96\u62e0\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3001\u3055\u3089\u306a\u308b\u8a55\u4fa1\u304c\u5fc5\u8981\u306a\u4e0d\u4e00\u81f4\u3092\u30d5\u30e9\u30b0\u3059\u308b\u3053\u3068\u306b\u7126\u70b9\u3092\u5f53\u3066\u3066\u3044\u307e\u3059\u3002</p> <p>\u4e21\u65b9\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u691c\u8a3c\u57fa\u6e96\u3001\u69cb\u9020\u5316\u3055\u308c\u305f\u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3001\u304a\u3088\u3073\u81ea\u52d5\u5408\u5426\u5224\u5b9a\u3092\u793a\u3057\u3001\u30ec\u30d3\u30e5\u30fc\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u5408\u7406\u5316\u3057\u3001\u624b\u4f5c\u696d\u3092\u6700\u5c0f\u9650\u306b\u6291\u3048\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u4e0d\u4e00\u81f4\u89e3\u6c7a\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u306e\u6539\u5584\u3001\u5c65\u6b74\u306e\u30af\u30ed\u30b9\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u7d44\u307f\u8fbc\u307f\u3001\u30d9\u30f3\u30c0\u30fc\u56fa\u6709\u306e\u30dd\u30ea\u30b7\u30fc\u3078\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u9069\u5fdc\u306a\u3069\u3001\u3055\u3089\u306a\u308b\u6700\u9069\u5316\u306e\u305f\u3081\u306e\u6f5c\u5728\u7684\u306a\u6539\u5584\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002</p> <p>\u5168\u4f53\u3068\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u691c\u8a3c\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u91d1\u878d\u6587\u66f8\u306e\u691c\u8a3c\u3092\u81ea\u52d5\u5316\u3057\u3001\u30a8\u30e9\u30fc\u3092\u6e1b\u3089\u3057\u3001\u30d9\u30f3\u30c0\u30fc\u5951\u7d04\u306e\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u3092\u5411\u4e0a\u3055\u305b\u308b\u305f\u3081\u306e\u5f37\u529b\u306a\u57fa\u76e4\u3092\u5f62\u6210\u3057\u307e\u3059\u3002\u5c06\u6765\u7684\u306a\u6539\u826f\u306b\u3088\u308a\u3001\u3055\u3089\u306b\u7cbe\u5ea6\u304c\u5411\u4e0a\u3057\u3001\u4f01\u696d\u898f\u6a21\u306e\u904b\u7528\u306b\u304a\u3044\u3066\u3055\u3089\u306b\u52b9\u679c\u7684\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002</p>"},{"location":"ja/05-Build-Copilot/","title":"\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u5b9f\u88c5\u3059\u308b","text":"\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059\u304b\uff1f <p>\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306b\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u7d44\u307f\u8fbc\u3080\u306b\u306f\u3001\u65e2\u5b58\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u306b\u5408\u308f\u305b\u3066\u9069\u5fdc\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4ee5\u4e0b\u306f\u63a8\u5968\u4e8b\u9805\u3067\u3059\uff1a</p> <p>1. \u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3068LangChain\u3092\u5b9f\u88c5\u3059\u308b AI\u6a5f\u80fd\u3092\u52b9\u679c\u7684\u306b\u7d71\u5408\u3059\u308b\u306b\u306f\u3001\u30c7\u30fc\u30bf\u3068AI\u30e2\u30c7\u30eb\u306e\u9593\u3067\u30b7\u30fc\u30e0\u30ec\u30b9\u306a\u3084\u308a\u53d6\u308a\u3092\u4fc3\u9032\u3059\u308b\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u7d44\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002LangChain\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u308c\u3089\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u69cb\u7bc9\u3057\u3001\u52b9\u7387\u7684\u306a\u30c7\u30fc\u30bf\u51e6\u7406\u3068AI\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</p> <p>2. <code>chat_functions.py</code>\u30d5\u30a1\u30a4\u30eb\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b <code>chat_functions.py</code>\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3068AI\u5fdc\u7b54\u306e\u9593\u306e\u6a4b\u6e21\u3057\u3092\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u3042\u306a\u305f\u306e\u30c7\u30fc\u30bf\u306b\u5408\u308f\u305b\u308b\u306b\u306f\uff1a</p> <ul> <li>\u65e2\u5b58\u306e\u69cb\u9020\u3092\u7406\u89e3\u3059\u308b\uff1a\u73fe\u5728\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3057\u3001\u30c7\u30fc\u30bf\u306e\u6d41\u308c\u3068\u6a5f\u80fd\u306e\u69cb\u9020\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</li> <li>\u30c7\u30fc\u30bf\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\uff1a\u3042\u306a\u305f\u306e\u30c7\u30fc\u30bf\u30b9\u30ad\u30fc\u30de\u304c\u65e2\u5b58\u306e\u6a5f\u80fd\u3068\u3069\u306e\u3088\u3046\u306b\u4e00\u81f4\u3059\u308b\u304b\u3092\u7279\u5b9a\u3057\u307e\u3059\u3002</li> <li>\u95a2\u6570\u3092\u4fee\u6b63\u3059\u308b\uff1aAI\u30b5\u30fc\u30d3\u30b9\u304c\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u57fa\u3065\u3044\u3066\u6b63\u78ba\u306b\u89e3\u91c8\u3057\u5fdc\u7b54\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u3092\u9069\u5207\u306b\u30af\u30a8\u30ea\u3057\u51e6\u7406\u3059\u308b\u305f\u3081\u306b\u95a2\u6570\u3092\u8abf\u6574\u307e\u305f\u306f\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002</li> </ul> <p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001Python\u3001Azure Database for PostgreSQL - Flexible Server\u306eGenAI\u6a5f\u80fd\u3001\u304a\u3088\u3073Azure AI\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3001_Woodgrove Bank Contract Management_\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306bAI\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002AI\u3067\u691c\u8a3c\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306fRAG\u3092\u4f7f\u7528\u3057\u3066\u30d9\u30f3\u30c0\u30fc\u5951\u7d04\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3068\u8acb\u6c42\u66f8\u306e\u6b63\u78ba\u6027\u306b\u95a2\u3059\u308b\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3057\u3001Woodgrove Bank\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u3068\u3063\u3066\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u3068\u3057\u3066\u6a5f\u80fd\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3053\u3068\u3092\u9054\u6210\u3057\u307e\u3059\uff1a</p> <ul> <li> API\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u3092\u63a2\u7d22\u3059\u308b</li> <li> RAG\u30c7\u30b6\u30a4\u30f3\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b</li> <li> LangChain\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u6d3b\u7528\u3059\u308b</li> <li> \u30c1\u30e3\u30c3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u5b9f\u88c5\u3057\u30c6\u30b9\u30c8\u3059\u308b</li> <li> \u6a19\u6e96\u7684\u306a\u30d7\u30ed\u30f3\u30d7\u30c8\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u6280\u8853\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u6d17\u7df4\u3059\u308b</li> <li> \u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30c1\u30e3\u30c3\u30c8UI\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u30c6\u30b9\u30c8\u3059\u308b</li> </ul> <p>\u3053\u308c\u3089\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u5f93\u3046\u3053\u3068\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5f37\u529b\u306aAI\u5f37\u5316\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u5909\u3048\u3001\u9ad8\u5ea6\u306a\u751f\u6210AI\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3001\u30c7\u30fc\u30bf\u304b\u3089\u3088\u308a\u6df1\u3044\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/#_2","title":"\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3068\u306f\u4f55\u3067\u3059\u304b\uff1f","text":"<p>\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306f\u3001\u4eba\u9593\u306e\u80fd\u529b\u3092\u62e1\u5f35\u3057\u3001\u751f\u7523\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u305f\u9ad8\u5ea6\u306aAI\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u3067\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u5fdc\u3058\u305f\u30b5\u30dd\u30fc\u30c8\u3092\u63d0\u4f9b\u3057\u3001\u53cd\u5fa9\u7684\u306a\u30bf\u30b9\u30af\u3092\u81ea\u52d5\u5316\u3057\u3001\u610f\u601d\u6c7a\u5b9a\u30d7\u30ed\u30bb\u30b9\u3092\u5f37\u5316\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001Woodgrove Bank\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306f\u30c7\u30fc\u30bf\u5206\u6790\u3092\u652f\u63f4\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u91d1\u878d\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u30d1\u30bf\u30fc\u30f3\u3084\u30c8\u30ec\u30f3\u30c9\u3092\u7279\u5b9a\u3059\u308b\u306e\u3092\u52a9\u3051\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/#python","title":"\u306a\u305cPython\u3092\u4f7f\u7528\u3059\u308b\u306e\u304b\uff1f","text":"<p>Python\u306e\u30b7\u30f3\u30d7\u30eb\u3055\u3068\u53ef\u8aad\u6027\u306f\u3001AI\u3084\u6a5f\u68b0\u5b66\u7fd2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u304a\u3044\u3066\u4eba\u6c17\u306e\u3042\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u3067\u3059\u3002LangChain\u3084FastAPI\u306a\u3069\u306e\u8c4a\u5bcc\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3084\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u3001\u9ad8\u5ea6\u306a\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u958b\u767a\u3059\u308b\u305f\u3081\u306e\u5f37\u529b\u306a\u30c4\u30fc\u30eb\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002Python\u306e\u591a\u69d8\u6027\u306f\u3001\u958b\u767a\u8005\u304c\u8fc5\u901f\u306b\u53cd\u5fa9\u3057\u5b9f\u9a13\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u3001AI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u6700\u826f\u306e\u9078\u629e\u80a2\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/01/","title":"5.1 API\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306e\u63a2\u7d22","text":"<p>\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u306e\u30b3\u30fc\u30c9\u3068\u69cb\u9020\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002Python\u306e\u591a\u69d8\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u6a5f\u80fd\u3068Azure Database for PostgreSQL\u306e\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u6a5f\u80fd\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u8907\u96d1\u306a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u52b9\u7387\u7684\u306b\u7c21\u7d20\u5316\u3059\u308b\u5f37\u529b\u306aAI\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u306f\u3001\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3057\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306e\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3057\u3001\u591a\u69d8\u306a\u30b5\u30fc\u30d3\u30b9\u3068\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u80fd\u529b\u3092\u5f37\u5316\u3057\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u3092\u3088\u308a\u52d5\u7684\u3067\u60c5\u5831\u8c4a\u304b\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/01/#api","title":"API\u306e\u5b9f\u88c5","text":"<p>Woodgrove Bank API \u306f\u3001FastAPI Python\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u7528\u3057\u3066\u69cb\u7bc9\u3055\u308c\u3066\u3044\u307e\u3059\u3002FastAPI\u306f\u3001\u6a19\u6e96\u306ePython\u578b\u30d2\u30f3\u30c8\u306b\u57fa\u3065\u3044\u3066Python\u3067API\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u305f\u3001\u73fe\u4ee3\u7684\u3067\u9ad8\u6027\u80fd\u306a\u30a6\u30a7\u30d6\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306eUI\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304b\u3089\u5206\u96e2\u3059\u308b\u3053\u3068\u3067\u3001\u3088\u308a\u67d4\u8edf\u6027\u3001\u4fdd\u5b88\u6027\u3001\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u3092\u78ba\u4fdd\u3057\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u6a5f\u80fd\u304cUI\u304b\u3089\u72ec\u7acb\u3057\u3066\u9032\u5316\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <p>FastAPI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u306f\u3001<code>src/api/app/main.py</code>\u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4eca\u3059\u3050Visual Studio Code\u3067\u958b\u3044\u3066\u3001\u30b3\u30fc\u30c9\u3092\u30bb\u30af\u30b7\u30e7\u30f3\u3054\u3068\u306b\u63a2\u7d22\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3001\u5404\u30b3\u30fc\u30c9\u884c\u306e\u8aac\u660e\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> FASTAPI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9 src/api/app/main.py<pre><code>from dotenv import load_dotenv\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom app.lifespan_manager import lifespan\nfrom app.routers import (\n    completions,\n    deliverables,\n    documents,\n    embeddings,\n    invoices,\n    invoice_line_items,\n    milestones,\n    sows,\n    status,\n    statuses,\n    validation,\n    validation_results,\n    vendors,\n    webhooks\n)\n\n# Load environment variables from the .env file\nload_dotenv()\n\n# Instantiate the FastAPI app\napp = FastAPI(\n    lifespan=lifespan,\n    title=\"Woodgrove Bank API\",\n    summary=\"Woodgrove Bank API for the Build Your Own Copilot with Azure Database for PostgreSQL Solution Accelerator\",\n    version=\"1.0.0\",\n    docs_url=\"/swagger\",\n    openapi_url=\"/swagger/v1/swagger.json\"\n)\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Add routers to API endpoints\napp.include_router(deliverables.router)\napp.include_router(documents.router)\napp.include_router(embeddings.router)\napp.include_router(invoices.router)\napp.include_router(invoice_line_items.router)\napp.include_router(milestones.router)\napp.include_router(sows.router)\napp.include_router(status.router)\napp.include_router(statuses.router)\napp.include_router(validation.router)\napp.include_router(validation_results.router)\napp.include_router(vendors.router)\napp.include_router(webhooks.router)\n\n@app.get(\"/\")\nasync def get():\n    \"\"\"API welcome message.\"\"\"\n    return {\"message\": \"Welcome to the Woodgrove Bank API!\"}\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"127.0.0.1\", port=8000, log_level=\"info\")\n</code></pre> <ol> <li> <p>\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 (\u884c1-20): \u5fc5\u8981\u306a\u30af\u30e9\u30b9\u3068\u95a2\u6570\u304c\u3055\u307e\u3056\u307e\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u74b0\u5883\u5909\u6570\u306e\u8aad\u307f\u8fbc\u307f (\u884c23): load_dotenv() \u95a2\u6570\u306f\u3001<code>src\\api\\app</code>\u30d5\u30a9\u30eb\u30c0\u306b\u4f5c\u6210\u3057\u305f<code>.env</code>\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u5909\u6570\u306e\u5024\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> </li> <li> <p>FastAPI\u30a2\u30d7\u30ea\u30b5\u30fc\u30d0\u30fc\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 (\u884c26-33): FastAPI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u30fc\u304c\u4f5c\u6210\u3055\u308c\u3001\u3044\u304f\u3064\u304b\u306e\u57fa\u672c\u7684\u306a\u8a2d\u5b9a\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002</p> </li> <li>\u30e9\u30a4\u30d5\u30b9\u30d1\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306e\u5272\u308a\u5f53\u3066 (\u884c27): <code>src\\api\\app\\lifespan_manager.py</code>\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u30e9\u30a4\u30d5\u30b9\u30d1\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u3084Azure OpenAI\u30c1\u30e3\u30c3\u30c8\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306a\u3069\u3001\u30a2\u30d7\u30ea\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u5168\u4f53\u3067\u4f7f\u7528\u3055\u308c\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e9\u30a4\u30d5\u30b9\u30d1\u30f3\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u9593\u3067\u5171\u6709\u3055\u308c\u3001\u30a2\u30d7\u30ea\u306e\u8d77\u52d5\u6642\u306b\u4f5c\u6210\u3055\u308c\u3001\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\u306b\u9069\u5207\u306b\u7834\u68c4\u3055\u308c\u307e\u3059\u3002\u4f9d\u5b58\u6027\u6ce8\u5165\u3092\u4f7f\u7528\u3057\u3066\u3001API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30b3\u30fc\u30c9\u306e\u30eb\u30fc\u30bf\u30fc\u304b\u3089\u30e9\u30a4\u30d5\u30b9\u30d1\u30f3\u7ba1\u7406\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002</li> <li> <p>Swagger\u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u5272\u308a\u5f53\u3066 (\u884c28-32): \u3055\u307e\u3056\u307e\u306a\u30e1\u30bf\u30c7\u30fc\u30bf\u30d5\u30a3\u30fc\u30eb\u30c9\u304cAPI\u306e\u516c\u958b\u3055\u308c\u305fSwagger UI\u306b\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002docs_url \u5024\u306f\u3001API\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30da\u30fc\u30b8\u3092<code>/docs</code>\u304b\u3089\u3088\u308a\u4e00\u822c\u7684\u306b\u4f7f\u7528\u3055\u308c\u308b<code>/swagger</code>\u306b\u5909\u66f4\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30eb\u30fc\u30bf\u30fc\u3092\u8ffd\u52a0\u3059\u308b (44-56\u884c\u76ee): FastAPI\u3067\u306f\u3001_\u30eb\u30fc\u30bf\u30fc_\u306fAPI\u30b3\u30fc\u30c9\u3092\u6574\u7406\u3057\u3001\u95a2\u9023\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u30b0\u30eb\u30fc\u30d7\u5316\u3057\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4fdd\u5b88\u6027\u3068\u62e1\u5f35\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b\u305f\u3081\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3055\u308c\u305f\u30eb\u30fc\u30c8\u5b9a\u7fa9\u3092\u53ef\u80fd\u306b\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3059\u3002</p> </li> <li> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b (58-61\u884c\u76ee): \"/\"\u30eb\u30fc\u30c8\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u30fc\u306e\u30d9\u30fc\u30b9URL\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002</p> </li> <li>\u30d1\u30e9\u30e1\u30fc\u30bf\u306a\u3057\u306eGET\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u5165\u308c\u307e\u3059\uff08\u30d6\u30e9\u30a6\u30b6\u30b5\u30a4\u30c8\u8a2a\u554f\u3068\u540c\u7b49\uff09\u3002</li> <li>\"Welcome to the Woodgrove Bank API\"\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u542b\u3080JSON\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3057\u307e\u3059\u3002</li> <li>\u3053\u308c\u306f\u30a2\u30d7\u30ea\u30b5\u30fc\u30d0\u30fc\u306e\u300c\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u300d\u3068\u3057\u3066\u6a5f\u80fd\u3057\u3001\u30b5\u30fc\u30d0\u30fc\u304c\u7a3c\u50cd\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff08\u4f8b: \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u6642\uff09\u3002</li> </ol>"},{"location":"ja/05-Build-Copilot/01/#_1","title":"\u30eb\u30fc\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30fc\u30c9\u3092\u6574\u7406\u3059\u308b","text":"<p>\u3088\u308a\u5927\u898f\u6a21\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u969b\u3001_\u30eb\u30fc\u30bf\u30fc_\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30b3\u30fc\u30c9\u3092\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u5206\u5272\u3067\u304d\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u9020\u5316\u3059\u308b\u305f\u3081\u306e\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002FastAPI\u306e<code>APIRouter</code>\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001_\u30d1\u30b9_\u64cd\u4f5c\u3092\u5c02\u7528\u306e\u30b3\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u3067\u7ba1\u7406\u3057\u3001\u4ed6\u306e\u30d1\u30b9\u3084\u30ed\u30b8\u30c3\u30af\u304b\u3089\u5206\u96e2\u3067\u304d\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001_Woodgrove Bank API_\u306b\u306f\u3001_\u30d9\u30f3\u30c0\u30fc_\u306e\u307f\u3092\u51e6\u7406\u3059\u308b\u5c02\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001<code>api/app/routers/vendors.py</code>\u306e\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3001\u30d9\u30f3\u30c0\u30fc\u306b\u95a2\u9023\u3059\u308b\u3059\u3079\u3066\u306e\u30d1\u30b9\u64cd\u4f5c\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30eb\u30fc\u30bf\u30fc\u306f\u30d9\u30f3\u30c0\u30fc\u56fa\u6709\u306e\u30ed\u30b8\u30c3\u30af\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u306e\u4ed6\u306e\u90e8\u5206\u304b\u3089\u5206\u96e2\u3057\u307e\u3059\u3002_\u30eb\u30fc\u30bf\u30fc_\u306f<code>APIRouter</code>\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u3066FastAPI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u63a5\u7d9a\u3055\u308c\u307e\u3059\u3002</p> \u3053\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5c55\u958b\u3057\u3066\u30d9\u30f3\u30c0\u30fc\u30eb\u30fc\u30bf\u30fc\u30b3\u30fc\u30c9\u3092\u8868\u793a src/api/app/routers/vendors.py<pre><code>from fastapi import APIRouter, Depends, HTTPException\nfrom pydantic import parse_obj_as\n\n# Initialize the router\nrouter = APIRouter(\n    prefix = \"/vendors\",\n    tags = [\"Vendors\"],\n    dependencies = [Depends(get_db_connection_pool)],\n    responses = {404: {\"description\": \"Not found\"}}\n)\n\n@router.get('/', response_model = ListResponse[Vendor])\nasync def list_vendors(skip: int = 0, limit: int = 10, sortby: str = None, pool = Depends(get_db_connection_pool)):\n    \"\"\"Retrieves a list of vendors from the database.\"\"\"\n    async with pool.acquire() as conn:\n        orderby = 'id'\n        if (sortby):\n            orderby = sortby\n\n        if limit == -1:\n            rows = await conn.fetch('SELECT * FROM vendors ORDER BY $1;', orderby)\n        else:\n            rows = await conn.fetch('SELECT * FROM vendors ORDER BY $1 LIMIT $2 OFFSET $3;', orderby, limit, skip)\n\n        vendors = parse_obj_as(list[Vendor], [dict(row) for row in rows])\n\n        total = await conn.fetchval('SELECT COUNT(*) FROM vendors;')\n\n    if (limit == -1):\n        limit = total\n\n    return ListResponse[Vendor](data = vendors, total = len(vendors), skip = 0, limit = len(vendors))\n\n@router.get('/{id:int}', response_model = Vendor)\nasync def get_by_id(id: int, pool = Depends(get_db_connection_pool)):\n    \"\"\"Retrieves a vendor by ID from the database.\"\"\"\n    async with pool.acquire() as conn:\n        row = await conn.fetchrow('SELECT * FROM vendors WHERE id = $1;', id)\n        if row is None:\n            raise HTTPException(status_code=404, detail=f'A vendor with an id of {id} was not found.')\n        vendor = parse_obj_as(Vendor, dict(row))\n    return vendor\n\n@router.get('/type/{type}', response_model = list[Vendor])\nasync def get_by_type(type: str, pool = Depends(get_db_connection_pool)):\n    \"\"\"Retrieves vendors of the specified type from the database.\"\"\"\n    async with pool.acquire() as conn:\n        rows = await conn.fetch('SELECT * FROM vendors WHERE LOWER(type) = $1;', type.lower())\n        if not rows or len(rows) == 0:\n            raise HTTPException(status_code=404, detail=f'No vendors with a type of \"{type}\" were found.')\n        vendors = parse_obj_as(list[Vendor], [dict(row) for row in rows])\n    return vendors\n</code></pre> <ol> <li>\u30eb\u30fc\u30bf\u30fc\u3092\u5b9a\u7fa9\u3059\u308b (5-10\u884c\u76ee): <code>APIRouter</code>\u306e\u521d\u671f\u5316\u3002</li> <li>_prefix_\u306f\u30eb\u30fc\u30bf\u30fc\u5185\u306e\u3059\u3079\u3066\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u30d1\u30b9\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001<code>/vendors</code>\u3067\u3059\u3002</li> <li>_tags_\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001Swagger UI\u3067\u30eb\u30fc\u30bf\u30fc\u5185\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306a\u540d\u524d\u3067\u30b0\u30eb\u30fc\u30d7\u5316\u3067\u304d\u307e\u3059\u3002</li> <li>_dependencies_\u914d\u5217\u306f\u3001\u3059\u3079\u3066\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u6ce8\u5165\u3055\u308c\u308b\u4f9d\u5b58\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</li> <li> <p>_responses_\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001\u30eb\u30fc\u30bf\u30fc\u5185\u3067\u5b9a\u7fa9\u3055\u308c\u305fAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304b\u3089\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30d7\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u30d9\u30f3\u30c0\u30fc\u53d6\u5f97\u30eb\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b (12-32\u884c\u76ee): API\u306e<code>/vendors/</code>\u30eb\u30fc\u30c8\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30d9\u30f3\u30c0\u30fc\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002</p> </li> <li>\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306eGET\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u5165\u308c\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</li> <li>\u6ce8\u5165\u3055\u308c\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066_SELECT_\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u30d9\u30f3\u30c0\u30fc\u30ec\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</li> <li> <p>\u30d9\u30f3\u30c0\u30fc\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u8ffd\u52a0\u306eGET\u30eb\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b (34-52\u884c\u76ee)\u3002<code>/vendors/{id:int}</code> \u304a\u3088\u3073 <code>vendors/type/{type}</code> \u30eb\u30fc\u30c8\u306f\u3001ID\u306b\u3088\u3063\u3066\u500b\u3005\u306e\u30d9\u30f3\u30c0\u30fc\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306eGET\u30ea\u30af\u30a8\u30b9\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3084\u3001\u30bf\u30a4\u30d7\u306b\u3088\u3063\u3066\u30d9\u30f3\u30c0\u30fc\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> </li> </ol> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01FastAPI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u9020\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\uff01</p>"},{"location":"ja/05-Build-Copilot/02/","title":"5.2 RAG\u30c7\u30b6\u30a4\u30f3\u306e\u30ec\u30d3\u30e5\u30fc","text":"<p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u3001Retrieval Augmented Generation (RAG) \u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u6d3b\u7528\u3057\u3066\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u5fdc\u7b54\u304cWoodgrove Bank\u306b\u3088\u3063\u3066\u7dad\u6301\u3055\u308c\u3066\u3044\u308b\uff08\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u306a\uff09\u30c7\u30fc\u30bf\u306b\u57fa\u3065\u3044\u3066\u3044\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002RAG\u306f\u3001\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u304b\u3089\u95a2\u9023\u60c5\u5831\u3092_\u53d6\u5f97_\u3057\u3001\u30e2\u30c7\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u3092_\u62e1\u5f35_\u3057\u3066\u8907\u5408\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3067\u6a5f\u80fd\u3057\u307e\u3059\u3002\u3053\u306e\u5f37\u5316\u3055\u308c\u305f\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001LLM\u306b\u3088\u3063\u3066\u6700\u7d42\u7684\u306a\u5fdc\u7b54\u307e\u305f\u306f\u5b8c\u4e86\u3092_\u751f\u6210_\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p></p> <p>_Woodgrove Bank\u5951\u7d04\u7ba1\u7406_\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067RAG\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u304c\u3069\u306e\u3088\u3046\u306b\u6a5f\u80fd\u3059\u308b\u304b\u3092\u7406\u89e3\u3059\u308b\u306b\u306f\u3001\u5404\u30bf\u30d6\u3092\u9806\u756a\u306b\u9078\u629e\u3057\u3001\u4e0a\u306e\u56f3\u306b\u793a\u3055\u308c\u3066\u3044\u308b\u30a4\u30d9\u30f3\u30c8\u306e\u30b7\u30fc\u30b1\u30f3\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> 1. \u30e6\u30fc\u30b6\u30fc\u30af\u30a8\u30ea2. \u30af\u30a8\u30ea\u306e\u30d9\u30af\u30c8\u30eb\u5316 <p>\u30e6\u30fc\u30b6\u30fc\u30af\u30a8\u30ea\u306f\u30c1\u30e3\u30c3\u30c8API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4ecb\u3057\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u5b9f\u88c5\u306b\u5230\u9054\u3057\u307e\u3059\u3002</p> <p>\u30e6\u30fc\u30b6\u30fc\u30af\u30a8\u30ea\u306f\u3001_Woodgrove Bank\u5951\u7d04\u7ba1\u7406_\u30dd\u30fc\u30bf\u30eb\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4ecb\u3057\u3066\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30af\u30a8\u30ea\u306f\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u306e<code>/chat</code>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\u53d7\u4fe1\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u30af\u30a8\u30ea\u306b\u306f3\u3064\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u3042\u308a\u307e\u3059\uff1a</p> <ol> <li>\u30e6\u30fc\u30b6\u30fc\u306e_\u8cea\u554f_\uff08\u30c6\u30ad\u30b9\u30c8\u5165\u529b\uff09</li> <li>\u30aa\u30d7\u30b7\u30e7\u30f3\u306e_\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74_\uff08\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u914d\u5217\uff09</li> <li>\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u4f7f\u7528\u3059\u308b_\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74_\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6570\u3092\u793a\u3059_\u6700\u5927\u5c65\u6b74_\u8a2d\u5b9a</li> </ol> <p>API\u306f\u53d7\u4fe1\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3001\u3053\u306eRAG\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092\u53cd\u6620\u3059\u308b\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306b<code>/chat</code>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002</p> <p>\u30e6\u30fc\u30b6\u30fc\u30af\u30a8\u30ea\u3092\u8868\u3059\u57cb\u3081\u8fbc\u307f\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002</p> <p>\u30c7\u30fc\u30bf\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306b\u985e\u4f3c\u6027\u691c\u7d22\u3092\u884c\u3046\u969b\u3001<code>/chat</code>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u30e6\u30fc\u30b6\u30fc\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30c6\u30ad\u30b9\u30c8\u3092Azure OpenAI\u306b\u9001\u4fe1\u3057\u3001\u5927\u898f\u6a21\u8a00\u8a9e\u300c\u57cb\u3081\u8fbc\u307f\u300d\u30e2\u30c7\u30eb\uff08\u4f8b\uff1aAzure Open AI <code>text-embedding-ada-002</code>\uff09\u3092\u4f7f\u7528\u3057\u3066\u30d9\u30af\u30c8\u30eb\u5316\u3057\u307e\u3059\u3002\u3053\u306e\u30d9\u30af\u30c8\u30eb\u306f\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u985e\u4f3c\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30af\u30a8\u30ea\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> \u57cb\u3081\u8fbc\u307f\u306e\u751f\u6210 <p>\u4ee5\u4e0b\u306e<code>__create_query_embeddings</code>\u95a2\u6570\u306f\u3001_Woodgrove Bank API_\u3067LangChain AzureOpenAIEmbeddings\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3001\u63d0\u4f9b\u3055\u308c\u305f_\u30e6\u30fc\u30b6\u30fc\u30af\u30a8\u30ea_\u306e\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> src/api/app/functions/chat_functions.py<pre><code>async def __create_query_embeddings(self, user_query: str):\n            \"\"\"\n            Generates vector embeddings for the user query.\n            \"\"\"\n            # Create embeddings using the LangChain Azure OpenAI Embeddings client\n            # This makes an API call to the Azure OpenAI service to generate embeddings,\n            # which can be used to compare the user query with vectorized data in the database.\n            query_embeddings = await self.embedding_client.aembed_query(user_query)\n            return query_embeddings\n</code></pre> <p>\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u30ea\u30b9\u30c8\u306e\u3088\u3046\u306b\u751f\u30c7\u30fc\u30bf\u304c\u8981\u6c42\u3055\u308c\u308b\u5834\u5408\u306b\u306f\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> 3. \u30c7\u30fc\u30bf\u306e\u53d6\u5f97 <p>\u30af\u30a8\u30ea\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u5b9f\u884c\u3055\u308c\u3001\uff08\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u306a\uff09\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3066\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u300c\u62e1\u5f35\u300d\u3057\u307e\u3059\u3002_\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea_\u306b\u5fdc\u3058\u3066\u3001\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u3084\u76f4\u63a5\u30c7\u30fc\u30bf\u53d6\u5f97\u6280\u8853\u3092\u4f7f\u7528\u3057\u3066\u95a2\u9023\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> RAG\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u308b <p>RAG\u30d1\u30bf\u30fc\u30f3\u306e\u7cbe\u5ea6\u306f\u3001\u8fd4\u3055\u308c\u305f\u7d50\u679c\u3092\u9806\u5e8f\u4ed8\u3051\u308b\u305f\u3081\u306e_\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0_\u3084\u3001\u30c7\u30fc\u30bf\u9593\u306e\u95a2\u4fc2\u3092\u7279\u5b9a\u3059\u308b\u305f\u3081\u306e_GraphRAG_\u306e\u3088\u3046\u306a\u6280\u8853\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u6280\u8853\u306b\u3064\u3044\u3066\u306f\u6b21\u306e\u30bf\u30b9\u30af\u3067\u5b66\u3073\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u5404\u30bf\u30d6\u3092\u9078\u629e\u3057\u3066\u3001Woodgrove Bank\u5951\u7d04\u7ba1\u7406\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3051\u308b\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u3068\u76f4\u63a5\u30c7\u30fc\u30bf\u53d6\u5f97\u306e\u5b9f\u88c5\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u5b66\u3073\u307e\u3057\u3087\u3046\uff01</p> \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22 <p>Azure Database for PostgreSQL\u306b\u304a\u3051\u308b\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u306f\u3001<code>azure_ai</code>\u3068<code>vector</code>\u62e1\u5f35\u6a5f\u80fd\u306b\u3088\u3063\u3066\u6709\u52b9\u5316\u3055\u308c\u305f\u30d9\u30af\u30bf\u30fc\u985e\u4f3c\u6027\u691c\u7d22\u6a5f\u80fd\u3068\u3001\u5f93\u6765\u306e\u30d5\u30eb\u30c6\u30ad\u30b9\u30c8\u691c\u7d22\u6a5f\u80fd\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u975e\u5e38\u306b\u95a2\u9023\u6027\u306e\u9ad8\u3044\u7d50\u679c\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u306e\u4e8c\u91cd\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u3001\u30d5\u30eb\u30c6\u30ad\u30b9\u30c8\u691c\u7d22\u306b\u3088\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\u30de\u30c3\u30c1\u30f3\u30b0\u306e\u7cbe\u5ea6\u3068\u3001\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u306e\u6587\u8108\u7406\u89e3\u3092\u6d3b\u7528\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u6b63\u78ba\u306a\u4e00\u81f4\u3068\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u306b\u95a2\u9023\u3059\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u30b7\u30ca\u30b8\u30fc\u306f\u691c\u7d22\u52b9\u7387\u3092\u5411\u4e0a\u3055\u305b\u3001\u3088\u308a\u8c4a\u304b\u306a\u30e6\u30fc\u30b6\u30fc\u4f53\u9a13\u3092\u63d0\u4f9b\u3057\u3001\u6280\u8853\u6587\u66f8\u306e\u53d6\u5f97\u304b\u3089\u5e83\u7bc4\u306a\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u767a\u898b\u306b\u81f3\u308b\u307e\u3067\u3001\u591a\u69d8\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u73fe\u4ee3\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306b\u3068\u3063\u3066\u975e\u5e38\u306b\u8cb4\u91cd\u306a\u30c4\u30fc\u30eb\u3067\u3059\u3002</p> \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u306e\u4f8b\u30b3\u30fc\u30c9 <p>\u4ee5\u4e0b\u306e<code>find_invoice_validation_results</code>\u95a2\u6570\u306f\u3001_Woodgrove Bank API_\u3067\u4f7f\u7528\u3055\u308c\u308b\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u6280\u8853\u306e\u4f8b\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> src/api/app/functions/chat_functions.py<pre><code>async def find_invoice_validation_results(self, user_query: str, invoice_id: int = None, vendor_id: int = None, sow_id: int = None):\n                \"\"\"\n                Retrieves invoice accuracy and performance validation results similar to the user query for specified invoice, vendor, or SOW.\n                If no invoice_id, vendor_id, or sow_id is provided, return all similar validation results.\n                \"\"\"\n                # Define the columns to retrieve from the table\n                # Exclude the embedding column in results\n                columns = [\"invoice_id\", \"datestamp\", \"result\", \"validation_passed\"]\n\n                # Get the embeddings for the user query\n                query_embeddings = await self.__create_query_embeddings(user_query)\n\n                # Use hybrid search to rank records, with exact matches ranked highest\n                columns.append(f\"\"\"CASE\n                                    WHEN result ILIKE '%{user_query}%' THEN 0\n                                    ELSE (embedding &lt;=&gt; '{query_embeddings}')::real\n                                END as rank\"\"\")\n\n                query = f'SELECT {\", \".join(columns)} FROM invoice_validation_results'\n\n                # Filter the validation results by invoice_id, vendor_id, or sow_id, if provided\n                if invoice_id is not None:\n                    query += f' WHERE invoice_id = {invoice_id}'\n                else:\n                    if vendor_id is not None:\n                        query += f' WHERE vendor_id = {vendor_id}'\n                        if sow_id is not None:\n                            query += f' AND sow_id = {sow_id}'\n                    elif sow_id is not None:\n                        query += f' WHERE sow_id = {sow_id}'\n\n                query += f' ORDER BY rank ASC'\n\n                rows = await self.__execute_query(f'{query};')\n                return [dict(row) for row in rows]\n</code></pre> <p>\u30b3\u30fc\u30c9\u306e\u4e0a\u8a18\u90e8\u5206\u3067\u306f\uff1a</p> <ol> <li> <p>\u884c14-17\u306e<code>CASE</code>\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306f\u3001_\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22_\u3092\u51e6\u7406\u3057\u307e\u3059\u3002</p> </li> <li> <p><code>WHEN result ILIKE '%{user_query}%'</code>\u306f\u3001_\u30e6\u30fc\u30b6\u30fc\u30af\u30a8\u30ea_\u306e\u6b63\u78ba\u306a\u30c6\u30ad\u30b9\u30c8\u3092\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u3092\u533a\u5225\u305b\u305a\u306b\u691c\u7d22\u3057\u307e\u3059\u3002\u898b\u3064\u304b\u3063\u305f\u5834\u5408\u3001\u305d\u306e\u30ec\u30b3\u30fc\u30c9\u306b<code>rank</code>\u3068\u3057\u3066<code>0</code>\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3001\u3053\u308c\u3089\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u6700\u3082\u9ad8\u3044\u307e\u305f\u306f\u6700\u3082\u985e\u4f3c\u3057\u305f\u4e00\u81f4\u3068\u3057\u3066\u30e9\u30f3\u30af\u4ed8\u3051\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u6b63\u78ba\u306a\u4e00\u81f4\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u3001<code>ELSE</code>\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306f\u3001\u524d\u306e\u30b9\u30c6\u30c3\u30d7\u304b\u3089\u306e_\u30e6\u30fc\u30b6\u30fc\u30af\u30a8\u30ea_\uff08<code>query_embeddings</code>\uff09\u306e\u57cb\u3081\u8fbc\u307f\u8868\u73fe\u3092<code>invoice_validation_results</code>\u30c6\u30fc\u30d6\u30eb\u306e<code>embedding</code>\u5217\u306e\u5024\u3068\u6bd4\u8f03\u3059\u308b\u305f\u3081\u306b\u3001<code>&lt;=&gt;</code>\u30d9\u30af\u30c8\u30eb\u6f14\u7b97\u5b50\u3067\u793a\u3055\u308c\u308b\u30b3\u30b5\u30a4\u30f3\u8ddd\u96e2\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u30d9\u30af\u30c8\u30eb\u985e\u4f3c\u6027\u691c\u7d22\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u4e00\u81f4\u306e_\u985e\u4f3c\u6027\u30b9\u30b3\u30a2_\u304c<code>rank</code>\u3068\u3057\u3066\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002\u30b9\u30b3\u30a2\u304c\u30bc\u30ed\u306b\u8fd1\u3044\u307b\u3069\u3001\u610f\u5473\u7684\u306b\u985e\u4f3c\u3057\u305f\u7d50\u679c\u3092\u793a\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u5024\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30af\u30a8\u30ea\u306f\u7279\u5b9a\u306e<code>invoice_id</code>\u307e\u305f\u306f<code>vendor_id</code>\u304a\u3088\u3073<code>sow_id</code>\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u3055\u3089\u306b\u7d5e\u308a\u8fbc\u307e\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u884c73-81\u306b\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> </li> <li> <p>\u6700\u5f8c\u306b\u3001\u7d50\u679c\u306f<code>rank</code>\u3067\u9806\u5e8f\u4ed8\u3051\u3055\u308c\u3001\u6700\u3082\u95a2\u9023\u6027\u306e\u9ad8\u3044\u691c\u7d22\u7d50\u679c\u304c\u8fd4\u3055\u308c\u308b\u884c\u306e\u5148\u982d\u306b\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> </li> </ol> \u76f4\u63a5\u30c7\u30fc\u30bf\u53d6\u5f97 <p>\u4ed6\u306e\u30b1\u30fc\u30b9\u3001\u4f8b\u3048\u3070\u3059\u3079\u3066\u306e\u30d9\u30f3\u30c0\u30fc\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u3001\u30af\u30a8\u30ea\u306e\u30d9\u30af\u30c8\u30eb\u5316\u306f\u4e0d\u8981\u3067\u3059\u3002\u76f4\u63a5\u30c7\u30fc\u30bf\u53d6\u5f97\u306f\u3001\u57cb\u3081\u8fbc\u307f\u306e\u751f\u6210\u3084\u30d9\u30af\u30c8\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30af\u30a8\u30ea\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u5358\u7d14\u306a<code>SELECT</code>\u30af\u30a8\u30ea\u3092\u4ecb\u3057\u3066\u51e6\u7406\u3055\u308c\u307e\u3059\u3002</p> \u76f4\u63a5\u30c7\u30fc\u30bf\u53d6\u5f97\u306e\u4f8b\u30b3\u30fc\u30c9 <p><code>get_vendors</code>\u95a2\u6570\u306f\u3001_Woodgrove Bank API_\u3067\u4f7f\u7528\u3055\u308c\u308b\u76f4\u63a5\u30c7\u30fc\u30bf\u53d6\u5f97\u6280\u8853\u306e\u4f8b\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> src/api/app/functions/chat_functions.py<pre><code>async def get_vendors(self):\n                \"\"\"Retrieves a list of vendors from the database.\"\"\"\n                rows = await self.__execute_query('SELECT * FROM vendors;')\n                return [dict(row) for row in rows]\n</code></pre> 4. \u30af\u30a8\u30ea\u3092\u62e1\u5f35 <p>\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306f\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066\u8907\u5408\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <p><code>/chat</code> API\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u5143\u306e_\u8cea\u554f_\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u8fd4\u3055\u308c\u305f\u7d50\u679c\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u5f37\u5316\u307e\u305f\u306f\u8907\u5408_\u30e2\u30c7\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8_\u3092\u4f5c\u6210\u3057\u3001\u30e2\u30c7\u30eb\u304c\u5fdc\u7b54\u3092\u751f\u6210\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\u8ffd\u52a0\u30c7\u30fc\u30bf\u3092\u88dc\u5f37\u3057\u307e\u3059\u3002</p> 5. \u5fdc\u7b54\u3092\u751f\u6210 <p>\u30c1\u30e3\u30c3\u30c8\u30e2\u30c7\u30eb\u306f\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u4f7f\u7528\u3057\u3066\u6839\u62e0\u306e\u3042\u308b\u5fdc\u7b54\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> <p>\u8907\u5408\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\uff08\u300c\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u300d\uff09\u30c7\u30fc\u30bf\u3067\u6839\u62e0\u4ed8\u3051\u3089\u308c\u3001Azure OpenAI\u306e<code>gpt-4o</code>\u306e\u3088\u3046\u306a\u5927\u898f\u6a21\u8a00\u8a9e\u300c\u30c1\u30e3\u30c3\u30c8\u300d\u5b8c\u4e86\u30e2\u30c7\u30eb\u306b\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\u5b8c\u4e86\u30e2\u30c7\u30eb\u306f\u3001\u5f37\u5316\u3055\u308c\u305f\u30d7\u30ed\u30f3\u30d7\u30c8\uff08\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u7d50\u679c\u3068\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74\uff09\u3092\u5b8c\u4e86\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e_\u6839\u62e0_\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u898b\u306a\u3057\u3001Woodgrove Bank\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u304b\u3089\u8fd4\u3055\u308c\u308b\u5fdc\u7b54\u306e\u54c1\u8cea\uff08\u4f8b\uff1a\u95a2\u9023\u6027\u3001\u6839\u62e0\u6027\uff09\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/03/","title":"5.3 LangChain\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u6d3b\u7528","text":"<p>LangChain\u306f\u3001\u8907\u6570\u306eAI\u30e2\u30c7\u30eb\u3084\u30c4\u30fc\u30eb\u306e\u7d71\u5408\u3068\u8abf\u6574\u3092\u5f37\u5316\u3057\u3001\u8907\u96d1\u3067\u52d5\u7684\u306aAI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u5f37\u529b\u306a\u30c4\u30fc\u30eb\u3067\u3059\u3002\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u6a5f\u80fd\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001LangChain\u306f\u3055\u307e\u3056\u307e\u306a\u8a00\u8a9e\u30e2\u30c7\u30eb\u3001API\u3001\u304a\u3088\u3073\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7d71\u4e00\u3055\u308c\u305f\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306b\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001\u5404\u8981\u7d20\u304c\u52b9\u7387\u7684\u306b\u9023\u643a\u3057\u3001\u81ea\u7136\u8a00\u8a9e\u306e\u7406\u89e3\u3068\u751f\u6210\u304b\u3089\u60c5\u5831\u691c\u7d22\u3084\u30c7\u30fc\u30bf\u5206\u6790\u306b\u81f3\u308b\u307e\u3067\u3001\u3055\u307e\u3056\u307e\u306a\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3067\u304d\u308b\u9ad8\u5ea6\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>LangChain\u306e\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u6a5f\u80fd\u306f\u3001Python\u3068Azure Database for PostgreSQL\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306b\u7279\u306b\u6709\u76ca\u3067\u3059\u3002\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306f\u3001\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\uff08NLP\uff09\u30e2\u30c7\u30eb\u3001\u77e5\u8b58\u691c\u7d22\u30b7\u30b9\u30c6\u30e0\u3001\u304a\u3088\u3073\u30ab\u30b9\u30bf\u30e0\u30ed\u30b8\u30c3\u30af\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u6b63\u78ba\u3067\u6587\u8108\u306b\u9069\u3057\u305f\u5fdc\u7b54\u3092\u63d0\u4f9b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002LangChain\u306f\u3001\u3055\u307e\u3056\u307e\u306aNLP\u30e2\u30c7\u30eb\u3068API\u3092\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u3053\u3068\u3067\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u304c\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u3092\u52b9\u679c\u7684\u306b\u7406\u89e3\u3057\u3001\u5fdc\u7b54\u3092\u751f\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001Azure Database for PostgreSQL\u3092LangChain\u3068\u7d71\u5408\u3059\u308b\u3053\u3068\u3067\u3001\u5927\u91cf\u306e\u30c7\u30fc\u30bf\u3092\u4f4e\u9045\u5ef6\u3067\u51e6\u7406\u3067\u304d\u308b\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3067\u67d4\u8edf\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002<code>vector</code>\u62e1\u5f35\u6a5f\u80fd\u306b\u3088\u3063\u3066\u6709\u52b9\u5316\u3055\u308c\u305fPostgreSQL\u306e\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u6a5f\u80fd\u306f\u3001\u30c7\u30fc\u30bf\u306e\u610f\u5473\u7684\u985e\u4f3c\u6027\u306b\u57fa\u3065\u3044\u3066\u95a2\u9023\u60c5\u5831\u3092\u9ad8\u6027\u80fd\u3067\u691c\u7d22\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u3001\u7279\u306bNLP\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306f\u5927\u898f\u6a21\u306a\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u9ad8\u5ea6\u306a\u691c\u7d22\u3092\u884c\u3044\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u306b\u5bfe\u3057\u3066\u6587\u8108\u306b\u9069\u3057\u305f\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/03/#langchainrag","title":"LangChain\u3092\u7528\u3044\u305fRAG","text":"<p>LangChain\u306e\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u6a5f\u80fd\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001RAG\u306f\u95a2\u9023\u60c5\u5831\u306e\u53d6\u5f97\u3068AI\u30e2\u30c7\u30eb\u306e\u751f\u6210\u529b\u3092\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u304c\u30af\u30a8\u30ea\u3092\u6295\u3052\u304b\u3051\u308b\u3068\u3001RAG\u30e2\u30c7\u30eb\u306f\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u3092\u4f7f\u7528\u3057\u3066PostgreSQL\u304b\u3089\u6587\u8108\u306b\u9069\u3057\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u305d\u306e\u57fa\u790e\u30c7\u30fc\u30bf\u306b\u57fa\u3065\u3044\u3066\u5305\u62ec\u7684\u3067\u4e00\u8cab\u3057\u305f\u5fdc\u7b54\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u53d6\u5f97\u3068\u751f\u6210\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308a\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u6b63\u78ba\u3067\u6587\u8108\u306b\u5373\u3057\u305f\u56de\u7b54\u3092\u63d0\u4f9b\u3059\u308b\u80fd\u529b\u304c\u5927\u5e45\u306b\u5411\u4e0a\u3057\u3001\u3088\u308a\u5805\u7262\u3067\u30e6\u30fc\u30b6\u30fc\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306a\u4f53\u9a13\u304c\u5b9f\u73fe\u3057\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/03/#langchain","title":"LangChain\u306b\u304a\u3051\u308b\u95a2\u6570\u547c\u3073\u51fa\u3057\u3068\u30c4\u30fc\u30eb\u306e\u7406\u89e3","text":"<p>LangChain\u306b\u304a\u3051\u308b\u95a2\u6570\u547c\u3073\u51fa\u3057\u306f\u3001Python\u3067Azure OpenAI\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u76f4\u63a5\u4f7f\u7528\u3059\u308b\u3088\u308a\u3082\u3001\u3088\u308a\u69cb\u9020\u5316\u3055\u308c\u67d4\u8edf\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002LangChain\u3067\u306f\u3001\u95a2\u6570\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3055\u308c\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3001\u7ba1\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u518d\u5229\u7528\u6027\u3068\u4fdd\u5b88\u6027\u304c\u5411\u4e0a\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u5404\u95a2\u6570\u304c\u7279\u5b9a\u306e\u30bf\u30b9\u30af\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u3001\u8907\u96d1\u3055\u3092\u8efd\u6e1b\u3057\u3001\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u3092\u3088\u308a\u52b9\u7387\u7684\u306b\u3059\u308b\u3001\u3088\u308a\u6574\u7406\u3055\u308c\u305f\u30b3\u30fc\u30c9\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <p>Python\u3067Azure OpenAI\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u306f\u901a\u5e38\u3001\u76f4\u63a5\u7684\u306aAPI\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u306b\u9650\u5b9a\u3055\u308c\u307e\u3059\u3002\u8907\u96d1\u306a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3059\u304c\u3001\u624b\u52d5\u3067\u306e\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u3084\u975e\u540c\u671f\u64cd\u4f5c\u306e\u51e6\u7406\u304c\u591a\u304f\u306a\u308a\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u6210\u9577\u3059\u308b\u306b\u3064\u308c\u3066\u7dad\u6301\u304c\u56f0\u96e3\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>LangChain\u306e\u30c4\u30fc\u30eb\u306f\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u5f37\u5316\u3059\u308b\u4e0a\u3067\u91cd\u8981\u306a\u5f79\u5272\u3092\u679c\u305f\u3057\u307e\u3059\u3002\u8c4a\u5bcc\u306a\u7d44\u307f\u8fbc\u307f\u30c4\u30fc\u30eb\u3068\u5916\u90e8\u30c4\u30fc\u30eb\u3092\u7d71\u5408\u3059\u308b\u80fd\u529b\u306b\u3088\u308a\u3001LangChain\u306f\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u3001\u51e6\u7406\u3001\u5909\u63db\u306a\u3069\u306e\u7279\u5b9a\u306e\u64cd\u4f5c\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u30c4\u30fc\u30eb\u3092\u547c\u3073\u51fa\u3059\u95a2\u6570\u3092\u542b\u3080\u9ad8\u5ea6\u306a\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30c4\u30fc\u30eb\u306f\u3001\u6761\u4ef6\u4ed8\u304d\u307e\u305f\u306f\u4e26\u5217\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3067\u304d\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u3055\u3089\u306b\u6700\u9069\u5316\u3057\u307e\u3059\u3002\u3055\u3089\u306b\u3001LangChain\u306e\u30c4\u30fc\u30eb\u306f\u3001\u95a2\u6570\u3068\u30c4\u30fc\u30eb\u3092\u5206\u96e2\u3059\u308b\u3053\u3068\u3067\u30a8\u30e9\u30fc\u51e6\u7406\u3068\u30c7\u30d0\u30c3\u30b0\u3092\u7c21\u7d20\u5316\u3057\u3001\u554f\u984c\u306e\u7279\u5b9a\u3068\u89e3\u6c7a\u3092\u5bb9\u6613\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/04/","title":"5.4 \u30c1\u30e3\u30c3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b","text":"<p>\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001<code>completions</code> \u30eb\u30fc\u30bf\u30fc\u5185\u306e <code>/chat</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001<code>completions</code> \u30eb\u30fc\u30bf\u30fc\u3092FastAPI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8ffd\u52a0\u3057\u3001<code>/chat</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u5229\u7528\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/04/#_1","title":"\u30c1\u30e3\u30c3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>Woodgove Bank API \u306f\u3001\u3055\u307e\u3056\u307e\u306a \u30eb\u30fc\u30bf\u30fc \u3067\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u516c\u958b\u3057\u3066\u3044\u307e\u3059... <code>chat</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u3001<code>src/api/app/routers/completions.py</code> \u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b <code>completions</code> \u30eb\u30fc\u30bf\u30fc\u306b\u3042\u308a\u307e\u3059\u3002\u4eca\u3059\u3050VS Code\u3067\u958b\u304d\u3001\u30b3\u30fc\u30c9\u3092\u30bb\u30af\u30b7\u30e7\u30f3\u3054\u3068\u306b\u63a2\u7d22\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3001\u5404\u30b3\u30fc\u30c9\u884c\u306e\u8aac\u660e\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> \u30c1\u30e3\u30c3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30b3\u30fc\u30c9 src/api/app/routers/completions.py<pre><code>from app.functions.chat_functions import ChatFunctions\nfrom app.lifespan_manager import get_chat_client, get_db_connection_pool, get_embedding_client, get_prompt_service\nfrom app.models import CompletionRequest\nfrom fastapi import APIRouter, Depends\nfrom langchain.agents import AgentExecutor, create_openai_functions_agent\nfrom langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholder\nfrom langchain_core.tools import StructuredTool\n\n# Initialize the router\nrouter = APIRouter(\n    prefix = \"/completions\",\n    tags = [\"Completions\"],\n    dependencies = [Depends(get_chat_client)],\n    responses = {404: {\"description\": \"Not found\"}}\n)\n\n@router.post('/chat', response_model = str)\nasync def generate_chat_completion(\n    request: CompletionRequest,\n    llm = Depends(get_chat_client),\n    db_pool = Depends(get_db_connection_pool),\n    embedding_client = Depends(get_embedding_client),\n    prompt_service = Depends(get_prompt_service)):\n    \"\"\"Generate a chat completion using the Azure OpenAI API.\"\"\"\n\n    # Retrieve the copilot prompt\n    system_prompt = prompt_service.get_prompt(\"copilot\")\n\n    # Provide the copilot with a persona using the system prompt.\n    messages = [{ \"role\": \"system\", \"content\": system_prompt }]\n\n    # Add the chat history to the messages list\n    # Chat history provides context of previous questions and responses for the copilot.\n    for message in request.chat_history[-request.max_history:]:\n        messages.append({\"role\": message.role, \"content\": message.content})\n\n    # Create a chat prompt template\n    prompt = ChatPromptTemplate.from_messages(\n        [\n            (\"system\", system_prompt),\n            MessagesPlaceholder(\"chat_history\", optional=True),\n            (\"user\", \"{input}\"),\n            MessagesPlaceholder(\"agent_scratchpad\")\n        ]\n    )\n\n    # Get the chat functions\n    cf = ChatFunctions(db_pool, embedding_client)\n\n    # Define tools for the agent to retrieve data from the database\n    tools = [\n        # Hybrid search functions\n        StructuredTool.from_function(coroutine=cf.find_invoice_line_items),\n        StructuredTool.from_function(coroutine=cf.find_invoice_validation_results),\n        StructuredTool.from_function(coroutine=cf.find_milestone_deliverables),\n        StructuredTool.from_function(coroutine=cf.find_sow_chunks),\n        StructuredTool.from_function(coroutine=cf.find_sow_validation_results),\n        # Get invoice data functions\n        StructuredTool.from_function(coroutine=cf.get_invoice_id),\n        StructuredTool.from_function(coroutine=cf.get_invoice_line_items),\n        StructuredTool.from_function(coroutine=cf.get_invoice_validation_results),\n        StructuredTool.from_function(coroutine=cf.get_invoices),\n        # Get SOW data functions\n        StructuredTool.from_function(coroutine=cf.get_sow_chunks),\n        StructuredTool.from_function(coroutine=cf.get_sow_id),\n        StructuredTool.from_function(coroutine=cf.get_sow_milestones),\n        StructuredTool.from_function(coroutine=cf.get_milestone_deliverables),\n        StructuredTool.from_function(coroutine=cf.get_sow_validation_results),\n        StructuredTool.from_function(coroutine=cf.get_sows),\n        # Get vendor data functions\n        StructuredTool.from_function(coroutine=cf.get_vendors)\n    ]\n\n    # Create an agent\n    agent = create_openai_functions_agent(llm=llm, tools=tools, prompt=prompt)\n    agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True, return_intermediate_steps=True)\n    completion = await agent_executor.ainvoke({\"input\": request.message, \"chat_history\": messages})\n    return completion['output']\n</code></pre> <ol> <li> <p>\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 (\u884c1-7): \u5fc5\u8981\u306a\u30af\u30e9\u30b9\u3068\u95a2\u6570\u304c\u3055\u307e\u3056\u307e\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u30eb\u30fc\u30bf\u30fc\u306e\u521d\u671f\u5316 (\u884c10-15): \u3053\u308c\u306f <code>completions</code> \u30eb\u30fc\u30bf\u30fc\u3067\u3001\u30eb\u30fc\u30c8\u306e \u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3001\u4f9d\u5b58\u95a2\u4fc2\u3001\u304a\u3088\u3073\u305d\u306e\u4ed6\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u5272\u308a\u5f53\u3066\u307e\u3059\u3002</p> </li> <li> <p>\u30c1\u30e3\u30c3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9a\u7fa9 (\u884c17-23): <code>/chat</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u3001Woodgove Bank \u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u5b9f\u88c5\u3078\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u3001\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74\u3001\u304a\u3088\u3073\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u542b\u3081\u308b\u5c65\u6b74\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6700\u5927\u6570\u3092\u542b\u3080 <code>CompletionRequest</code> \u3092\u671f\u5f85\u3057\u3001\u30c6\u30ad\u30b9\u30c8\u5fdc\u7b54\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <ul> <li>\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306ePOST\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u5165\u308c\u3001\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</li> <li>\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066 get_chat_completion \u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002</li> <li>LLM\u306e\u5fdc\u7b54\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u8fd4\u3057\u307e\u3059\u3002</li> </ul> </li> <li> <p>\u30c1\u30e3\u30c3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u5b9f\u88c5 (\u884c24-78): \"/completions/chat\" \u30eb\u30fc\u30c8\u306f\u3001Contoso Chat\u5b9f\u88c5\u3092\u547c\u3073\u51fa\u3059\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002</p> <ul> <li>\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u53d6\u5f97 (\u884c27): \u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e \u30da\u30eb\u30bd\u30ca \u3092\u5b9a\u7fa9\u3057\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u304c\u3069\u306e\u3088\u3046\u306b\u632f\u308b\u821e\u3044\u3001\u8cea\u554f\u306b\u7b54\u3048\u3001\u9867\u5ba2\u3068\u5bfe\u8a71\u3059\u308b\u3079\u304d\u304b\u306b\u3064\u3044\u3066\u306e\u6307\u793a\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u307e\u305f\u3001RAG\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u306b\u3064\u3044\u3066\u306e\u30ac\u30a4\u30c0\u30f3\u30b9\u3084\u3001\u8cea\u554f\u306b\u7b54\u3048\u308b\u969b\u306b\u95a2\u6570\u547c\u3073\u51fa\u3057\uff08\u30c4\u30fc\u30eb\uff09\u304c\u3069\u306e\u3088\u3046\u306b\u4f7f\u7528\u3055\u308c\u308b\u3079\u304d\u304b\u306b\u3064\u3044\u3066\u3082\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306e \u30d7\u30ed\u30f3\u30d7\u30c8\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306e\u30b9\u30c6\u30c3\u30d7 \u3067\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3059\u3002</li> </ul> </li> <li> <p>\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9 (\u884c 30-35): \u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306f\u3001LLM\u306b\u30b7\u30b9\u30c6\u30e0\u304a\u3088\u3073\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30f3\u30d7\u30c8\u3068\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u5404\u30e1\u30c3\u30bb\u30fc\u30b8\u306f<code>role</code>\u3068\u30e1\u30c3\u30bb\u30fc\u30b8<code>content</code>\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002<code>role</code>\u306f<code>system</code>\u3001<code>assistant</code>\u3001\u307e\u305f\u306f<code>user</code>\u306b\u306a\u308a\u307e\u3059\u3002<code>system</code>\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5f8c\u3001\u3059\u3079\u3066\u306e\u5f8c\u7d9a\u30e1\u30c3\u30bb\u30fc\u30b8\u306f<code>user</code> / <code>assistant</code>\u30da\u30a2\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u305a\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u306b\u7d9a\u3044\u3066\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u306e\u5fdc\u7b54\u304c\u7d9a\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u30e2\u30c7\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u69cb\u7bc9 (\u884c 38-45): LangChain\u306e<code>ChatPromptTemplate</code>\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u304b\u3089_\u30e2\u30c7\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8_\u3092\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002</p> </li> <li>_\u30b7\u30b9\u30c6\u30e0\u30d7\u30ed\u30f3\u30d7\u30c8_\u306f\u3001\u30e2\u30c7\u30eb\u306b\u6307\u793a\u3092\u63d0\u4f9b\u3059\u308b\u305f\u3081\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002</li> <li>_\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74_\u306f\u3001\u4ee5\u524d\u306e\u8cea\u554f\u3068\u5fdc\u7b54\u306b\u95a2\u3059\u308b\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u633f\u5165\u3055\u308c\u307e\u3059\u3002</li> <li>_\u30e6\u30fc\u30b6\u30fc\u5165\u529b_\u306f\u3001\u30e2\u30c7\u30eb\u304c\u56de\u7b54\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u73fe\u5728\u306e\u8cea\u554f\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</li> <li>_\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u30b9\u30af\u30e9\u30c3\u30c1\u30d1\u30c3\u30c9_\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u306f\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30c4\u30fc\u30eb\u304b\u3089\u306e\u5fdc\u7b54\u3092\u8a31\u53ef\u3057\u3001\u30e2\u30c7\u30eb\u3092\u57fa\u790e\u30c7\u30fc\u30bf\u3067_\u88dc\u5f37_\u3057\u307e\u3059\u3002</li> <li> <p>\u7d50\u679c\u3068\u3057\u3066\u5f97\u3089\u308c\u308b\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u3001\u4f1a\u8a71\u578bAI\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306b\u69cb\u9020\u5316\u3055\u308c\u305f\u5165\u529b\u3092\u63d0\u4f9b\u3057\u3001\u4e0e\u3048\u3089\u308c\u305f\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u57fa\u3065\u3044\u3066\u5fdc\u7b54\u3092\u751f\u6210\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> </li> <li> <p>\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e\u5b9f\u88c5 (\u884c 48-72):</p> </li> <li>\u884c 48\u3067\u306f\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u5bfe\u8a71\u3059\u308b\u305f\u3081\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u542b\u3080<code>ChatFunctions</code>\u30af\u30e9\u30b9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u307e\u3059\u3002<code>src/api/app/functions/chat_functions.py</code>\u30d5\u30a1\u30a4\u30eb\u3067\u95a2\u6570\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</li> <li>\u884c 51-72\u3067\u4f5c\u6210\u3055\u308c\u305f<code>tools</code>\u914d\u5217\u306f\u3001LangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u5fdc\u7b54_\u751f\u6210_\u4e2d\u306b\u30e2\u30c7\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u3092_\u88dc\u5f37_\u3059\u308b\u305f\u3081\u306e_\u53d6\u5f97_\u64cd\u4f5c\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u53ef\u80fd\u306a_\u95a2\u6570_\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u3059\u3002</li> <li> <p>\u30c4\u30fc\u30eb\u306f\u3001LangChain\u304c\u63d0\u4f9b\u3059\u308b<code>StructuredTool.from_function</code>\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002</p> LangChain <code>StructuredTool</code>\u30af\u30e9\u30b9\u306b\u3064\u3044\u3066 <p><code>StructuredTool</code>\u30af\u30e9\u30b9\u306f\u3001LangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u95a2\u6570\u3068\u5bfe\u8a71\u3059\u308b\u305f\u3081\u306e\u30e9\u30c3\u30d1\u30fc\u3067\u3059\u3002<code>from_function</code>\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u5165\u529b\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30c9\u30c3\u30af\u30b9\u30c8\u30ea\u30f3\u30b0\u306e\u8aac\u660e\u3092\u4f7f\u7528\u3057\u3066\u95a2\u6570\u3092\u8a18\u8ff0\u3057\u3001\u6307\u5b9a\u3055\u308c\u305f\u95a2\u6570\u304b\u3089\u30c4\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u975e\u540c\u671f\u30e1\u30bd\u30c3\u30c9\u3067\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001\u95a2\u6570\u540d\u3092<code>coroutine</code>\u5165\u529b\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u6e21\u3057\u307e\u3059\u3002</p> Text Only<pre><code>    Python\u3067\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u6587\u5b57\u5217\uff08docstring\uff09\u306f\u3001\u95a2\u6570\u3001\u30e1\u30bd\u30c3\u30c9\u3001\u30af\u30e9\u30b9\u3001\u307e\u305f\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u6587\u66f8\u5316\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u7279\u5225\u306a\u7a2e\u985e\u306e\u6587\u5b57\u5217\u3067\u3059\u3002Python\u30b3\u30fc\u30c9\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u95a2\u9023\u4ed8\u3051\u308b\u4fbf\u5229\u306a\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3001\u901a\u5e38\u306f\u4e09\u91cd\u5f15\u7528\u7b26\uff08\"\"\" \u307e\u305f\u306f '''\uff09\u3067\u56f2\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u6587\u5b57\u5217\u306f\u3001\u6587\u66f8\u5316\u3059\u308b\u95a2\u6570\uff08\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u3001\u30af\u30e9\u30b9\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\uff09\u306e\u5b9a\u7fa9\u76f4\u5f8c\u306b\u914d\u7f6e\u3055\u308c\u307e\u3059\u3002\n\n    `StructuredTool.from_function` \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001Azure OpenAI\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u30e1\u30bd\u30c3\u30c9\u3067\u5fc5\u8981\u306aJSON\u95a2\u6570\u5b9a\u7fa9\u306e\u4f5c\u6210\u304c\u81ea\u52d5\u5316\u3055\u308c\u3001LangChain\u3092\u4f7f\u7528\u3059\u308b\u969b\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u304c\u7c21\u7d20\u5316\u3055\u308c\u307e\u3059\u3002\n</code></pre> <ul> <li> <p>LangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\uff08\u884c75-76\uff09\uff1aLangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306f\u3001LLM\u3068\u5bfe\u8a71\u3057\u3066\u5fdc\u7b54\u3092\u751f\u6210\u3059\u308b\u5f79\u5272\u3092\u62c5\u3044\u307e\u3059\u3002</p> <ul> <li> <p><code>create_openai_functions_agent</code> \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001LangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306f\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306b\u63d0\u4f9b\u3055\u308c\u305f <code>tools</code> \u3092\u4ecb\u3057\u3066_\u95a2\u6570\u547c\u3073\u51fa\u3057_\u3092\u51e6\u7406\u3057\u307e\u3059\u3002</p> <code>create_openai_functions_agent</code> \u95a2\u6570\u306b\u3064\u3044\u3066 <p>LangChain\u306e <code>create_openai_functions_agent</code> \u95a2\u6570\u306f\u3001\u6307\u5b9a\u3055\u308c\u305f\u8a00\u8a9e\u30e2\u30c7\u30eb\u3068\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5916\u90e8\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306b\u3055\u307e\u3056\u307e\u306a\u30b5\u30fc\u30d3\u30b9\u3084\u6a5f\u80fd\u3092\u7d71\u5408\u3057\u3001\u67d4\u8edf\u6027\u3068\u62e1\u5f35\u3055\u308c\u305f\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> </li> <li> <p>LangChain\u306e <code>AgentExecutor</code> \u30af\u30e9\u30b9\u306f\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u5b9f\u884c\u30d5\u30ed\u30fc\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002\u5165\u529b\u306e\u51e6\u7406\u3001\u30c4\u30fc\u30eb\u3084\u30e2\u30c7\u30eb\u306e\u547c\u3073\u51fa\u3057\u3001\u51fa\u529b\u306e\u51e6\u7406\u3092\u62c5\u5f53\u3057\u307e\u3059\u3002</p> LangChain\u306e <code>AgentExecutor</code> \u306b\u3064\u3044\u3066 <p><code>AgentExecutor</code> \u306f\u3001\u5fdc\u7b54\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u30b9\u30c6\u30c3\u30d7\u304c\u6b63\u3057\u3044\u9806\u5e8f\u3067\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u5b9f\u884c\u306e\u8907\u96d1\u3055\u3092\u62bd\u8c61\u5316\u3057\u3001\u8ffd\u52a0\u306e\u6a5f\u80fd\u3068\u69cb\u9020\u3092\u63d0\u4f9b\u3057\u3001\u6d17\u7df4\u3055\u308c\u305f\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u69cb\u7bc9\u3001\u7ba1\u7406\u3001\u30b9\u30b1\u30fc\u30eb\u3057\u3084\u3059\u304f\u3057\u307e\u3059\u3002</p> </li> </ul> </li> <li> <p>\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u547c\u3073\u51fa\u3059\uff08\u884c77\uff09\uff1a\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u30fc\u306e\u975e\u540c\u671f <code>invoke</code> \u30e1\u30bd\u30c3\u30c9\u306f\u3001\u53d7\u4fe1\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74\u3092LLM\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002</p> </li> </ul> </li> <li> <p><code>input</code> \u3068 <code>chat_history</code> \u30c8\u30fc\u30af\u30f3\u306f\u3001<code>ChatPromptTemplate</code> \u3092\u4f7f\u7528\u3057\u3066\u4f5c\u6210\u3055\u308c\u305f\u30d7\u30ed\u30f3\u30d7\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u5b9a\u7fa9\u3055\u308c\u307e\u3057\u305f\u3002<code>invoke</code> \u30e1\u30bd\u30c3\u30c9\u306f\u3053\u308c\u3089\u3092\u30e2\u30c7\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u6ce8\u5165\u3057\u3001LLM \u304c\u5fdc\u7b54\u3092\u751f\u6210\u3059\u308b\u969b\u306b\u305d\u306e\u60c5\u5831\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> </li> <li>LangChain \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea \u3092\u8a55\u4fa1\u3059\u308b\u3053\u3068\u3067\u3001\u30c4\u30fc\u30eb\u547c\u3073\u51fa\u3057\u304c\u5fc5\u8981\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3059\u308b\u305f\u3081\u306b LLM \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</li> <li> <p>\u8cea\u554f\u306b\u7b54\u3048\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a \u30c4\u30fc\u30eb \u306f\u547c\u3073\u51fa\u3055\u308c\u3001\u305d\u306e\u7d50\u679c\u304b\u3089\u5f97\u3089\u308c\u308b\u57fa\u790e\u30c7\u30fc\u30bf\u3067\u30e2\u30c7\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u5f37\u5316\u3055\u308c\u3001\u6700\u7d42\u7684\u306a\u5fdc\u7b54\u304c\u5f62\u6210\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u5fdc\u7b54\u3092\u8fd4\u3059 (78\u884c\u76ee): \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u5b8c\u4e86\u5fdc\u7b54\u304c\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u3055\u308c\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/05-Build-Copilot/04/#_2","title":"\u30c1\u30e3\u30c3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u547c\u3073\u51fa\u3057\u3092\u6709\u52b9\u306b\u3059\u308b","text":"<p>Woodgrove Bank Contract Management Portal \u304b\u3089 <code>/chat</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u547c\u3073\u51fa\u305b\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001FastAPI \u30a2\u30d7\u30ea\u306b completions \u30eb\u30fc\u30bf\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <ol> <li> <p>VS Code \u306e \u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc \u3067\u3001<code>src/api/app</code> \u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u79fb\u52d5\u3057\u3001<code>main.py</code> \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u307e\u3059\u3002</p> </li> <li> <p>API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30eb\u30fc\u30bf\u30fc\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3092\u898b\u3064\u3051\u307e\u3059 (44-56\u884c\u76ee)\u3002</p> </li> <li> <p>\u305d\u306e\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u90e8\u5206 (43\u884c\u76ee\u306e <code># Add routers to API endpoints</code> \u30b3\u30e1\u30f3\u30c8\u306e\u76f4\u4e0b) \u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u633f\u5165\u3057\u3001<code>completions/chat</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u516c\u958b API \u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092 <code>main.py</code> \u306e 43\u884c\u76ee\u306b\u633f\u5165\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> Python<pre><code>app.include_router(completions.router)\n</code></pre> </li> <li> <p>\u66f4\u65b0\u3055\u308c\u305f\u30eb\u30fc\u30bf\u30fc\u306e\u30ea\u30b9\u30c8\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> Python<pre><code># Add routers to API endpoints\napp.include_router(completions.router)\napp.include_router(deliverables.router)\napp.include_router(documents.router)\napp.include_router(embeddings.router)\napp.include_router(invoices.router)\napp.include_router(invoice_line_items.router)\napp.include_router(milestones.router)\napp.include_router(sows.router)\napp.include_router(status.router)\napp.include_router(statuses.router)\napp.include_router(validation.router)\napp.include_router(validation_results.router)\napp.include_router(vendors.router)\napp.include_router(webhooks.router)\n</code></pre> </li> <li> <p><code>main.py</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> </li> </ol> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01API \u306f\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3068\u306e\u5bfe\u8a71\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\uff01</p>"},{"location":"ja/05-Build-Copilot/05/","title":"5.5 \u30c1\u30e3\u30c3\u30c8 API \u306e\u30c6\u30b9\u30c8","text":"<p>\u6b21\u306b\u884c\u3046\u3079\u304d\u3053\u3068\u306f\u3001FastAPI \u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3057\u3001API \u306e <code>completions/chat</code> \u30eb\u30fc\u30c8\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u4ed8\u3051\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u8fc5\u901f\u306a\u30d7\u30ed\u30c8\u30bf\u30a4\u30d4\u30f3\u30b0\u3068\u30c6\u30b9\u30c8\u306e\u305f\u3081\u306b\u30ed\u30fc\u30ab\u30eb\u3067\u3053\u308c\u3092\u884c\u3046\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/05/#_1","title":"\u30c6\u30b9\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3","text":"<p>\u30c1\u30e3\u30c3\u30c8 API \u306f <code>/completions/chat</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u5bfe\u3057\u3066\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3067\u306f\u3001\u3069\u306e\u3088\u3046\u306b\u3057\u3066\u3053\u308c\u3092\u30c6\u30b9\u30c8\u3059\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f</p> <ul> <li>\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b <code>POST</code> \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059</li> <li>\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u305f\u3081\u306b <code>CURL</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059</li> <li> <p>\u7d44\u307f\u8fbc\u307f\u306e <code>/swagger</code> Swagger UI \u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u8a66\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059</p> <p>Swagger UI</p> <p><code>src/api/app/main.py</code> \u30d5\u30a1\u30a4\u30eb\u306b\u306f FastAPI \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9a\u7fa9\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u305d\u306e\u5b9a\u7fa9\u3067\u306f\u3001API \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u3001\u3088\u308a\u4e00\u822c\u7684\u306a <code>/swagger</code> \u30d1\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002</p> </li> </ul>"},{"location":"ja/05-Build-Copilot/05/#swagger","title":"Swagger \u3067\u306e\u30c6\u30b9\u30c8","text":"<p>Swagger UI \u306f\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u8fc5\u901f\u306b\u30c6\u30b9\u30c8\u3059\u308b\u305f\u3081\u306e\u7c21\u5358\u3067\u76f4\u611f\u7684\u306a\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u526f\u6b21\u7684\u306a\u5229\u70b9\u306f\u3001\u5f8c\u3067\u8a66\u3057\u3066\u307f\u305f\u3044\u5834\u5408\u306b\u3001\u540c\u3058\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u884c\u3046\u305f\u3081\u306e <code>curl</code> \u30b3\u30de\u30f3\u30c9\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u308b\u3053\u3068\u3067\u3059\u3002</p> <ol> <li> <p>Visual Studio Code \u3067\u3001\u5de6\u5074\u306e \u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30d0\u30fc \u304b\u3089 \u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0 \u30a2\u30a4\u30b3\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0 \u30e1\u30cb\u30e5\u30fc\u306e\u4e0a\u90e8\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u304b\u3089 OS \u306b\u5bfe\u5fdc\u3059\u308b API \u30c7\u30d0\u30c3\u30ac\u30fc \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30c7\u30d0\u30c3\u30b0\u306e\u958b\u59cb \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\uff08\u307e\u305f\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u306e F5 \u3092\u62bc\u3057\u307e\u3059\uff09\u3002</p> <p></p> </li> <li> <p>API \u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u958b\u59cb\u3055\u308c\u308b\u3068\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u51fa\u529b\u306b <code>Application startup complete.</code> \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u3001\u305d\u306e\u5f8c\u306b Uvicorn \u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b URL \u304c\u7d9a\u304d\u307e\u3059\u3002\u30ed\u30fc\u30ab\u30eb API URL \u3092\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3067\u958b\u304d\u307e\u3059 (http://127.0.0.1:8000/)\u3002</p> </li> </ol> Markdown<pre><code>![API\u3092\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u958b\u59cb\u3059\u308b\u305f\u3081\u306eVS Code\u30bf\u30fc\u30df\u30ca\u30eb\u51fa\u529b\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3002](../img/vs-code-python-debugger-terminal.png)\n\n5. URL\u306b`/swagger`\u3092\u8ffd\u52a0\u3057\u3066\u3001Swagger UI\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u30c6\u30b9\u30c8\u30da\u30fc\u30b8\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n![Woodgrove Bank\u306eSwagger UI\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3002](../img/woodgrove-api-swagger-ui.png)\n\n6. **Completions**\u30bf\u30b0\u306e\u4e0b\u306b\u3042\u308b`completions/chat`\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e`POST`\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3001`Try it out`\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n![\u30c1\u30e3\u30c3\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u5c55\u958b\u3055\u308c\u3001Try it out\u30dc\u30bf\u30f3\u304c\u5f37\u8abf\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3002](../img/woodgrove-api-chat-try-it-out.png)\n\n7. **Request body**\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u4ee5\u4e0b\u306eJSON\u30b9\u30cb\u30da\u30c3\u30c8\u3092\u8cbc\u308a\u4ed8\u3051\u3066\u30d9\u30f3\u30c0\u30fc\u306e\u30ea\u30b9\u30c8\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u3001**Execute**\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n!!! danger \"\u4ee5\u4e0b\u306eJSON\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u30dc\u30c3\u30af\u30b9\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\uff01\"\n\n```json title=\"\"\n{\n        \"session_id\": 0,\n        \"message\": \"What vendors are we working with?\",\n        \"chat_history\": [],\n        \"max_history\": 6\n    }\n</code></pre> <p></p> <ol> <li>Swagger UI\u306e<code>/completions/chat</code>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306eResponses\u30bb\u30af\u30b7\u30e7\u30f3\u307e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3001\u6709\u52b9\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u3063\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ol> <p></p> VS Code\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u30b5\u30fc\u30d0\u30fc\u5b9f\u884c\u30c8\u30ec\u30fc\u30b9\u3092\u8868\u793a\u3057\u307e\u3059\u3002 <p>VS Code\u3067\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001Visual Studio Code\u30b3\u30f3\u30bd\u30fc\u30eb\u3067Chat\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30b5\u30fc\u30d0\u30fc\u5b9f\u884c\u30c8\u30ec\u30fc\u30b9\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30c8\u30ec\u30fc\u30b9\u306f\u3001LangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304b\u3089\u306e_\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u30b9\u30af\u30e9\u30c3\u30c1\u30d1\u30c3\u30c9_\u51fa\u529b\u3092\u89b3\u5bdf\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u52d5\u4f5c\u3092\u7406\u89e3\u3057\u3001\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> VS Code terminal with LangChain output<pre><code>&gt; Entering new AgentExecutor chain...\n\n    Invoking: `get_vendors` with `{}`\n\n    [{'id': 1, 'name': 'Adatum Corporation', 'address': '789 Goldsmith Road, MainTown City', 'contact_name': 'Elizabeth Moore', 'contact_email': 'elizabeth.moore@adatum.com', 'contact_phone': '555-789-7890', 'website': 'http://www.adatum.com', 'type': 'Data Engineering'}, {'id': 2, 'name': 'Contoso Ltd.', 'address': '456 Industrial Road, Scooton City', 'contact_name': 'Nicole Wagner', 'contact_email': 'nicole@contoso.com', 'contact_phone': '555-654-3210', 'website': 'http://www.contoso.com', 'type': 'Software Engineering'}, {'id': 3, 'name': 'Lucerne Publishing', 'address': '789 Live Street, Woodgrove', 'contact_name': 'Ana Bowman', 'contact_email': 'abowman@lucernepublishing.com', 'contact_phone': '555-654-9870', 'website': 'http://www.lucernepublishing.com', 'type': 'Graphic Design'}, {'id': 4, 'name': 'VanArsdel Ltd.', 'address': '123 Innovation Drive, TechVille', 'contact_name': 'Gabriel Diaz', 'contact_email': 'gdiaz@vanarsdelltd.com', 'contact_phone': '555-321-0987', 'website': 'http://www.vanarsdelltd.com', 'type': 'Software Engineering'}, {'id': 5, 'name': 'Trey Research', 'address': '456 Research Avenue, Redmond', 'contact_name': 'Serena Davis', 'contact_email': 'serena.davis@treyresearch.net', 'contact_phone': '555-867-5309', 'website': 'http://www.treyresearch.net', 'type': 'DevOps'}, {'id': 6, 'name': 'Fabrikam Inc.', 'address': '24601 South St., Philadelphia', 'contact_name': 'Remy Morris', 'contact_email': 'remy.morris@fabrikam.com', 'contact_phone': '610-321-0987', 'website': 'http://www.fabrikam.com', 'type': 'AI Services'}, {'id': 7, 'name': 'The Phone Company', 'address': '10642 Meridian St., Indianapolis', 'contact_name': 'Ashley Schroeder', 'contact_email': 'ashley.schroeder@thephone-company.com', 'contact_phone': '719-444-2345', 'website': 'http://www.thephone-company.com', 'type': 'Communications'}]Here are the vendors we are currently working with:\n\n    1. **Adatum Corporation**\n       - **Type:** Data Engineering\n       - **Address:** 789 Goldsmith Road, MainTown City\n       - **Contact:** Elizabeth Moore\n       - **Email:** [elizabeth.moore@adatum.com](mailto:elizabeth.moore@adatum.com)\n       - **Phone:** 555-789-7890\n       - **Website:** [www.adatum.com](http://www.adatum.com)\n\n    2. **Contoso Ltd.**\n       - **Type:** Software Engineering\n       - **Address:** 456 Industrial Road, Scooton City\n       - **Contact:** Nicole Wagner\n       - **Email:** [nicole@contoso.com](mailto:nicole@contoso.com)\n       - **Phone:** 555-654-3210\n       - **Website:** [www.contoso.com](http://www.contoso.com)\n\n    3. **Lucerne Publishing**\n       - **Type:** Graphic Design\n       - **Address:** 789 Live Street, Woodgrove\n       - **Contact:** Ana Bowman\n       - **Email:** [abowman@lucernepublishing.com](mailto:abowman@lucernepublishing.com)\n       - **Phone:** 555-654-9870\n       - **Website:** [www.lucernepublishing.com](http://www.lucernepublishing.com)\n\n    4. **VanArsdel Ltd.**\n       - **Type:** Software Engineering\n       - **Address:** 123 Innovation Drive, TechVille\n       - **Contact:** Gabriel Diaz\n       - **Email:** [gdiaz@vanarsdelltd.com](mailto:gdiaz@vanarsdelltd.com)\n       - **Phone:** 555-321-0987\n       - **Website:** [www.vanarsdelltd.com](http://www.vanarsdelltd.com)\n\n    5. **Trey Research**\n       - **Type:** DevOps\n       - **Address:** 456 Research Avenue, Redmond\n       - **Contact:** Serena Davis\n       - **Email:** [serena.davis@treyresearch.net](mailto:serena.davis@treyresearch.net)\n       - **Phone:** 555-867-5309\n       - **Website:** [www.treyresearch.net](http://www.treyresearch.net)\n\n    6. **Fabrikam Inc.**\n       - **Type:** AI Services\n       - **Address:** 24601 South St., Philadelphia\n       - **Contact:** Remy Morris\n       - **Email:** [remy.morris@fabrikam.com](mailto:remy.morris@fabrikam.com)\n       - **Phone:** 610-321-0987\n       - **Website:** [www.fabrikam.com](http://www.fabrikam.com)\n\n    7. **The Phone Company**\n       - **Type:** Communications\n       - **Address:** 10642 Meridian St., Indianapolis\n       - **Contact:** Ashley Schroeder\n       - **Email:** [ashley.schroeder@thephone-company.com](mailto:ashley.schroeder@thephone-company.com)\n       - **Phone:** 719-444-2345\n       - **Website:** [www.thephone-company.com](http://www.thephone-company.com)\n\n    &gt; Finished chain.\n</code></pre> <p>\u4e0a\u8a18\u306e\u30c8\u30ec\u30fc\u30b9\u3067\u306f\uff1a</p> <ol> <li> <p>\u884c1\u306f<code>AgentExecutor</code>\u30c1\u30a7\u30fc\u30f3\u306e\u958b\u59cb\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> </li> <li> <p>\u884c3-5\u306f\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c<code>get_vendors</code>\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3001\u30d9\u30f3\u30c0\u30fc\u30c7\u30fc\u30bf\u306e\u914d\u5217\u306b\u7d50\u679c\u3092\u51fa\u529b\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> </li> </ol> <p>Text Only<pre><code>\n</code></pre> 10. \u884c7-61\u306f\u3001LLM\u304b\u3089\u306e\u5fdc\u7b54\u3092Markdown\u5f62\u5f0f\u3067\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> <ol> <li> <p>\u884c63\u306f\u3001<code>AgentExecutor</code>\u30c1\u30a7\u30fc\u30f3\u304c\u7d42\u4e86\u3057\u305f\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> </li> <li> <p>VS Code\u3067API\u30c7\u30d0\u30c3\u30ac\u3092\u505c\u6b62\u3057\u307e\u3059\u3002</p> </li> </ol> <p>\u3042\u306a\u305f\u306f<code>/chat</code> API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u30c6\u30b9\u30c8\u306b\u6210\u529f\u3057\u307e\u3057\u305f\uff01</p> <p>```</p>"},{"location":"ja/05-Build-Copilot/06/","title":"5.6 Copilot\u30c1\u30e3\u30c3\u30c8\u3092UI\u306b\u8ffd\u52a0\u3059\u308b","text":"<p>\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e<code>CopilotChat</code>\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u78ba\u8a8d\u3057\u3001\u30dd\u30fc\u30bf\u30ebUI\u3092\u901a\u3058\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3068\u30c1\u30e3\u30c3\u30c8\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002React\u306e\u52d5\u7684\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d9\u30fc\u30b9\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0API\u3068\u306e\u30b7\u30fc\u30e0\u30ec\u30b9\u306a\u7d71\u5408\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u30a8\u30f3\u30b2\u30fc\u30b8\u30e1\u30f3\u30c8\u3092\u9ad8\u3081\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u3067\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u306a\u30c1\u30e3\u30c3\u30c8\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30c1\u30e3\u30c3\u30c8\u6a5f\u80fd\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306e\u4f1a\u8a71\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u3001\u8907\u96d1\u306a\u72b6\u614b\u7ba1\u7406\u3092\u51e6\u7406\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u30a8\u30af\u30b9\u30da\u30ea\u30a8\u30f3\u30b9\u3092\u3088\u308a\u9b45\u529b\u7684\u3067\u52b9\u7387\u7684\u306b\u3059\u308b\u76f4\u611f\u7684\u306a\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/06/#copilotui","title":"Copilot\u30c1\u30e3\u30c3\u30c8UI\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>_Woodgrove Bank Contract Management Portal_\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u305f\u3081\u306e\u4eba\u6c17\u306e\u3042\u308bJavaScript\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bReact.js\u3092\u4f7f\u7528\u3057\u3066\u69cb\u7bc9\u3055\u308c\u305f\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff08SPA\uff09\u3067\u3059\u3002</p> <p>React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u3042\u308b<code>CopilotChat</code>\u304c\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u30dd\u30fc\u30bf\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eUI\u306b\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u6a5f\u80fd\u3092\u7c21\u5358\u306b\u7d71\u5408\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f<code>src/userportal/src/components/CopilotChat.jsx</code>\u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4eca\u3059\u3050VS Code\u3067\u958b\u304d\u3001\u30b3\u30fc\u30c9\u3092\u30bb\u30af\u30b7\u30e7\u30f3\u3054\u3068\u306b\u63a2\u7d22\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3001\u5404\u30b3\u30fc\u30c9\u884c\u306e\u8aac\u660e\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> Copilot\u30c1\u30e3\u30c3\u30c8React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30b3\u30fc\u30c9 src/userportal/src/components/CopilotChat.jsx<pre><code>import React, { useState, useEffect, useRef } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { Row, Col, Button, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport ConfirmModal from './ConfirmModal';\nimport api from '../api/Api'; // Adjust the path as necessary\nimport './CopilotChat.css';\n\nconst CopilotChat = () =&gt; {\n  const [sessionId, setSessionId] = useState(-1);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n  const [error, setError] = useState('');\n  const [isThinking, setIsThinking] = useState(false);\n\n  const [sessions, setSessions] = useState([]);\n  const [sessionToDelete, setSessionToDelete] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const handleSendMessage = async () =&gt; {\n    if (input.trim() === '') return;\n\n    const prompt = input;\n    setInput('');\n\n    setIsThinking(true);\n\n    // Add the user's message to the local mesage history\n    const userMessage = { role: 'user', content: prompt };\n    setMessages([...messages, userMessage]);\n\n    setError('');\n\n    try {\n      // Get the completion from the API\n      const output = await api.completions.chat(sessionId, prompt);\n\n      // make sure request for a different session doesn't update the messages\n      if (sessionId === output.session_id) {\n        // Add the assistant's response to the messages\n        const assistantMessage = { role: 'assistant', content: output.content };\n        setMessages([...messages, userMessage, assistantMessage]);\n      }\n\n      // only update the messages if the session ID is the same\n      // This keeps a processing completion from updating messages after a new session is created\n      if (sessionId === -1 || sessionId !== output.session_id) {\n        // Update the session ID\n        setSessionId(output.session_id);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setError('Error sending message. Please try again.');\n    } finally {\n        setIsThinking(false);\n    }\n\n  };\n\n  const createNewSession = async () =&gt; {\n    setSessionId(-1);\n    setMessages([]);\n    setIsThinking(false);\n    setError('');\n  };\n\n  const refreshSessionList = async () =&gt; {\n    try {\n      const data = await api.completions.getSessions();\n      setSessions(data);\n    } catch (error) {\n      console.error('Error loading session history:', error);\n      setError('Error loading session history. Please try again.');\n    }\n  }\n\n  const loadSessionHistory = async () =&gt; {\n    if (!sessionId || sessionId &lt;= 0) {\n      setMessages([]);\n      return;\n    }\n    try {\n      const data = await api.completions.getHistory(sessionId);\n      setMessages(data);\n    } catch (error) {\n      console.error('Error loading session history:', error);\n      setError('Error loading session history. Please try again.');\n    }\n  }\n\n  useEffect(() =&gt; {\n    refreshSessionList();\n    loadSessionHistory();\n  }, [sessionId]);\n\n  useEffect(() =&gt; {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  useEffect(() =&gt; {\n    refreshSessionList();\n  }, []);\n\n  const handleDelete = async () =&gt; {\n    if (!sessionToDelete) return;\n\n    setError(null);\n    try {\n      await api.completions.deleteSession(sessionToDelete);\n\n      console.log('Session deleted:', sessionToDelete);\n      console.log('Current session:', sessionId);\n      if (sessionId === sessionToDelete) {\n        setSessionId(-1);\n      }\n    } catch (err) {\n      console.error('Error deleting session:', err);\n      setError('Error deleting session. Please try again.');\n    }\n    setShowDeleteModal(false);\n    refreshSessionList();\n  };\n\n  return (\n    &lt;div className=\"ai-chat container mt-4\"&gt;\n      &lt;Row&gt;\n        &lt;Col style={{ width: '10%', maxWidth: '10em' }}&gt;\n          &lt;Row&gt;\n            &lt;Button area-label=\"New Session\" alt=\"New Session\" onClick={createNewSession}&gt;\n              &lt;i className=\"fas fa-plus\"&gt;&lt;/i&gt; Chat\n            &lt;/Button&gt;\n          &lt;/Row&gt;\n          &lt;Row className=\"mt-3\"&gt;\n            &lt;strong&gt;Chat History&lt;/strong&gt;\n            {!sessions || sessions.length === 0 &amp;&amp; &lt;p&gt;No sessions&lt;/p&gt;}\n            {sessions &amp;&amp; sessions.length &gt; 0 &amp;&amp; &lt;ul className=\"session-list\"&gt;\n              {sessions.map((session, index) =&gt; (\n                  &lt;li key={index}\n                    className={`session ${sessionId === session.id ? 'selected' : ''}`}\n                    style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '10px', borderBottom: '1px solid #ccc', cursor: 'pointer' }}\n                    onClick={() =&gt; setSessionId(session.id)}\n                  &gt;\n                    &lt;OverlayTrigger\n                      placement=\"top\"\n                      delay={{ show: 250, hide: 400 }}\n                      overlay={&lt;Tooltip id={`tooltip-${index}`}&gt;{session.name.substring(0, 300)}&lt;/Tooltip&gt;}\n                    &gt;\n                      &lt;a alt={session.name}&gt;{session.name}&lt;/a&gt;\n                    &lt;/OverlayTrigger&gt;\n                    &lt;div&gt;\n                      &lt;OverlayTrigger\n                        placement=\"top\"\n                        delay={{ show: 250, hide: 400 }}\n                        overlay={&lt;Tooltip id={`delete-tooltip-${index}`}&gt;Delete Session&lt;/Tooltip&gt;}\n                      &gt;\n                        &lt;Button className=\"btn-danger\" style={{ marginRight: '10px' }}\n                          title=\"Delete Session\"\n                          onClick={(e) =&gt; { setSessionToDelete(session.id); setShowDeleteModal(true); e.stopPropagation(); }}&gt;\n                          &lt;i className=\"fas fa-trash\"&gt;&lt;/i&gt;\n                        &lt;/Button&gt;\n                      &lt;/OverlayTrigger&gt;\n                    &lt;/div&gt;\n                  &lt;/li&gt;\n                ))}\n              &lt;/ul&gt;}\n          &lt;/Row&gt;\n        &lt;/Col&gt;\n        &lt;Col&gt;\n          &lt;div className=\"messages mb-3 border p-3\" style={{ minHeight: '20em', maxHeight: '50em', overflowY: 'scroll' }}&gt;\n            {messages.map((msg, index) =&gt; (\n              &lt;div key={index} className={`message ${msg.role} mb-2 d-flex ${msg.role === 'user' ? 'justify-content-end' : 'justify-content-start'}`}&gt;\n                {!error &amp;&amp; index === messages.length - 1 &amp;&amp; &lt;div ref={messagesEndRef} /&gt;}\n                &lt;div className={`alert ${msg.role === 'user' ? 'alert-primary' : 'alert-secondary'}`} style={{ maxWidth: '90%' }} role=\"alert\"&gt;\n                  &lt;ReactMarkdown&gt;{msg.content}&lt;/ReactMarkdown&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            ))}\n            {error &amp;&amp; &lt;div className=\"alert alert-danger\" role=\"alert\"&gt;{error}&lt;div ref={messagesEndRef} /&gt;&lt;/div&gt;}\n            {isThinking &amp;&amp; &lt;div className=\"d-flex justify-content-center\"&gt;\n                &lt;div className=\"spinner-border text-info\" role=\"status\"&gt;\n                  &lt;span className=\"visually-hidden\"&gt;Thinking...&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div ref={messagesEndRef} /&gt;\n              &lt;/div&gt;}\n          &lt;/div&gt;\n          &lt;div className=\"input-container d-flex\"&gt;\n            &lt;textarea className=\"form-control me-2\"\n              value={input}\n              onChange={(e) =&gt; setInput(e.target.value)}\n              onKeyDown={(e) =&gt; { if (e.key === 'Enter') { handleSendMessage(e); e.preventDefault(); return false; } }}\n              placeholder=\"Type a message...\"\n            &gt;&lt;/textarea&gt;\n            &lt;Button onClick={handleSendMessage}&gt;Send&lt;/Button&gt;\n          &lt;/div&gt;\n        &lt;/Col&gt;\n      &lt;/Row&gt;\n\n      &lt;ConfirmModal\n        show={showDeleteModal}\n        handleClose={() =&gt; setShowDeleteModal(false)}\n        handleConfirm={handleDelete}\n        message=\"Are you sure you want to delete this session?\"\n      /&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default CopilotChat;\n</code></pre> <ol> <li> <p>\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\uff081-6\u884c\u76ee\uff09\uff1a\u5fc5\u8981\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p><code>CopilotChat</code>\u95a2\u6570\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5b9a\u7fa9\uff088\u884c\u76ee\uff09\uff1aReact.js\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u3001_\u95a2\u6570\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8_\u307e\u305f\u306f_\u30af\u30e9\u30b9\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8_\u3092\u4f7f\u7528\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u72b6\u614b\u5909\u6570\u306e\u5ba3\u8a00\uff089-18\u884c\u76ee\uff09\uff1a\u72b6\u614b\u5909\u6570\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u3092\u542b\u3080\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>API\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u305f\u3081\u306e\u95a2\u6570\u3092\u63d0\u4f9b\uff0820-58\u884c\u76ee\uff09\uff1a<code>handleSendMessage</code>\u95a2\u6570\u306f\u3001_Woodgrove Bank API_\u306b\u975e\u540c\u671f\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e<code>/completions/chat</code>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u306eUI\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u3092\u51e6\u7406\u3057\u3001_\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea_\u3068_\u30bb\u30c3\u30b7\u30e7\u30f3ID_\u3092API\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u8aad\u307f\u8fbc\u307f\u3092\u51e6\u7406\u3059\u308b\u95a2\u6570\u3092\u63d0\u4f9b\u3059\u308b (\u884c 60-89): <code>createNewSession</code> \u95a2\u6570\u306f\u65b0\u3057\u3044\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306e\u72b6\u614b\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u3001<code>refreshSessionList</code> \u95a2\u6570\u306f\u4ee5\u524d\u306e\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u8aad\u307f\u8fbc\u3080\u305f\u3081\u306b\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e <code>/completions</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u306eUI\u306e\u3084\u308a\u53d6\u308a\u3092\u51e6\u7406\u3057\u3001<code>loadSessionHistory</code> \u95a2\u6570\u306f\u9078\u629e\u3055\u308c\u305f\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74\u3092\u8aad\u307f\u8fbc\u3080\u305f\u3081\u306b\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e <code>/completions</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u306eUI\u306e\u3084\u308a\u53d6\u308a\u3092\u51e6\u7406\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30bb\u30c3\u30b7\u30e7\u30f3ID\u306e\u5909\u66f4\u3092\u51e6\u7406\u3059\u308b (\u884c 91-94): <code>useEffect</code> \u30d5\u30c3\u30af\u306f\u3001sessionId \u306e\u5909\u66f4\u306b\u5fdc\u3058\u3066\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3001\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\u3057\u3001\u65b0\u3057\u304f\u9078\u629e\u3055\u308c\u305f\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u30c1\u30e3\u30c3\u30c8\u5c65\u6b74\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002</p> </li> <li> <p>\u30e1\u30c3\u30bb\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u5909\u66f4\u3092\u51e6\u7406\u3059\u308b (\u884c 96-100): <code>useEffect</code> \u30d5\u30c3\u30af\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u914d\u5217\u306e\u5909\u66f4\u306b\u5fdc\u3058\u3066\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u6642\u306b\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u30ea\u30b9\u30c8\u3092\u8aad\u307f\u8fbc\u3080 (\u884c 102-104): <code>useEffect</code> \u30d5\u30c3\u30af\u306f\u3001\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u6642\u306b\u4ee5\u524d\u306e\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u30ea\u30b9\u30c8\u3092UI\u306b\u8aad\u307f\u8fbc\u3080\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u524a\u9664\u3059\u308b\u95a2\u6570\u3092\u63d0\u4f9b\u3059\u308b (\u884c 106-124): <code>handleDelete</code> \u95a2\u6570\u306f\u3001\u9078\u629e\u3055\u308c\u305f\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u524a\u9664\u3059\u308b\u305f\u3081\u306b\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e <code>/completions</code> \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u306eUI\u306e\u3084\u308a\u53d6\u308a\u3092\u51e6\u7406\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8fd4\u3059 (\u884c 126-208): return\u6587\u306f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306eJSX\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3001\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3067\u306e\u8868\u793a\u65b9\u6cd5\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> </li> <li> <p><code>CopilotChat</code> \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b (\u884c 210): <code>CopilotChat</code> \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3068\u3057\u3066\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/05-Build-Copilot/06/#copilot-chat-ui","title":"Copilot Chat UI\u3092\u6709\u52b9\u306b\u3059\u308b","text":"<p>Woodgrove Bank Contract Management Portal UI\u3067copilot chat\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u3001UI\u306e <code>Dashboard</code> \u30da\u30fc\u30b8\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3078\u306e\u53c2\u7167\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u30da\u30fc\u30b8\u306f <code>src/userportal/src/pages/dashboard/dashboard.jsx</code> \u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30da\u30fc\u30b8\u306e\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u30da\u30fc\u30b8\u306e\u30b3\u30fc\u30c9 src/userportal/src/pages/dashboard/dashboard.jsx<pre><code>import React from 'react';\n\nconst Dashboard = () =&gt; {\n  return (\n    &lt;div className=\"table-responsive\"&gt;\n      &lt;div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\"&gt;\n        &lt;h1 className=\"h2\"&gt;Dashboard&lt;/h1&gt;\n      &lt;/div&gt;\n\n    &lt;/div&gt;\n  );\n};\n\nexport default Dashboard;\n</code></pre> <ol> <li> <p>VS Code\u306e\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u3067\u3001<code>src/userportal/src/pages/dashboard</code> \u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u79fb\u52d5\u3057\u3001<code>dashboard.jsx</code> \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u307e\u3059\u3002</p> </li> <li> <p>AI\u30c1\u30e3\u30c3\u30c8\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u306b\u3042\u308b <code>import React from 'react';</code> \u884c\u306e\u76f4\u4e0b\u306b\u6b21\u306e <code>import</code> \u6587\u3092\u633f\u5165\u3057\u307e\u3059\u3002</p> <p>\u6b21\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u6587\u3092 <code>dashboard.jsx</code> \u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\uff01</p> JavaScript<pre><code>import CopilotChat from '../../components/CopilotChat';\n</code></pre> </li> <li> <p><code>&lt;div&gt;</code> \u306e\u9589\u3058\u30bf\u30b0\u306e\u4e0b\u306b\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u633f\u5165\u3057\u307e\u3059\u3002\u3053\u306e <code>&lt;div&gt;</code> \u306f Dashboard \u30d8\u30c3\u30c0\u30fc\u3092\u542b\u3093\u3067\u3044\u307e\u3059\uff089\u884c\u76ee\uff09\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u30da\u30fc\u30b8\u306e <code>const Dashboard =() =&gt; {}</code> \u95a2\u6570\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30d6\u30ed\u30c3\u30af\u5185\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u633f\u5165\u3055\u308c\u307e\u3059\u3002</p> <p>\u6b21\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30b3\u30fc\u30c9\u3092 <code>dashboard.jsx</code> \u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\uff01</p> JavaScript<pre><code>&lt;CopilotChat /&gt;\n</code></pre> </li> <li> <p>\u6700\u7d42\u7684\u306a <code>Dashboard</code> \u30b3\u30fc\u30c9\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff1a</p> src/userportal/src/pages/dashboard/dashboard.jsx<pre><code>import React from 'react';\nimport CopilotChat from '../../components/CopilotChat';\n\nconst Dashboard = () =&gt; {\n  return (\n    &lt;div className=\"table-responsive\"&gt;\n      &lt;div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\"&gt;\n        &lt;h1 className=\"h2\"&gt;Dashboard&lt;/h1&gt;\n      &lt;/div&gt;\n      &lt;CopilotChat /&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Dashboard;\n</code></pre> </li> </ol>"},{"location":"ja/05-Build-Copilot/07/","title":"5.7 UI Copilot \u30c1\u30e3\u30c3\u30c8\u306e\u30c6\u30b9\u30c8","text":"<p>\u3053\u308c\u3067\u3001\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30c1\u30e3\u30c3\u30c8\u6a5f\u80fd\u3092\u30c6\u30b9\u30c8\u3059\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002FastAPI \u30b5\u30fc\u30d0\u30fc\u3068 React SPA \u3092 VS Code \u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u8fc5\u901f\u306a\u30d7\u30ed\u30c8\u30bf\u30a4\u30d4\u30f3\u30b0\u3068\u30c6\u30b9\u30c8\u306e\u305f\u3081\u306b\u30ed\u30fc\u30ab\u30eb\u3067\u3053\u308c\u3092\u884c\u3046\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/07/#vs-code","title":"VS Code \u3067\u306e\u30c6\u30b9\u30c8","text":"<p>Visual Studio Code \u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3057\u3001\u30c7\u30d0\u30c3\u30b0\u3068\u8fc5\u901f\u306a\u30c6\u30b9\u30c8\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"ja/05-Build-Copilot/07/#api","title":"API \u306e\u958b\u59cb","text":"<p>UI \u306f Woodgrove Bank API \u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002API \u3092\u305d\u306e Swagger UI \u7d4c\u7531\u3067\u30c6\u30b9\u30c8\u3057\u305f\u3068\u304d\u3068\u540c\u69d8\u306b\u3001VS Code \u3067 API \u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>Visual Studio Code \u306e \u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0 \u30d1\u30cd\u30eb\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u304b\u3089 OS \u306b\u9069\u3057\u305f API \u30c7\u30d0\u30c3\u30ac\u30fc \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30c7\u30d0\u30c3\u30b0\u958b\u59cb \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\uff08\u307e\u305f\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u3067 F5 \u3092\u62bc\u3057\u307e\u3059\uff09\u3002</p> <p></p> </li> <li> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u51fa\u529b\u306b <code>Application startup complete.</code> \u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u3001API \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5b8c\u5168\u306b\u958b\u59cb\u3055\u308c\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002</p> <p></p> </li> </ol>"},{"location":"ja/05-Build-Copilot/07/#_1","title":"\u30dd\u30fc\u30bf\u30eb\u306e\u958b\u59cb","text":"<p>API \u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u3001VS Code \u3067\u30dd\u30fc\u30bf\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e2\u3064\u76ee\u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002</p> <ol> <li> <p>Visual Studio Code \u306e \u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0 \u30d1\u30cd\u30eb\u306b\u623b\u308a\u3001\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u304b\u3089 \u30dd\u30fc\u30bf\u30eb\u30c7\u30d0\u30c3\u30ac\u30fc \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30c7\u30d0\u30c3\u30b0\u958b\u59cb \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\uff08\u307e\u305f\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u3067 F5 \u3092\u62bc\u3057\u307e\u3059\uff09\u3002</p> <p></p> </li> <li> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 Woodgrove Bank Contract Management Portal \u304c\u8d77\u52d5\u3057\u307e\u3059 (http://localhost:3000/)\u3002</p> </li> <li> <p>\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9 \u30da\u30fc\u30b8\u3067\u3001\u6b21\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30c1\u30e3\u30c3\u30c8\u306b\u5165\u529b\u3057\u3066\u9001\u4fe1\u3057\u307e\u3059\uff1a</p> <p>\u6b21\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u30c1\u30e3\u30c3\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\uff01</p> <pre><code>What IT vendors are we working with?\n</code></pre> <p></p> </li> <li> <p>\u6b21\u306b\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u8acb\u6c42\u66f8\u306e\u6b63\u78ba\u6027\u306b\u3064\u3044\u3066\u6b21\u306e\u8cea\u554f\u3092\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <p>\u6b21\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u30c1\u30e3\u30c3\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\uff01</p> <pre><code>What vendor has had the most invoicing issues?\n</code></pre> <p></p> </li> </ol> <p>\u524d\u306e\u8cea\u554f\u306b\u5bfe\u3059\u308b\u5fdc\u7b54\u306f\u6b63\u78ba\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306f\u3053\u306e\u30d9\u30f3\u30c0\u30fc\u304c\u6700\u3082\u8acb\u6c42\u66f8\u306e\u554f\u984c\u3092\u62b1\u3048\u3066\u3044\u308b\u7406\u7531\u306b\u3064\u3044\u3066\u306e\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u307e\u305f\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u304c\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u62e1\u5f35\u3059\u308b\u305f\u3081\u306e\u9069\u5207\u306a\u6a5f\u80fd\u3092\u6b63\u3057\u304f\u9078\u629e\u3059\u308b\u305f\u3081\u306e\u30ac\u30a4\u30c0\u30f3\u30b9\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u53ef\u80fd\u6027\u3082\u3042\u308a\u307e\u3059\u3002\u3044\u305a\u308c\u306e\u5834\u5408\u3082\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306f\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u5fdc\u7b54\u3092\u6539\u5584\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\uff01</p> <p>\u6b21\u306e\u30bf\u30b9\u30af\u3067\u306f\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u7e70\u308a\u8fd4\u3057\u6539\u5584\u3057\u3001\u63d0\u4f9b\u3055\u308c\u308b\u5fdc\u7b54\u306e\u8cea\u3068\u6839\u62e0\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</p> <p>\u6b21\u306e\u30bf\u30b9\u30af\u306e\u305f\u3081\u306b\u3001API\u3068\u30dd\u30fc\u30bf\u30eb\u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u305f\u307e\u307e\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/05-Build-Copilot/08/","title":"5.8 Copilot\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u6539\u5584","text":"<p>\u30d7\u30ed\u30f3\u30d7\u30c8\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306f\u3001AI\u30e2\u30c7\u30eb\u304c\u30e6\u30fc\u30b6\u30fc\u306e\u610f\u56f3\u3084\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u6cbf\u3063\u305f\u5f62\u3067\u5fdc\u7b54\u3059\u308b\u3088\u3046\u306b\u3001\u671b\u307e\u3057\u3044\u51fa\u529b\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306e\u6b63\u78ba\u3067\u52b9\u679c\u7684\u306a\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b\u6280\u8853\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30e2\u30c7\u30eb\u306e\u80fd\u529b\u3092\u7406\u89e3\u3057\u3001\u6b63\u78ba\u3067\u95a2\u9023\u6027\u304c\u3042\u308a\u4fa1\u5024\u306e\u3042\u308b\u7d50\u679c\u3092\u751f\u307f\u51fa\u3059\u3088\u3046\u306b\u5165\u529b\u3092\u8abf\u6574\u3059\u308b\u3053\u3068\u3092\u542b\u307f\u307e\u3059\u3002</p> <p>\u3042\u306a\u305f\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u304c\u4f7f\u7528\u3059\u308b\u521d\u671f\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff1a</p> \u30b9\u30bf\u30fc\u30bf\u30fc\u30d7\u30ed\u30f3\u30d7\u30c8<pre><code>\u3042\u306a\u305f\u306fWoodgrove Bank\u306e\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3067\u3042\u308a\u3001\u9280\u884c\u306e\u30d9\u30f3\u30c0\u30fc\u3001\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u4f5c\u696d\u7bc4\u56f2\u8a18\u8ff0\u66f8\uff08SOW\uff09\u3001\u304a\u3088\u3073\u305d\u308c\u3089\u306eSOW\u306b\u95a2\u9023\u3057\u3066\u63d0\u51fa\u3055\u308c\u305f\u8acb\u6c42\u66f8\u306e\u6b63\u78ba\u6027\u306b\u95a2\u3059\u308b\u6d1e\u5bdf\u3092\u63d0\u4f9b\u3059\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3042\u306a\u305f\u306f\u89aa\u5207\u3067\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u3067\u77e5\u8b58\u304c\u8c4a\u5bcc\u3067\u3059\u304c\u3001Woodgrove\u306e\u30d9\u30f3\u30c0\u30fc\u3068\u95a2\u9023\u3059\u308b\u6587\u66f8\uff08\u8acb\u6c42\u66f8\u3068SOW\uff09\u306b\u3064\u3044\u3066\u306e\u307f\u8cea\u554f\u306b\u7b54\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n</code></pre> <p>\u3053\u308c\u306f\u975e\u5e38\u306b\u57fa\u672c\u7684\u306a\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u3042\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u3068\u306e\u3084\u308a\u53d6\u308a\u306e\u65b9\u6cd5\u3001\u5229\u7528\u53ef\u80fd\u306a\u30c4\u30fc\u30eb\u306e\u6d3b\u7528\u65b9\u6cd5\u3001\u8cea\u554f\u3078\u306e\u5fdc\u7b54\u65b9\u6cd5\u306b\u3064\u3044\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306b\u307b\u3068\u3093\u3069\u6307\u91dd\u3092\u63d0\u4f9b\u3057\u307e\u305b\u3093\u3002\u3053\u308c\u304b\u3089\u3001\u305d\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u7e70\u308a\u8fd4\u3057\u6539\u5584\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u3068\u306e\u3084\u308a\u53d6\u308a\u3084\u63d0\u4f9b\u3067\u304d\u308b\u5fdc\u7b54\u306e\u7a2e\u985e\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002</p> <p>\u30d7\u30ed\u30f3\u30d7\u30c8\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306f\u901a\u5e38\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u5c0f\u3055\u306a\u5909\u66f4\u3092\u52a0\u3048\u3001\u305d\u306e\u5f71\u97ff\u3092\u30c6\u30b9\u30c8\u3059\u308b\u53cd\u5fa9\u30d7\u30ed\u30bb\u30b9\u3092\u542b\u307f\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u901a\u5e38\u3001\u7279\u5b9a\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u52b9\u679c\u7684\u306a\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u8907\u6570\u56de\u306e\u5909\u66f4\u3068\u8a55\u4fa1\u306e\u30b5\u30a4\u30af\u30eb\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002\u901a\u5e38\u3001\u53cd\u5fa9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b9\u30c6\u30c3\u30d7\u306b\u5f93\u3044\u307e\u3059\uff1a</p> <ol> <li>\u8cea\u554f\u3092\u3059\u308b</li> <li>\u5fdc\u7b54\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b</li> <li>\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u4fee\u6b63\u3059\u308b</li> <li>API\u3092\u518d\u8d77\u52d5\u3059\u308b</li> <li>\u4e0a\u8a18\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u7e70\u308a\u8fd4\u3057\u3001\u53d7\u3051\u53d6\u308b\u5fdc\u7b54\u306e\u8cea\u3068\u95a2\u9023\u6027\u306b\u6e80\u8db3\u3059\u308b\u307e\u3067\u7d9a\u3051\u308b\u3002</li> </ol>"},{"location":"ja/05-Build-Copilot/08/#_1","title":"\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u6539\u5584\u3059\u308b\u305f\u3081\u306e\u53cd\u5fa9","text":"<p>\u524d\u306e\u30bf\u30b9\u30af\u3067\u958b\u59cb\u3057\u305fAPI\u3068\u30dd\u30fc\u30bf\u30eb\u306e\u4e21\u65b9\u306eVS Code\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u3044\u304f\u3064\u304b\u306e\u5909\u66f4\u3092\u52a0\u3048\u3001\u53d7\u3051\u53d6\u308b\u5fdc\u7b54\u3092\u8a55\u4fa1\u3057\u307e\u3059\u3002</p> <ol> <li> <p>VS Code Explorer\u3067<code>src/api/app/prompts</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u79fb\u52d5\u3057\u3001<code>copilot.txt</code>\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u304d\u307e\u3059\u3002</p> <p>\u30d7\u30ed\u30f3\u30d7\u30c8\u306fAPI\u306e\u30e9\u30a4\u30d5\u30b9\u30d1\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306b\u3088\u3063\u3066\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059</p> </li> </ol> <p>_Woodgrove Bank API_\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u3001FastAPI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3055\u308c\u308b<code>lifespan_manager</code>\u306b\u3088\u3063\u3066\u30e1\u30e2\u30ea\u306b\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002</p> <ol> <li> <p>\u59cb\u3081\u308b\u306b\u306f\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u672b\u5c3e\u306b\u4ee5\u4e0b\u306e\u8a00\u8a9e\u3092\u8ffd\u52a0\u3057\u3066\u3001\u8cea\u554f\u306b\u7b54\u3048\u308b\u969b\u306b\u5f93\u3046\u3079\u304d\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u306e\u30ac\u30a4\u30c0\u30f3\u30b9\u306b\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u304c\u3069\u306e\u3088\u3046\u306a\u60c5\u5831\u306b\u95a2\u3059\u308b\u3082\u306e\u3067\u3042\u308b\u304b\u306b\u57fa\u3065\u3044\u3066\u3001\u5fdc\u7b54\u306b\u542b\u3081\u308b\u3079\u304d\u60c5\u5831\u306e\u8a73\u7d30\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u5fdc\u7b54\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u3067\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> \u5fdc\u7b54\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u3092\u63d0\u4f9b\u3059\u308b<pre><code>Use the following guidelines when responding:\n- If asked about a specific vendor, provide information about the vendor, their SOWs, and invoices. Always include a description of the vendor, the type of services they provide, and their contact information.\n- If asked about a specific SOW, always provide information about the SOW, its milestones, and deliverables. Include the name of the vendor performing the work.\n- If asked about a specific invoice, always provide information about the invoice and its line items.\n</code></pre> </li> <li> <p>\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff1a</p> \u4e2d\u9593\u30d7\u30ed\u30f3\u30d7\u30c8<pre><code>You are an intelligent copilot for Woodgrove Bank, designed to provide insights about the bank's vendors, active Statements of Work (SOWs), and the accuracy of invoices submitted in relation to those SOWs. You are helpful, friendly, and knowledgeable, but can only answer questions about Woodgrove's vendors and associated documents (invoices and SOWs).\n\nUse the following guidelines when responding:\n- If asked about a specific vendor, provide information about the vendor, their SOWs, and invoices. Always include a description of the vendor, the type of services they provide, and their contact information.\n- If asked about a specific SOW, always provide information about the SOW, its milestones, and deliverables. Include the name of the vendor performing the work.\n- If asked about a specific invoice, always provide information about the invoice and its line items.\n</code></pre> </li> <li> <p>VS Code\u3067\u3001\u6d6e\u52d5\u30c7\u30d0\u30c3\u30ac\u30fc\u30c4\u30fc\u30eb\u30d0\u30fc\u3092\u4f7f\u7528\u3057\u3066API\u30c7\u30d0\u30c3\u30ac\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\u30c7\u30d0\u30c3\u30ac\u30fc\u3092\u518d\u8d77\u52d5\u3059\u308b\u524d\u306b\u3001\u69cb\u6210\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u3067API\u30c7\u30d0\u30c3\u30ac\u30fc\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3042\u308b\u3044\u306f\u3001\u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0\u30d1\u30cd\u30eb\u3092\u4ecb\u3057\u3066API\u30c7\u30d0\u30c3\u30ac\u30fc\u3092\u505c\u6b62\u3057\u3066\u518d\u8d77\u52d5\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p></p> </li> <li> <p>_Woodgrove Bank\u5951\u7d04\u7ba1\u7406\u30dd\u30fc\u30bf\u30eb_\u3067\u3001\u7279\u5b9a\u306e\u30d9\u30f3\u30c0\u30fc\u3001SOW\u3001\u304a\u3088\u3073\u8acb\u6c42\u66f8\u306b\u95a2\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u8cea\u554f\u3092\u3057\u3066\u3001\u5fdc\u7b54\u3092\u8a55\u4fa1\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u6b21\u306b\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3068\u8acb\u6c42\u306e\u6b63\u78ba\u6027\u3092\u8a55\u4fa1\u3059\u308b\u305f\u3081\u306e\u691c\u8a3c\u7d50\u679c\u306e\u4f7f\u7528\u306b\u95a2\u3059\u308b\u4ee5\u4e0b\u306e\u30ac\u30a4\u30c0\u30f3\u30b9\u3092\u8ffd\u52a0\u3057\u3066\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u3082\u3046\u4e00\u5ea6\u5909\u66f4\u3057\u307e\u3059\u3002</p> <p>\u8ffd\u52a0\u306e\u6307\u793a\u3067\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3068\u6b63\u78ba\u6027\u306e\u8a55\u4fa1\u306b\u95a2\u3059\u308b\u6307\u793a\u3092\u63d0\u4f9b\u3059\u308b<pre><code>When asked about a vendor's performance or billing accuracy:\n1. Use validation results for SOWs and invoices to perform your analysis.\n2. Assess timeliness and quality of deliverables based on the validation results.\n3. Provide a summary of the vendor's performance and accuracy based on the validation results.\n4. Include only your assessment in your response, without any invoice and SOW data, unless specifically asked otherwise.\n</code></pre> </li> <li> <p>\u66f4\u65b0\u3055\u308c\u305f\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff1a</p> \u6700\u7d42\u30d7\u30ed\u30f3\u30d7\u30c8<pre><code>You are an intelligent copilot for Woodgrove Bank, designed to provide insights about the bank's vendors, active Statements of Work (SOWs), and the accuracy of invoices submitted in relation to those SOWs. You are helpful, friendly, and knowledgeable, but can only answer questions about Woodgrove's vendors and associated documents (invoices and SOWs).\n\nUse the following guidelines when responding:\n- If asked about a specific vendor, provide information about the vendor, their SOWs, and invoices. Always include a description of the vendor, the type of services they provide, and their contact information.\n- If asked about a specific SOW, always provide information about the SOW, its milestones, and deliverables. Include the name of the vendor performing the work.\n- If asked about a specific invoice, always provide information about the invoice and its line items.\n\nWhen asked about a vendor's performance or billing accuracy:\n1. Use validation results for SOWs and invoices to perform your analysis.\n2. Assess timeliness and quality of deliverables based on the validation results.\n3. Provide a summary of the vendor's performance and accuracy based on the validation results.\n4. Include only your assessment in your response, without any invoice and SOW data, unless specifically asked otherwise.\n</code></pre> </li> <li> <p>\u518d\u5ea6API\u30c7\u30d0\u30c3\u30ac\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>_Woodgrove Bank\u5951\u7d04\u7ba1\u7406\u30dd\u30fc\u30bf\u30eb_\u306b\u623b\u308a\u3001\u30d9\u30f3\u30c0\u30fc\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3001\u6b63\u78ba\u6027\u3001\u304a\u3088\u3073\u8acb\u6c42\u306e\u554f\u984c\u306b\u95a2\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u8cea\u554f\u3092\u3057\u307e\u3059\u3002+ \u30c1\u30e3\u30c3\u30c8\u3092\u9078\u629e\u3057\u3066\u65b0\u3057\u3044\u30c1\u30e3\u30c3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3001\u8cea\u554f\u3092\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u300c\u8acb\u6c42\u306e\u554f\u984c\u304c\u6700\u3082\u591a\u304b\u3063\u305f\u30d9\u30f3\u30c0\u30fc\u306f\u3069\u308c\u3067\u3059\u304b\uff1f\u300d\u3068\u8cea\u554f\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u5fdc\u7b54\u3092\u78ba\u8a8d\u3057\u3001\u6700\u521d\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u306e\u3088\u308a\u76f4\u63a5\u7684\u306a\u5fdc\u7b54\u3068\u6bd4\u8f03\u3057\u307e\u3059\u3002\u30d9\u30f3\u30c0\u30fc\u3001SOW\u3001\u304a\u3088\u3073\u8acb\u6c42\u66f8\u306b\u3064\u3044\u3066\u3055\u3089\u306b\u3044\u304f\u3064\u304b\u8cea\u554f\u3057\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u53d7\u3051\u53d6\u308b\u5fdc\u7b54\u306b\u6e80\u8db3\u3059\u308b\u307e\u3067\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u7e70\u308a\u8fd4\u3057\u6539\u5584\u3057\u307e\u3059\u3002</p> </li> </ol> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01_Woodgrove\u9280\u884c\u5951\u7d04\u7ba1\u7406_\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u6b63\u5e38\u306b\u5b9f\u88c5\u3057\u307e\u3057\u305f\uff01</p>"},{"location":"ja/06-Improve-RAG-Accuracy/","title":"RAG\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u308b","text":"\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u307e\u3059\u304b\uff1f <p>\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306b\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u3092\u52b9\u679c\u7684\u306b\u7d71\u5408\u3059\u308b\u306b\u306f\u3001\u65e2\u5b58\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3084\u95a2\u4fc2\u306b\u5408\u308f\u305b\u3066\u9069\u5fdc\u3055\u305b\u308b\u3053\u3068\u304c\u91cd\u8981\u3067\u3059\u3002</p> <p>1. \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u306f\u3001\u6587\u8108\u7684\u306a\u7406\u89e3\u306b\u57fa\u3065\u3044\u3066\u691c\u7d22\u7d50\u679c\u3092\u4e26\u3079\u66ff\u3048\u308b\u3053\u3068\u3067\u691c\u7d22\u306e\u95a2\u9023\u6027\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002\u30c7\u30fc\u30bf\u306b\u5408\u308f\u305b\u3066\u8abf\u6574\u3059\u308b\u306b\u306f\uff1a</p> <ul> <li>\u65e2\u5b58\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u7406\u89e3\u3059\u308b\uff1a\u73fe\u5728\u306e\u5b9f\u88c5\u3092\u78ba\u8a8d\u3057\u3001\u30c7\u30fc\u30bf\u3092\u3069\u306e\u3088\u3046\u306b\u51e6\u7406\u3057\u30e9\u30f3\u30af\u4ed8\u3051\u3059\u308b\u304b\u3092\u7406\u89e3\u3057\u307e\u3059\u3002</li> <li>\u30e9\u30f3\u30ad\u30f3\u30b0\u95a2\u6570\u3092\u9069\u5fdc\u3055\u305b\u308b\uff1a\u30c7\u30fc\u30bf\u5185\u306e\u72ec\u81ea\u306e\u5c5e\u6027\u3084\u95a2\u4fc2\u3092\u8003\u616e\u3059\u308b\u3088\u3046\u306b\u30e9\u30f3\u30ad\u30f3\u30b0\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u306f\u3001\u91cd\u307f\u4ed8\u3051\u306e\u8abf\u6574\u3084\u95a2\u9023\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b\u305f\u3081\u306e\u8ffd\u52a0\u30c7\u30fc\u30bf\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u7d44\u307f\u8fbc\u307f\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</li> <li>\u30c6\u30b9\u30c8\u3068\u691c\u8a3c\uff1a\u4fee\u6b63\u5f8c\u3001\u30e9\u30f3\u30ab\u30fc\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u53b3\u5bc6\u306b\u30c6\u30b9\u30c8\u3057\u3001\u30c7\u30fc\u30bf\u8981\u7d20\u306e\u91cd\u8981\u6027\u3068\u6587\u8108\u3092\u6b63\u78ba\u306b\u53cd\u6620\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ul> <p>2. GraphRAG\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u4fee\u6b63\u3059\u308b \u30b0\u30e9\u30d5\u30ea\u30c8\u30ea\u30fc\u30d0\u30eb\u5f37\u5316\u751f\u6210\uff08GraphRAG\uff09\u306f\u3001\u77e5\u8b58\u30b0\u30e9\u30d5\u3068AI\u30e2\u30c7\u30eb\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u6587\u8108\u7684\u306b\u8c4a\u304b\u306a\u5fdc\u7b54\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002GraphRAG\u3092\u30c7\u30fc\u30bf\u306b\u5408\u308f\u305b\u308b\u306b\u306f\uff1a</p> <ul> <li>\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u5206\u6790\u3059\u308b\uff1a\u30c9\u30e1\u30a4\u30f3\u306b\u95a2\u9023\u3059\u308b\u30ce\u30fc\u30c9\uff08\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\uff09\u3068\u30a8\u30c3\u30b8\uff08\u95a2\u4fc2\uff09\u3092\u7279\u5b9a\u3057\u307e\u3059\u3002</li> <li>\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u8abf\u6574\u3059\u308b\uff1a\u7279\u5b9a\u306e\u30b0\u30e9\u30d5\u30b9\u30ad\u30fc\u30de\u3092\u52b9\u679c\u7684\u306b\u30ca\u30d3\u30b2\u30fc\u30c8\u3059\u308b\u305f\u3081\u306b\u3001\u65e2\u5b58\u306eGraphRAG\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u306f\u3001\u30c7\u30fc\u30bf\u306e\u95a2\u4fc2\u3092\u53cd\u6620\u3059\u308b\u6b63\u3057\u3044\u30ce\u30fc\u30c9\u3068\u30a8\u30c3\u30b8\u3092\u30c8\u30e9\u30d0\u30fc\u30b9\u3059\u308b\u305f\u3081\u306e\u30af\u30a8\u30ea\u306e\u66f4\u65b0\u304c\u542b\u307e\u308c\u307e\u3059\u3002</li> <li>AI\u30e2\u30c7\u30eb\u3068\u7d71\u5408\u3059\u308b\uff1aGraphRAG\u3092\u4ecb\u3057\u3066\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u304c\u3001\u6b63\u78ba\u306a\u6587\u8108\u3067\u5fdc\u7b54\u751f\u6210\u3092\u5f37\u5316\u3059\u308b\u305f\u3081\u306bAI\u30e2\u30c7\u30eb\u306b\u9069\u5207\u306b\u4f9b\u7d66\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ul> <p>3. \u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u624b\u9806\u3092\u6539\u8a02\u3059\u308b \u30c7\u30fc\u30bf\u3092\u6b63\u78ba\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u306f\u3001\u77e5\u8b58\u30b0\u30e9\u30d5\u306e\u6574\u5408\u6027\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u91cd\u8981\u3067\u3059\u3002\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\u3092\u9069\u5fdc\u3055\u305b\u308b\u306b\u306f\uff1a</p> <ul> <li>\u30c7\u30fc\u30bf\u95a2\u4fc2\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\uff1a\u30c7\u30fc\u30bf\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u304c\u3069\u306e\u3088\u3046\u306b\u95a2\u9023\u3057\u3066\u3044\u308b\u304b\u3092\u660e\u78ba\u306b\u5b9a\u7fa9\u3057\u3001\u77e5\u8b58\u30b0\u30e9\u30d5\u3092\u5f62\u6210\u3059\u308b\u30ce\u30fc\u30c9\u3068\u30a8\u30c3\u30b8\u3092\u78ba\u7acb\u3057\u307e\u3059\u3002</li> <li>\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f4\u65b0\u3059\u308b\uff1a\u5b9a\u7fa9\u3055\u308c\u305f\u30ce\u30fc\u30c9\u3068\u30a8\u30c3\u30b8\u306b\u5bfe\u5fdc\u3059\u308b\u9069\u5207\u306a\u30c6\u30fc\u30d6\u30eb\u3068\u30d5\u30a3\u30fc\u30eb\u30c9\u304b\u3089\u60c5\u5831\u3092\u62bd\u51fa\u3059\u308b\u3088\u3046\u306b\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002</li> <li>\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u691c\u8a3c\u3059\u308b\uff1a\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5f8c\u3001\u30c7\u30fc\u30bf\u304c\u77e5\u8b58\u30b0\u30e9\u30d5\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u5185\u306e\u610f\u56f3\u3057\u305f\u95a2\u4fc2\u3068\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u6b63\u78ba\u306b\u8868\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> </ul> <p>\u751f\u6210AI\uff08GenAI\uff09\u304c\u73fe\u4ee3\u306e\u4f01\u696d\u306b\u304a\u3044\u3066\u307e\u3059\u307e\u3059\u91cd\u8981\u306a\u5f79\u5272\u3092\u679c\u305f\u3059\u4e2d\u3067\u3001\u3053\u308c\u3089\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5bfe\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u306e\u4fe1\u983c\u306f\u3001\u305d\u306e\u5fdc\u7b54\u306e\u6b63\u78ba\u6027\u306b\u5927\u304d\u304f\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u8aa4\u3063\u305f\u56de\u7b54\u306b\u3088\u308b\u751f\u7523\u6027\u306e\u4f4e\u4e0b\u3068\u3001\u305d\u308c\u306b\u4f34\u3046\u30e6\u30fc\u30b6\u30fc\u306e\u4fe1\u983c\u306e\u55aa\u5931\u306f\u3001\u898b\u904e\u3054\u3059\u3053\u3068\u306e\u3067\u304d\u306a\u3044\u554f\u984c\u3067\u3059\u3002\u591a\u304f\u306e\u7d44\u7e54\u306b\u3068\u3063\u3066\u3001GenAI\u30a2\u30d7\u30ea\u3092\u5c0e\u5165\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u6c7a\u5b9a\u306f\u3001\u30a2\u30d7\u30ea\u306e\u5fdc\u7b54\u306e\u6b63\u78ba\u6027\u3092\u8a31\u5bb9\u3067\u304d\u308b\u30ec\u30d9\u30eb\u307e\u3067\u9ad8\u3081\u308b\u80fd\u529b\u306b\u304b\u304b\u3063\u3066\u3044\u307e\u3059\u3002</p> <p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001Semantic Ranking\u3068GraphRAG\u3092\u4f7f\u7528\u3057\u3066\u3001Woodgrove Bank Contract Management \u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u5fdc\u7b54\u306e\u6b63\u78ba\u6027\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3053\u3068\u3092\u9054\u6210\u3057\u307e\u3059\uff1a</p> <ul> <li> Semantic Ranking\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b</li> <li> Semantic Ranking\u3092\u4f7f\u7528\u3057\u3066\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u7d50\u679c\u3092\u518d\u30e9\u30f3\u30af\u4ed8\u3051\u3059\u308b</li> <li> GraphRAG\u3068Apache AGE\u62e1\u5f35\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b</li> <li> AGE\u62e1\u5f35\u3092\u5b9f\u88c5\u3057\u3066\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u30b0\u30e9\u30d5\u30af\u30a8\u30ea\u3092\u53ef\u80fd\u306b\u3059\u308b</li> </ul>"},{"location":"ja/06-Improve-RAG-Accuracy/#_1","title":"\u6b63\u78ba\u6027\u306e\u554f\u984c","text":"<p>\u5927\u5e45\u306a\u9032\u6b69\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001GenAI\u306b\u3068\u3063\u3066\u6b63\u78ba\u6027\u306f\u4f9d\u7136\u3068\u3057\u3066\u8ab2\u984c\u3067\u3059\u3002Retrieval Augmented Generation\uff08RAG\uff09\u306f\u3001\u5fdc\u7b54\u3092\u4e8b\u5b9f\u30c7\u30fc\u30bf\u306b\u57fa\u3065\u304b\u305b\u308b\u3053\u3068\u3067\u652f\u63f4\u3057\u307e\u3059\u3002\u305d\u308c\u3067\u3082\u3001\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u304c\u62e1\u5927\u3057\u305f\u308a\u3001\u6587\u66f8\u304c\u975e\u5e38\u306b\u985e\u4f3c\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u6280\u8853\u304c\u5931\u6557\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u4fe1\u983c\u3092\u5931\u3044\u3001\u751f\u7523\u6027\u304c\u4f4e\u4e0b\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u6b63\u78ba\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b\u306b\u306f\u3001\u3055\u307e\u3056\u307e\u306a\u6280\u8853\u3092\u901a\u3058\u3066\u60c5\u5831\u691c\u7d22\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u6700\u9069\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4e00\u822c\u7684\u306a\u65b9\u6cd5\u306b\u306f\u3001\u30c1\u30e3\u30f3\u30af\u5316\u3001\u5927\u304d\u306a\u57cb\u3081\u8fbc\u307f\u3001\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22\u304c\u542b\u307e\u308c\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3084GraphRAG\u306e\u3088\u3046\u306a\u9ad8\u5ea6\u3067\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u56fa\u6709\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u304c\u4e0d\u53ef\u6b20\u3067\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/#genai","title":"\u9ad8\u5ea6\u306a\u6280\u8853\u3067GenAI\u306e\u6b63\u78ba\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b","text":"<p>Semantic Ranking\u3084GraphRAG\u306e\u3088\u3046\u306a\u9769\u65b0\u306f\u3001\u6b63\u78ba\u6027\u306e\u554f\u984c\u306b\u5bfe\u51e6\u3059\u308b\u305f\u3081\u306b\u91cd\u8981\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u6280\u8853\u306f\u3001AI\u30e2\u30c7\u30eb\u306e\u5fdc\u7b54\u306b\u304a\u3051\u308b\u30c7\u30fc\u30bf\u306e\u57fa\u76e4\u5316\u306e\u65b9\u6cd5\u3092\u6539\u5584\u3059\u308b\u3053\u3068\u3067\u3001RAG\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u5f37\u5316\u3057\u3001\u7cbe\u5ea6\u3068\u4fe1\u983c\u6027\u3092\u9ad8\u3081\u307e\u3059\u3002\u9ad8\u5ea6\u306a\u6280\u8853\u3092\u901a\u3058\u3066\u60c5\u5831\u691c\u7d22\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u6700\u9069\u5316\u3059\u308b\u3053\u3068\u3067\u3001GenAI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u6b63\u78ba\u3067\u4fe1\u983c\u3067\u304d\u308b\u6d1e\u5bdf\u306b\u6e80\u3061\u305f\u5fdc\u7b54\u3092\u63d0\u4f9b\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u4fe1\u983c\u3068\u751f\u7523\u6027\u3092\u7dad\u6301\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30bf\u30d6\u3092\u9078\u629e\u3057\u3066\u3001Semantic Ranking\u3068GraphRAG\u304cRAG\u306e\u6b63\u78ba\u6027\u3092\u3069\u306e\u3088\u3046\u306b\u5411\u4e0a\u3055\u305b\u308b\u304b\u3092\u7406\u89e3\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0GraphRAG <p>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u306f\u3001\u60c5\u5831\u691c\u7d22\u30b7\u30b9\u30c6\u30e0\u306b\u304a\u3044\u3066\u3001\u5358\u306a\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\u30de\u30c3\u30c1\u30f3\u30b0\u306b\u983c\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u30af\u30a8\u30ea\u3084\u6587\u66f8\u306e\u6587\u8108\u3084\u610f\u5473\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u3067\u691c\u7d22\u7d50\u679c\u306e\u95a2\u9023\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b\u9ad8\u5ea6\u306a\u6280\u8853\u3067\u3059\u3002\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u3068\u6a5f\u68b0\u5b66\u7fd2\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u306f\u5358\u8a9e\u3084\u6982\u5ff5\u306e\u95a2\u4fc2\u3092\u5206\u6790\u3057\u3001\u3088\u308a\u6b63\u78ba\u3067\u610f\u5473\u306e\u3042\u308b\u7d50\u679c\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u306f\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u306e\u610f\u56f3\u3092\u3088\u308a\u3088\u304f\u7406\u89e3\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u6c42\u3081\u308b\u3082\u306e\u3068\u6587\u8108\u7684\u306b\u4e00\u81f4\u3057\u305f\u7d50\u679c\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u306e\u5229\u70b9\u306b\u306f\u3001\u691c\u7d22\u7d50\u679c\u306e\u7cbe\u5ea6\u5411\u4e0a\u3001\u30e6\u30fc\u30b6\u30fc\u6e80\u8db3\u5ea6\u306e\u5411\u4e0a\u3001\u60c5\u5831\u306e\u52b9\u7387\u7684\u306a\u53d6\u5f97\u304c\u542b\u307e\u308c\u3001\u73fe\u4ee3\u306e\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3084\u63a8\u85a6\u30b7\u30b9\u30c6\u30e0\u306b\u3068\u3063\u3066\u5f37\u529b\u306a\u30c4\u30fc\u30eb\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <p>GraphRAG\u306f\u3001Microsoft Research\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u60c5\u5831\u691c\u7d22\u3068\u751f\u6210\u306e\u9769\u65b0\u7684\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3001\u77e5\u8b58\u30b0\u30e9\u30d5\u306e\u529b\u3068\u5927\u898f\u6a21\u8a00\u8a9e\u30e2\u30c7\u30eb\uff08LLM\uff09\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u751f\u6210\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u7cbe\u5ea6\u3068\u95a2\u9023\u6027\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002GraphRAG\u306f\u3001\u77e5\u8b58\u30b0\u30e9\u30d5\u304b\u3089\u306e\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u691c\u7d22\u30d7\u30ed\u30bb\u30b9\u306b\u7d71\u5408\u3059\u308b\u3053\u3068\u3067\u3001LLM\u304c\u3088\u308a\u6587\u8108\u306b\u5373\u3057\u305f\u6d1e\u5bdf\u306b\u6e80\u3061\u305f\u5fdc\u7b54\u3092\u63d0\u4f9b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u65b9\u6cd5\u306b\u3088\u308a\u3001\u30e2\u30c7\u30eb\u306f\u8907\u96d1\u306a\u30af\u30a8\u30ea\u3092\u7406\u89e3\u3057\u3001\u3055\u307e\u3056\u307e\u306a\u30bd\u30fc\u30b9\u304b\u3089\u60c5\u5831\u3092\u7d71\u5408\u3059\u308b\u80fd\u529b\u304c\u5411\u4e0a\u3057\u3001\u3088\u308a\u6b63\u78ba\u3067\u60c5\u5831\u8c4a\u5bcc\u306a\u51fa\u529b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002GraphRAG\u306e\u5229\u70b9\u306b\u306f\u3001\u60c5\u5831\u691c\u7d22\u306e\u6539\u5584\u3001\u63a8\u8ad6\u80fd\u529b\u306e\u5411\u4e0a\u3001\u8907\u96d1\u307e\u305f\u306f\u591a\u9762\u7684\u306a\u8cea\u554f\u306b\u5bfe\u3057\u3066\u3082\u6b63\u78ba\u306a\u56de\u7b54\u3092\u63d0\u4f9b\u3059\u308b\u80fd\u529b\u304c\u542b\u307e\u308c\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/01/","title":"6.1 \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u7406\u89e3\u3059\u308b","text":"<p>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u306f\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u7d50\u679c\u3092\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0\u3059\u308b\u3053\u3068\u3067\u3001\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u3001\u3088\u308a\u95a2\u9023\u6027\u306e\u9ad8\u3044\u9805\u76ee\u3092\u30e9\u30f3\u30ad\u30f3\u30b0\u30ea\u30b9\u30c8\u306e\u4e0a\u4f4d\u306b\u6301\u3063\u3066\u304d\u307e\u3059\u3002Azure Database for PostgreSQL \u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u306f\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0 \u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u691c\u7d22\u7d50\u679c\u306e\u7cbe\u5ea6\u3068\u95a2\u9023\u6027\u3092\u5411\u4e0a\u3055\u305b\u3001\u751f\u6210\u7684 AI (GenAI) \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3051\u308b\u60c5\u5831\u691c\u7d22\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u5927\u5e45\u306b\u6539\u5584\u3057\u307e\u3059\u3002\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u304c\u4e3b\u306b2\u3064\u306e\u30d9\u30af\u30bf\u30fc\u57cb\u3081\u8fbc\u307f\u9593\u306e\u985e\u4f3c\u6027\u3092\u6e2c\u5b9a\u3059\u308b\u306e\u306b\u5bfe\u3057\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u306f\u30c6\u30ad\u30b9\u30c8\u6587\u5b57\u5217\u9593\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u306a\u95a2\u9023\u6027\u3092\u5b9f\u969b\u306e\u30c6\u30ad\u30b9\u30c8\u30ec\u30d9\u30eb\u3067\u5206\u6790\u3059\u308b\u3053\u3068\u3067\u3001\u3088\u308a\u6df1\u304f\u6398\u308a\u4e0b\u3052\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u691c\u7d22\u7d50\u679c\u304c\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u3068\u3088\u308a\u6587\u8108\u7684\u306b\u4e00\u81f4\u3057\u3001\u60c5\u5831\u691c\u7d22\u304c\u6539\u5584\u3055\u308c\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u6e80\u8db3\u5ea6\u304c\u5411\u4e0a\u3057\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/01/#_1","title":"\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306b\u3088\u308b\u691c\u7d22\u7d50\u679c\u306e\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0","text":"<p>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306f\u3001\u691c\u7d22\u30af\u30a8\u30ea\u3068\u691c\u7d22\u5bfe\u8c61\u306e\u9805\u76ee\u306e\u30c6\u30ad\u30b9\u30c8\u3068\u3044\u30462\u3064\u306e\u30c6\u30ad\u30b9\u30c8\u6587\u5b57\u5217\u3092\u6bd4\u8f03\u3057\u307e\u3059\u3002\u30e9\u30f3\u30ab\u30fc\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u6587\u5b57\u5217\u304c\u30af\u30a8\u30ea\u306b\u3069\u308c\u3060\u3051\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b\u3092\u793a\u3059\u95a2\u9023\u6027\u30b9\u30b3\u30a2\u3092\u751f\u6210\u3057\u3001\u30c6\u30ad\u30b9\u30c8\u304c\u30af\u30a8\u30ea\u306b\u5bfe\u3059\u308b\u7b54\u3048\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u57fa\u672c\u7684\u306b\u5224\u65ad\u3057\u307e\u3059\u3002\u901a\u5e38\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u306f\u6a5f\u68b0\u5b66\u7fd2\u30e2\u30c7\u30eb\u3067\u3042\u308a\u3001\u30e9\u30f3\u30ad\u30f3\u30b0\u30bf\u30b9\u30af\u7528\u306b\u5fae\u8abf\u6574\u3055\u308c\u305fBERT\u8a00\u8a9e\u30e2\u30c7\u30eb\u306e\u30d0\u30ea\u30a2\u30f3\u30c8\u3067\u3042\u308b\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u304c\u3001\u5927\u898f\u6a21\u8a00\u8a9e\u30e2\u30c7\u30eb\uff08LLM\uff09\u3067\u3042\u308b\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306f\u3001\u30af\u30ed\u30b9\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30e2\u30c7\u30eb\u3068\u3082\u547c\u3070\u308c\u30012\u3064\u306e\u30c6\u30ad\u30b9\u30c8\u6587\u5b57\u5217\u3092\u5165\u529b\u3068\u3057\u3066\u53d7\u3051\u53d6\u308a\u3001\u901a\u5e380\u304b\u30891\u306e\u7bc4\u56f2\u306e\u95a2\u9023\u6027\u30b9\u30b3\u30a2\u3092\u51fa\u529b\u3057\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/01/#postgresql","title":"PostgreSQL\u304b\u3089\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u63a8\u8ad6","text":"<p><code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001Azure Machine Learning \u30aa\u30f3\u30e9\u30a4\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8 \u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u6a5f\u68b0\u5b66\u7fd2\u30e2\u30c7\u30eb\u3092 PostgreSQL \u5185\u304b\u3089\u76f4\u63a5\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p></p> <p><code>azure_ml.invoke()</code> \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001SQL \u30af\u30a8\u30ea\u3092\u901a\u3058\u3066\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306b\u3088\u308b\u63a8\u8ad6\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30ad\u30fc\u30ef\u30fc\u30c9\u30de\u30c3\u30c1\u30f3\u30b0\u306b\u306e\u307f\u4f9d\u5b58\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u306a\u95a2\u9023\u6027\u306b\u57fa\u3065\u3044\u3066\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u7d50\u679c\u3092\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/02/","title":"6.2 PostgreSQL\u3067\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u4f7f\u7528\u3059\u308b","text":"<p>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0 \u306e\u529b\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u53d6\u5f97\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u3001\u751f\u6210AI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6210\u529f\u3092\u78ba\u5b9f\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30bf\u30b9\u30af\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306b\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u95a2\u6570\uff08UDF\uff09\u3092\u4f5c\u6210\u3057\u3001Azure AI\u62e1\u5f35\u6a5f\u80fd\u306e\u30e2\u30c7\u30eb\u63a8\u8ad6\u6a5f\u80fd\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001\u62e1\u5f35\u6a5f\u80fd\u306e <code>azure_ml.invoke()</code> \u30e1\u30bd\u30c3\u30c9\u3092UDF\u5185\u304b\u3089\u547c\u3073\u51fa\u3057\u3001SQL\u30af\u30a8\u30ea\u5185\u3067\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u30e2\u30c7\u30eb\u3092\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u547c\u3073\u51fa\u3057\u307e\u3059\u3002</p> \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u30e2\u30c7\u30eb\u306fAzure ML\u306b\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u307e\u3057\u305f\u3002 <p>azd up \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u4e2d\u306b\u9078\u629e\u3057\u305f\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ab\u30fc\u8a2d\u5b9a\u306b\u5fdc\u3058\u3066\u3001\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306e\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306b\u306f\u3001<code>mini</code>\u30e2\u30c7\u30eb: ms-marco-MiniLM-L6-v2 \u307e\u305f\u306f <code>bge</code>\u30e2\u30c7\u30eb: BGE-reranker-v2-m3 \u30af\u30ed\u30b9\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30e2\u30c7\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001Azure Machine Learning (AML) \u63a8\u8ad6\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306e\u30dd\u30b9\u30c8\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30e2\u30c7\u30eb\u306f\u8efd\u91cf\u3067\u3001\u30c7\u30d7\u30ed\u30a4\u304c\u5bb9\u6613\u3067\u3042\u308a\u3001\u9ad8\u901f\u306a\u63a8\u8ad6\u3092\u63d0\u4f9b\u3059\u308b\u305f\u3081\u306b\u9078\u3070\u308c\u307e\u3057\u305f\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/02/#_1","title":"\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u306e\u7d71\u5408\u3068Azure ML\u304b\u3089\u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u306e\u547c\u3073\u51fa\u3057\u3092\u7c21\u7d20\u5316\u3059\u308b\u305f\u3081\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u95a2\u6570\uff08UDF\uff09\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u3001<code>azure_ai</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3001SQL\u30af\u30a8\u30ea\u304b\u3089AML\u63a8\u8ad6\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3078\u306e\u30ea\u30e2\u30fc\u30c8\u30b3\u30fc\u30eb\u3092\u76f4\u63a5\u884c\u3044\u307e\u3059\u3002UDF\u5185\u3067 <code>azure_ml.invoke()</code> \u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u30e2\u30c7\u30eb\u3078\u306e\u547c\u3073\u51fa\u3057\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> \u62e1\u5f35\u6a5f\u80fd\u306eAzure ML\u3078\u306e\u63a5\u7d9a\u306f\u65e2\u306b\u8a2d\u5b9a\u6e08\u307f\u3067\u3059 <p>\u30bf\u30b9\u30af 3.2 Azure AI\u62e1\u5f35\u6a5f\u80fd\u3092\u8a2d\u5b9a\u3059\u308b \u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066Azure AI\u62e1\u5f35\u6a5f\u80fd\u306eAzure ML\u3078\u306e\u63a5\u7d9a\u3092\u65e2\u306b\u8a2d\u5b9a\u3057\u305f\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044:</p> <pre><code>SELECT azure_ai.set_setting('azure_ml.scoring_endpoint','&lt;endpoint&gt;');\nSELECT azure_ai.set_setting('azure_ml.endpoint_key', '&lt;api-key&gt;');\n</code></pre> <p>UDF\u306fSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u3067\u5b9a\u7fa9\u3055\u308c\u3001\u30af\u30a8\u30ea\u306b\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d44\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306bpgAdmin\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <ol> <li> <p>\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u958b\u3044\u3066\u3044\u308bpgAdmin\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u623b\u308a\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u3067\u3001PostgreSQL\u30b5\u30fc\u30d0\u30fc\u306e\u4e0b\u306b\u3042\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</p> </li> <li> <p>contracts\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u30af\u30a8\u30ea\u30c4\u30fc\u30eb\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p><code>semantic_reranking</code>\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u30af\u30a8\u30ea\u306e\u3044\u305a\u308c\u304b\u3092\u5b9f\u884c\u3057\u307e\u3059:</p> <ul> <li><code>mini</code>\u30e2\u30c7\u30eb\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306f\u6700\u521d\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059</li> <li><code>bge</code>\u30e2\u30c7\u30eb\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u306f2\u756a\u76ee\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059</li> </ul> <p>\u4ee5\u4e0b\u306eSQL\u30b3\u30de\u30f3\u30c9\u306e\u3044\u305a\u308c\u304b\u3092pgAdmin\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> mini\u30e2\u30c7\u30eb\u7528 - \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0UDF\u306e\u4f5c\u6210<pre><code>CREATE OR REPLACE FUNCTION semantic_reranking(query TEXT, vector_search_results TEXT[])\nRETURNS TABLE (content TEXT, relevance NUMERIC) AS $$\nBEGIN\n    RETURN QUERY\n    WITH\n    json_pairs AS (\n        SELECT jsonb_build_object(\n            'pairs', jsonb_agg(jsonb_build_array(query, content_))\n        ) AS json_pairs_data\n        FROM (\n            SELECT a.content AS content_\n            FROM unnest(vector_search_results) AS a(content)\n        )\n    ),\n    relevance_scores_raw AS (\n        SELECT azure_ml.invoke(\n            (SELECT json_pairs_data FROM json_pairs),\n            deployment_name =&gt; 'msmarco-minilm-deployment-6',\n            timeout_ms =&gt; 120000\n        ) AS response_json\n    ),\n    relevance_scores AS (\n    SELECT jsonb_array_elements(response_json) AS item\n    FROM relevance_scores_raw\n    )\n    SELECT\n        item -&gt;&gt; 'content' AS content,\n        (item -&gt;&gt; 'score')::NUMERIC AS relevance\n    FROM relevance_scores;\nEND $$ LANGUAGE plpgsql;\n</code></pre> bge\u30e2\u30c7\u30eb\u7528 - \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0UDF\u306e\u4f5c\u6210<pre><code>CREATE OR REPLACE FUNCTION semantic_reranking(query TEXT, vector_search_results TEXT[])\nRETURNS TABLE (content TEXT, relevance NUMERIC) AS $$\nBEGIN\n    RETURN QUERY\n        WITH\n        json_pairs AS(\n            SELECT jsonb_build_object(\n                    'pairs',\n                    jsonb_agg(\n                        jsonb_build_array(query, content_)\n                    )\n                ) AS json_pairs_data\n            FROM (\n                SELECT a.content as content_\n                FROM unnest(vector_search_results) as a(content)\n            )\n        ),\n        relevance_scores AS(\n            SELECT jsonb_array_elements(invoke.invoke) as relevance_results\n            FROM azure_ml.invoke(\n                    (SELECT json_pairs_data FROM json_pairs),\n                    deployment_name=&gt;'bgev2m3-v1', timeout_ms =&gt; 120000)\n        ),\n        relevance_scores_rn AS (\n            SELECT *, ROW_NUMBER() OVER () AS idx\n            FROM relevance_scores\n        )\n        SELECT a.content,\n               (r.relevance_results::TEXT)::NUMERIC AS relevance\n            FROM\n                unnest(vector_search_results) WITH ORDINALITY AS a(content, idx2)\n            JOIN\n                relevance_scores_rn AS r(relevance_results, idx)\n            ON\n                a.idx2 = r.idx;\nEND $$ LANGUAGE plpgsql;\n</code></pre> <code>semantic_reranking</code>\u95a2\u6570\u306f\u3069\u306e\u3088\u3046\u306b\u6a5f\u80fd\u3057\u307e\u3059\u304b\uff1f <p><code>semantic_reranking</code>\u95a2\u6570\u306f\u3001\u4e0e\u3048\u3089\u308c\u305f\u30af\u30a8\u30ea\u306b\u5bfe\u3059\u308b\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u306a\u95a2\u9023\u6027\u306b\u57fa\u3065\u3044\u3066\u691c\u7d22\u7d50\u679c\u3092\u518d\u30e9\u30f3\u30af\u4ed8\u3051\u3059\u308b\u3053\u3068\u3067\u3001\u691c\u7d22\u7d50\u679c\u3092\u5f37\u5316\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u305d\u306e\u52d5\u4f5c\u306e\u6982\u8981\u3067\u3059\uff1a</p> <p>\u5165\u529b\u30d1\u30e9\u30e1\u30fc\u30bf</p> <ul> <li><code>query</code>: \u691c\u7d22\u30af\u30a8\u30ea\u3092\u8868\u3059\u30c6\u30ad\u30b9\u30c8\u6587\u5b57\u5217\u3002</li> <li><code>vector_search_results</code>: \u30d9\u30af\u30bf\u30fc\u691c\u7d22\u304b\u3089\u5f97\u3089\u308c\u305f\u521d\u671f\u691c\u7d22\u7d50\u679c\u3092\u8868\u3059\u30c6\u30ad\u30b9\u30c8\u6587\u5b57\u5217\u306e\u914d\u5217\u3002</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li>\u95a2\u6570\u306f2\u3064\u306e\u5217\u3092\u6301\u3064\u30c6\u30fc\u30d6\u30eb\u3092\u8fd4\u3057\u307e\u3059\uff1a<code>content</code>\uff08\u5143\u306e\u691c\u7d22\u7d50\u679c\u306e\u5185\u5bb9\uff09\u3068<code>relevance</code>\uff08\u95a2\u9023\u6027\u30b9\u30b3\u30a2\u3092\u8868\u3059NUMERIC\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\u3002</li> </ul> <p>\u624b\u9806</p> <ul> <li>Json\u30da\u30a2\u306e\u69cb\u7bc9: \u95a2\u6570\u306f\u3001\u30af\u30a8\u30ea\u3068\u5404\u521d\u671f\u691c\u7d22\u7d50\u679c\u3092\u30da\u30a2\u306b\u3057\u305fJSON\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u307e\u308a\u307e\u3059\u3002</li> <li>\u95a2\u9023\u6027\u30b9\u30b3\u30a2\u30ea\u30f3\u30b0: \u6b21\u306b\u3001<code>azure_ml.invoke</code>\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3001JSON\u30da\u30a2\u3092Azure Machine Learning\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u9001\u4fe1\u3057\u3001\u5404\u30da\u30a2\u306e\u95a2\u9023\u6027\u30b9\u30b3\u30a2\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002\u7d50\u679c\u306fJSON\u914d\u5217\u3068\u3057\u3066\u8fd4\u3055\u308c\u307e\u3059\u3002</li> <li>\u884c\u756a\u53f7\u306e\u5272\u308a\u5f53\u3066: \u95a2\u9023\u6027\u30b9\u30b3\u30a2\u306b\u884c\u756a\u53f7\u3092\u5272\u308a\u5f53\u3066\u3066\u9806\u5e8f\u3092\u7dad\u6301\u3057\u307e\u3059\u3002</li> <li>\u7d50\u679c\u306e\u7d50\u5408: \u6700\u5f8c\u306b\u3001\u5143\u306e\u691c\u7d22\u7d50\u679c\u3068\u5bfe\u5fdc\u3059\u308b\u95a2\u9023\u6027\u30b9\u30b3\u30a2\u3092\u884c\u756a\u53f7\u3092\u4f7f\u7528\u3057\u3066\u7d50\u5408\u3057\u3001\u5404\u7d50\u679c\u304c\u6b63\u3057\u3044\u95a2\u9023\u6027\u30b9\u30b3\u30a2\u3068\u30da\u30a2\u306b\u306a\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</li> </ul> </li> </ol> <p>\u3053\u306e\u95a2\u6570\u306e\u5168\u4f53\u7684\u306a\u76ee\u7684\u306f\u3001Azure ML \u4e0a\u306b\u30db\u30b9\u30c8\u3055\u308c\u3066\u3044\u308b\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e2\u30c7\u30eb\u3092\u6d3b\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u691c\u7d22\u7d50\u679c\u306e\u95a2\u9023\u6027\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u306b\u5bfe\u3057\u3066\u3088\u308a\u6587\u8108\u7684\u306b\u95a2\u9023\u6027\u306e\u9ad8\u3044\u7d50\u679c\u304c\u8fd4\u3055\u308c\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/02/#udf","title":"UDF\u306e\u30c6\u30b9\u30c8","text":"<p>\u30af\u30a8\u30ea\u3067_\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0_\u304c\u3069\u306e\u3088\u3046\u306b\u6a5f\u80fd\u3059\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001pgAdmin\u304b\u3089\u30c6\u30b9\u30c8\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u4f8b\u306f\u3001\u4f5c\u6210\u3057\u305f<code>semantic_reranking</code> UDF\u3092\u4f7f\u7528\u3057\u3066\u3001<code>sow_chunks</code>\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u300c\u30b3\u30b9\u30c8\u7ba1\u7406\u3068\u6700\u9069\u5316\u300d\u3068\u3044\u3046\u30af\u30a8\u30ea\u306e\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u7d50\u679c\u3092\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30ea\u30e9\u30f3\u30ad\u30f3\u30b0\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> <ol> <li> <p>pgAdmin\u306e\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001\u6b21\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3001\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p>\u6b21\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092pgAdmin\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01\uff08<code>mini</code>\u304a\u3088\u3073<code>bge</code>\u30e2\u30c7\u30eb\u306e\u4e21\u65b9\u3067\u52d5\u4f5c\u3057\u307e\u3059\uff09</p> \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u30af\u30a8\u30ea<pre><code>WITH vector_results AS (\n    SELECT content FROM sow_chunks c\n    ORDER BY embedding &lt;=&gt; azure_openai.create_embeddings('embeddings', 'cost management and optimization')::vector\n    LIMIT 10\n)\nSELECT content, relevance\nFROM semantic_reranking('cost management and optimization',  ARRAY(SELECT content from vector_results))\nORDER BY relevance DESC\nLIMIT 3;\n</code></pre> </li> </ol> <p>\u6b21\u306b\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u5fdc\u7b54\u306e\u7cbe\u5ea6\u3068\u54c1\u8cea\u3092\u5411\u4e0a\u3055\u305b\u308b\u305f\u3081\u306b\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b<code>get_sow_chunks</code>\u95a2\u6570\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/03/","title":"6.3 \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3067\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u66f4\u65b0\u3059\u308b","text":"<p>\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001API\u3092\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306b\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u5404SOW\u304b\u3089\u62bd\u51fa\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30f3\u30c4\u30d6\u30ed\u30c3\u30af\u3067\u3042\u308bSOW\u30c1\u30e3\u30f3\u30af\u306e\u691c\u7d22\u3068\u53d6\u5f97\u65b9\u6cd5\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/03/#_1","title":"\u95a2\u6570\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306bLangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u4f7f\u7528\u3059\u308b_\u95a2\u6570\u547c\u3073\u51fa\u3057_\u30d1\u30bf\u30fc\u30f3\u306b\u5f93\u3063\u3066\u3001Python\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u304b\u3089\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002<code>src/api/app/functions/chat_functions.py</code>\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3001\u524d\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u8ffd\u52a0\u3057\u305f<code>semantic_reranking</code> UDF\u3092\u4f7f\u7528\u3057\u3066\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e<code>find_sow_chunks_with_semantic_ranking</code>\u95a2\u6570\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4eca\u3059\u3050Visual Studio Code\u3067\u958b\u3044\u3066\u3001\u95a2\u6570\u306e\u30b3\u30fc\u30c9\u3092\u63a2\u7d22\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3067SOW\u30c1\u30e3\u30f3\u30af\u3092\u898b\u3064\u3051\u308b\u30b3\u30fc\u30c9 src/api/app/functions/chat_functions.py<pre><code>async def find_sow_chunks_with_semantic_ranking(self, user_query: str, vendor_id: int = None, sow_id: int = None, max_results: int = 3):\n        \"\"\"\n        Retrieves content chunks similar to the user query for the specified SOW.\n        \"\"\"\n\n        # Get the embeddings for the user query\n        query_embeddings = await self.__create_query_embeddings(user_query)\n\n        # Create a vector search query\n        cte_query = f\"SELECT content FROM sow_chunks\"\n        cte_query += f\" WHERE sow_id = {sow_id}\" if sow_id is not None else f\" WHERE vendor_id = {vendor_id}\" if vendor_id is not None else \"\"\n        cte_query += f\" ORDER BY embedding &lt;=&gt; '{query_embeddings}'\"\n        cte_query += f\" LIMIT 10\"\n\n        # Create the semantic ranker query\n        query = f\"\"\"\n        WITH vector_results AS (\n            {cte_query}\n        )\n        SELECT content, relevance\n        FROM semantic_reranking('{user_query}',  ARRAY(SELECT content from vector_results))\n        ORDER BY relevance DESC\n        LIMIT {max_results};\n        \"\"\"\n\n        rows = await self.__execute_query(f'{query};')\n        return [dict(row) for row in rows]\n</code></pre> <ol> <li> <p>\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3059\u308b (18\u884c\u76ee): Azure OpenAI\u304c\u30e6\u30fc\u30b6\u30fc\u306e\u30af\u30a8\u30ea\u3092\u8868\u3059\u57cb\u3081\u8fbc\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u30af\u30a8\u30ea\u3092\u4f5c\u6210\u3059\u308b (21-24\u884c\u76ee): UDF\u306f\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u7d50\u679c\u3092\u5165\u529b\u3068\u3057\u3066\u671f\u5f85\u3059\u308b\u305f\u3081\u3001\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u30af\u30a8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30af\u30a8\u30ea\u306f<code>sow_chunks</code>\u30c6\u30fc\u30d6\u30eb\u306e<code>content</code>\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e\u3057\u3001\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u985e\u4f3c\u6027\u3067\u4e26\u3079\u66ff\u3048\u307e\u3059\u3002</p> </li> <li> <p>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u30af\u30a8\u30ea\u3092\u4f5c\u6210\u3059\u308b (27-35\u884c\u76ee): \u30d9\u30af\u30bf\u30fc\u691c\u7d22\u30af\u30a8\u30ea\u306e\u7d50\u679c\u306f\u3001<code>semantic_reranking</code> UDF\u3092\u547c\u3073\u51fa\u3059\u305f\u3081\u306b\u5fc5\u8981\u3067\u3059\u3002</p> <ul> <li>CTE\u3092\u4f5c\u6210\u3059\u308b (28-30\u884c\u76ee): \u5171\u901a\u30c6\u30fc\u30d6\u30eb\u5f0f\uff08CTE\uff09\u304c\u30d9\u30af\u30bf\u30fc\u691c\u7d22\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u30af\u30a8\u30ea\u304b\u3089\u30b3\u30f3\u30c6\u30f3\u30c4\u5024\u3068\u95a2\u9023\u6027\u30b9\u30b3\u30a2\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</li> <li><code>semantic_reranking</code> UDF\u3092\u5b9f\u884c\u3059\u308b (31-33\u884c\u76ee): CTE\u306e\u7d50\u679c\u3092\u4f7f\u7528\u3057\u3066\u3001<code>semantic_reranking</code> UDF\u3092\u4f7f\u7528\u3057\u3066\u7d50\u679c\u3092\u518d\u30e9\u30f3\u30af\u4ed8\u3051\u3057\u307e\u3059\u3002</li> <li>\u7d50\u679c\u3092\u5236\u9650\u3059\u308b (34\u884c\u76ee): \u3088\u308a\u95a2\u9023\u6027\u306e\u9ad8\u3044\u30ec\u30b3\u30fc\u30c9\u304cLLM\u306b\u9001\u4fe1\u3055\u308c\u308b\u3088\u3046\u306b\u3001\u7d50\u679c\u306e\u6570\u3092\u5236\u9650\u3057\u307e\u3059\u3002</li> </ul> </li> <li> <p>\u7d50\u679c\u3092\u8fd4\u3059 (37-38\u884c\u76ee): \u30af\u30a8\u30ea\u7d50\u679c\u304c\u62bd\u51fa\u3055\u308c\u3001LLM\u306b\u8fd4\u3055\u308c\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/03/#_2","title":"\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u5b9f\u88c5","text":"<p>SOW\u30c1\u30e3\u30f3\u30af\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u306e\u4ee3\u308f\u308a\u306b\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001LangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e<code>tools</code>\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u95a2\u6570\u3092\u7f6e\u304d\u63db\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002<code>find_sow_chunks</code> \u30c4\u30fc\u30eb \u3092<code>find_sow_chunks_with_semantic_ranking</code>\u95a2\u6570\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002</p> <ol> <li> <p>VS Code\u306e\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u3067\u3001<code>src/api/app/routers</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u79fb\u52d5\u3057\u3001<code>completions.py</code>\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u307e\u3059\u3002</p> </li> <li> <p><code>tools</code>\u914d\u5217\u5185\u3067\u3001\u6b21\u306e\u884c\u3092\u898b\u3064\u3051\u307e\u3059\u3002</p> Python<pre><code>StructuredTool.from_function(coroutine=cf.find_sow_chunks),\n</code></pre> </li> <li> <p>\u305d\u306e\u884c\u3092\u6b21\u306e\u3088\u3046\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002</p> <p>\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u95a2\u6570\u3092\u4f7f\u7528\u3059\u308b\u30b3\u30fc\u30c9\u3092\u633f\u5165\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> Python<pre><code>StructuredTool.from_function(coroutine=cf.find_sow_chunks_with_semantic_ranking),\n</code></pre> </li> <li> <p>\u65b0\u3057\u3044<code>tools</code>\u914d\u5217\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> Python<pre><code># Define tools for the agent to retrieve data from the database\ntools = [\n    # Hybrid search functions\n    StructuredTool.from_function(coroutine=cf.find_invoice_line_items),\n    StructuredTool.from_function(coroutine=cf.find_invoice_validation_results),\n    StructuredTool.from_function(coroutine=cf.find_milestone_deliverables),\n    StructuredTool.from_function(coroutine=cf.find_sow_chunks_with_semantic_ranking),\n    StructuredTool.from_function(coroutine=cf.find_sow_validation_results),\n    # Get invoice data functions\n    StructuredTool.from_function(coroutine=cf.get_invoice_id),\n    StructuredTool.from_function(coroutine=cf.get_invoice_line_items),\n    StructuredTool.from_function(coroutine=cf.get_invoice_validation_results),\n    StructuredTool.from_function(coroutine=cf.get_invoices),\n    # Get SOW data functions\n    StructuredTool.from_function(coroutine=cf.get_sow_chunks),\n    StructuredTool.from_function(coroutine=cf.get_sow_id),\n    StructuredTool.from_function(coroutine=cf.get_sow_milestones),\n    StructuredTool.from_function(coroutine=cf.get_milestone_deliverables),\n    StructuredTool.from_function(coroutine=cf.get_sow_validation_results),\n    StructuredTool.from_function(coroutine=cf.get_sows),\n    # Get vendor data functions\n    StructuredTool.from_function(coroutine=cf.get_vendors)\n]\n</code></pre> </li> <li> <p><code>completions.py</code>\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/03/#vs-code","title":"VS Code\u3067\u306e\u30c6\u30b9\u30c8","text":"<p>\u4ee5\u524d\u3068\u540c\u69d8\u306b\u3001Visual Studio Code\u3092\u4f7f\u7528\u3057\u3066\u66f4\u65b0\u3092\u30c6\u30b9\u30c8\u3057\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/03/#api","title":"API\u306e\u958b\u59cb","text":"<p>\u4ee5\u4e0b\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u3001VS Code\u3067API\u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3057\u307e\u3059\u3002</p> <ol> <li> <p>Visual Studio Code\u306e\u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0\u30d1\u30cd\u30eb\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u304b\u3089OS\u306b\u9069\u3057\u305fAPI\u30c7\u30d0\u30c3\u30ac\u30fc\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30c7\u30d0\u30c3\u30b0\u958b\u59cb\u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\uff08\u307e\u305f\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u306eF5\u30ad\u30fc\u3092\u62bc\u3057\u307e\u3059\uff09\u3002</p> <p></p> </li> <li> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u51fa\u529b\u306b<code>Application startup complete.</code>\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u3001API\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5b8c\u5168\u306b\u8d77\u52d5\u3059\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002</p> <p></p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/03/#_3","title":"\u30dd\u30fc\u30bf\u30eb\u306e\u958b\u59cb","text":"<p>API\u304c\u5b9f\u884c\u4e2d\u306e\u5834\u5408\u3001VS Code\u3067\u30dd\u30fc\u30bf\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e2\u56de\u76ee\u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002</p> <ol> <li> <p>Visual Studio Code \u306e Run and Debug \u30d1\u30cd\u30eb\u306b\u623b\u308a\u3001\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u304b\u3089 Portal Debugger \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>Start Debugging \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\uff08\u307e\u305f\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u306e F5 \u3092\u62bc\u3057\u307e\u3059\uff09\u3002</p> <p></p> </li> <li> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 Woodgrove Bank Contract Management Portal \u304c\u8d77\u52d5\u3057\u307e\u3059 (http://localhost:3000/)\u3002</p> </li> <li> <p>Dashboard \u30da\u30fc\u30b8\u3067\u3001\u6b21\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30c1\u30e3\u30c3\u30c8\u306b\u5165\u529b\u3057\u3066\u9001\u4fe1\u3057\u307e\u3059\uff1a</p> <p>\u6b21\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u30c1\u30e3\u30c3\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\uff01</p> <pre><code>Show me SOWs pertaining to cost management and optimization.\n</code></pre> </li> <li> <p>UDF \u3068\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u4f7f\u7528\u3057\u3066\u63d0\u4f9b\u3055\u308c\u308b\u7d50\u679c\u3092\u89b3\u5bdf\u3057\u307e\u3059\u3002</p> </li> </ol> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01Azure Database for PostgreSQL \u306e\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u6a5f\u80fd\u3092\u6d3b\u7528\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3057\u305f\uff01</p>"},{"location":"ja/06-Improve-RAG-Accuracy/04/","title":"6.4 GraphRAG\u306e\u30ec\u30d3\u30e5\u30fc","text":"<p>GraphRAG\uff08Graph Retrieval-Augmented Generation\uff09\u306f\u3001Microsoft Research\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u305f\u9769\u65b0\u7684\u306a\u6280\u8853\u3067\u3059\u3002\u3053\u308c\u306f\u3001Retrieval-Augmented Generation\uff08RAG\uff09\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u5fdc\u7b54\u306e\u7cbe\u5ea6\u3068\u95a2\u9023\u6027\u3092\u5927\u5e45\u306b\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002_Graph_\u306f\u3001\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3068\u305d\u306e\u95a2\u4fc2\u3092\u8868\u3059\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u6307\u3057\u307e\u3059\u3002\u3053\u306e\u69cb\u9020\u306f\u3001\u3057\u3070\u3057\u3070\u30ce\u30fc\u30c9\uff08\u9802\u70b9\uff09\u3068\u30a8\u30c3\u30b8\u3068\u3057\u3066\u8996\u899a\u5316\u3055\u308c\u3001\u30ce\u30fc\u30c9\u306f\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8868\u3057\u3001\u30a8\u30c3\u30b8\u306f\u3053\u308c\u3089\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u9593\u306e\u95a2\u4fc2\u307e\u305f\u306f\u63a5\u7d9a\u3092\u8868\u3057\u307e\u3059\u3002</p> <p>Azure Database for PostgreSQL\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u306f\u3001GraphRAG\u306f\u30bd\u30fc\u30b9\u30c7\u30fc\u30bf\u304b\u3089\u62bd\u51fa\u3055\u308c\u305f\u30ca\u30ec\u30c3\u30b8\u30b0\u30e9\u30d5\u306e\u69cb\u9020\u3092\u6d3b\u7528\u3057\u3066\u3001\u8a00\u8a9e\u30e2\u30c7\u30eb\u304b\u3089\u306e\u5fdc\u7b54\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u6539\u5584\u3057\u3001\u54c1\u8cea\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059\u3002GraphRAG\u3092PostgreSQL\u3068\u7d71\u5408\u3059\u308b\u3053\u3068\u3067\u3001\u60c5\u5831\u691c\u7d22\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u5f37\u5316\u3057\u3001\u3088\u308a\u6b63\u78ba\u3067\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u654f\u611f\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u60c5\u5831\u306e\u6b63\u78ba\u6027\u3068\u95a2\u9023\u6027\u304c\u91cd\u8981\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u7279\u306b\u6709\u7528\u3067\u3059\u3002</p> Azure Database for PostgreSQL\u3092\u4f7f\u7528\u3057\u305fGraphRAG\u306e\u3088\u308a\u5e83\u7bc4\u306a\u4f8b\u304c\u5fc5\u8981\u3067\u3059\u304b\uff1f <p>\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306f\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u6d3b\u7528\u3057\u3066RAG\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u308b\u65b9\u6cd5\u3092\u793a\u3059\u305f\u3081\u306b\u3001\u7c21\u7565\u5316\u3055\u308c\u305fGraphRAG\u306e\u5b9f\u88c5\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u30e9\u30f3\u30ad\u30f3\u30b0\u3068GraphRAG\u306e\u7d50\u679c\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u3088\u308a\u5305\u62ec\u7684\u306a\u4f8b\u306b\u3064\u3044\u3066\u306f\u3001Azure Database for PostgreSQL\u306e\u305f\u3081\u306eGraphRAG\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u7d39\u4ecb\u30d6\u30ed\u30b0\u6295\u7a3f\u304a\u3088\u3073\u95a2\u9023\u3059\u308bAzure Database for PostgreSQL\u306e\u305f\u3081\u306eGraphRAG\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/04/#agegraphrag","title":"AGE\u3092\u4f7f\u7528\u3057\u305fGraphRAG","text":"<p>Apache Graph Extension\uff08AGE\uff09\u306f\u3001Apache Incubator\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4e0b\u3067\u958b\u767a\u3055\u308c\u305fPostgreSQL\u62e1\u5f35\u6a5f\u80fd\u3067\u3059\u3002\u3053\u308c\u306f\u3001PostgreSQL\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u5185\u3067\u30b0\u30e9\u30d5\u51e6\u7406\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b\u5927\u304d\u306a\u9032\u6b69\u3092\u3082\u305f\u3089\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u52b9\u7387\u7684\u306b\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u3001\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u65b0\u3057\u3044\u62e1\u5f35\u6a5f\u80fd\u306f\u3001Azure Database for PostgreSQL\u306e\u5805\u7262\u306a\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u6a5f\u80fd\u3092\u5099\u3048\u305f\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u6d3b\u7528\u3057\u3088\u3046\u3068\u3059\u308b\u958b\u767a\u8005\u306b\u3068\u3063\u3066\u5f37\u529b\u306a\u30c4\u30fc\u30eb\u30bb\u30c3\u30c8\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p></p> <p>AGE\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u5185\u306e\u8907\u96d1\u306a\u95a2\u4fc2\u3092\u7ba1\u7406\u304a\u3088\u3073\u5206\u6790\u3067\u304d\u3001\u5f93\u6765\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3084\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22\u3067\u3082\u898b\u9003\u3059\u53ef\u80fd\u6027\u306e\u3042\u308b\u6d1e\u5bdf\u3092\u767a\u898b\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/04/#_1","title":"\u4e3b\u306a\u6a5f\u80fd","text":"<ul> <li>\u30b0\u30e9\u30d5\u3068\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u306e\u7d71\u5408: AGE\u306f\u3001PostgreSQL\u5185\u306e\u65e2\u5b58\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u3068\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u3092\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d71\u5408\u3057\u307e\u3059\u3002\u3053\u306e\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u308a\u3001\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u3068\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30e2\u30c7\u30eb\u306e\u4e21\u65b9\u306e\u5229\u70b9\u3092\u540c\u6642\u306b\u4eab\u53d7\u3067\u304d\u307e\u3059\u3002</li> <li>openCypher\u30af\u30a8\u30ea\u8a00\u8a9e: AGE\u306f\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5c02\u7528\u306b\u8a2d\u8a08\u3055\u308c\u305f\u5f37\u529b\u3067\u4f7f\u3044\u3084\u3059\u3044\u30af\u30a8\u30ea\u8a00\u8a9e\u3067\u3042\u308bopenCypher\u3092\u7d44\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001\u30b0\u30e9\u30d5\u30af\u30a8\u30ea\u306e\u4f5c\u6210\u3068\u5b9f\u884c\u304c\u7c21\u7d20\u5316\u3055\u308c\u307e\u3059\u3002</li> <li>\u9ad8\u6027\u80fd: AGE\u306f\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u6700\u9069\u5316\u304c\u65bd\u3055\u308c\u3066\u304a\u308a\u3001GIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3057\u305f\u30b0\u30e9\u30d5\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\u306e\u30b5\u30dd\u30fc\u30c8\u306b\u3088\u308a\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u306e\u52b9\u7387\u7684\u306a\u4fdd\u5b58\u3068\u53d6\u5f97\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002</li> <li>\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3: PostgreSQL\u306e\u5b9f\u7e3e\u3042\u308b\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u57fa\u3065\u3044\u3066\u69cb\u7bc9\u3055\u308c\u305fAGE\u306f\u3001\u305d\u306e\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u3068\u4fe1\u983c\u6027\u3092\u7d99\u627f\u3057\u3066\u304a\u308a\u3001\u5897\u5927\u3059\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3084\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u51e6\u7406\u3067\u304d\u307e\u3059\u3002</li> </ul>"},{"location":"ja/06-Improve-RAG-Accuracy/04/#_2","title":"\u5229\u70b9","text":"<p>Azure Database for PostgreSQL\u306b\u304a\u3051\u308bAGE\u306e\u7d71\u5408\u306f\u3001\u30b0\u30e9\u30d5\u51e6\u7406\u6a5f\u80fd\u3092\u6d3b\u7528\u3057\u305f\u3044\u958b\u767a\u8005\u3084\u4f01\u696d\u306b\u591a\u304f\u306e\u5b9f\u7528\u7684\u306a\u5229\u70b9\u3092\u3082\u305f\u3089\u3057\u307e\u3059\u3002</p> <ul> <li>\u30c7\u30fc\u30bf\u7ba1\u7406\u306e\u7c21\u7d20\u5316: AGE\u306e\u30b0\u30e9\u30d5\u3068\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u306e\u7d71\u5408\u80fd\u529b\u306b\u3088\u308a\u3001\u30c7\u30fc\u30bf\u7ba1\u7406\u30bf\u30b9\u30af\u304c\u7c21\u7d20\u5316\u3055\u308c\u3001\u5225\u500b\u306e\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u5fc5\u8981\u6027\u304c\u6e1b\u5c11\u3057\u307e\u3059\u3002</li> <li>\u30c7\u30fc\u30bf\u5206\u6790\u306e\u5f37\u5316: AGE\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u3067\u76f4\u63a5\u8907\u96d1\u306a\u30b0\u30e9\u30d5\u5206\u6790\u3092\u5b9f\u884c\u3067\u304d\u3001\u30c7\u30fc\u30bf\u5185\u306e\u95a2\u4fc2\u3084\u30d1\u30bf\u30fc\u30f3\u306b\u95a2\u3059\u308b\u3088\u308a\u6df1\u3044\u6d1e\u5bdf\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> <li>\u30b3\u30b9\u30c8\u52b9\u7387: Azure Database for PostgreSQL\u5185\u3067AGE\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3092\u7d71\u5408\u3057\u3001\u5168\u4f53\u7684\u306a\u30b3\u30b9\u30c8\u3092\u524a\u6e1b\u3057\u3001\u30c7\u30fc\u30bf\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u8907\u96d1\u3055\u3092\u8efd\u6e1b\u3067\u304d\u307e\u3059\u3002</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9: AGE\u306f\u3001Azure\u306e\u696d\u754c\u3092\u30ea\u30fc\u30c9\u3059\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u6a5f\u80fd\u3092\u6d3b\u7528\u3057\u3066\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u3092\u4fdd\u8b77\u3057\u3001\u898f\u5236\u8981\u4ef6\u3092\u6e80\u305f\u3059\u3053\u3068\u3067\u5b89\u5fc3\u611f\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"ja/06-Improve-RAG-Accuracy/05/","title":"6.5 AGE\u3092\u6709\u52b9\u306b\u3059\u308b","text":"<p>Apache AGE (<code>age</code>) \u62e1\u5f35\u6a5f\u80fd\u306f\u3001PostgreSQL\u3092\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3001\u76f8\u4e92\u306b\u95a2\u9023\u3059\u308b\u30c7\u30fc\u30bf\u3092\u5206\u6790\u3059\u308b\u305f\u3081\u306e\u5305\u62ec\u7684\u306a\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002<code>age</code>\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30b0\u30e9\u30d5\u69cb\u9020\u3092\u4f7f\u7528\u3057\u3066\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u95a2\u4fc2\u3092\u5b9a\u7fa9\u304a\u3088\u3073\u30af\u30a8\u30ea\u3067\u304d\u307e\u3059\u3002</p> <p>PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089Azure Blob Storage\u306b\u30db\u30b9\u30c8\u3055\u308c\u3066\u3044\u308bCSV\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30c7\u30fc\u30bf\u62bd\u51fa\u3092\u7c21\u7d20\u5316\u3059\u308b\u305f\u3081\u306b\u3001Azure Storage\u62e1\u5f35\u6a5f\u80fd (<code>azure_storage</code>) \u3082\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u76f4\u63a5Azure Storage\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u63a5\u7d9a\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30b3\u30d4\u30fc\u3057\u3066\u3001Blob\u30b9\u30c8\u30ec\u30fc\u30b8\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304b\u3089\u3001CSV\u30d5\u30a1\u30a4\u30eb\u306f\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/05/#_1","title":"\u62e1\u5f35\u6a5f\u80fd\u3092\u8a31\u53ef\u30ea\u30b9\u30c8\u306b\u8ffd\u52a0\u3059\u308b","text":"<p><code>age</code>\u304a\u3088\u3073<code>azure_storage</code>\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u524d\u306b\u3001PostgreSQL\u30b5\u30fc\u30d0\u30fc\u306e_\u8a31\u53ef\u30ea\u30b9\u30c8_\u306b\u8ffd\u52a0\u3057\u3001\u5171\u6709\u30d7\u30ea\u30ed\u30fc\u30c9\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u69cb\u6210\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <p>\u62e1\u5f35\u6a5f\u80fd\u3092\u8a31\u53ef\u30ea\u30b9\u30c8\u306b\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3057\u305f\u3044\u65b9\u6cd5\u306e\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u63d0\u4f9b\u3055\u308c\u305f\u6307\u793a\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> Azure CLIAzure portal <ol> <li> <p>VS Code\u3067\u65b0\u3057\u3044\u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u958b\u304d\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u6b21\u306eAzure CLI\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u5185\u306e\u30c8\u30fc\u30af\u30f3\u3092Azure\u74b0\u5883\u304b\u3089\u306e\u9069\u5207\u306a\u5024\u306b\u7f6e\u304d\u63db\u3048\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>[YOUR_RESOURCE_GROUP]: Azure Database for PostgreSQL\u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u30db\u30b9\u30c8\u3057\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u540d\u524d\u3002</li> <li>[YOUR_POSTGRESQL_SERVER]: Azure Database for PostgreSQL\u30b5\u30fc\u30d0\u30fc\u306e\u540d\u524d\u3002</li> <li>[YOUR_SUBSCRIPTION_ID]: Azure\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3ID\u3002</li> </ul> <p>\u6b21\u306eAzure CLI\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> Bash<pre><code>az postgres flexible-server parameter set --resource-group [YOUR_RESOURCE_GROUP] --server-name [YOUR_POSTGRESQL_SERVER] --subscription [YOUR_SUBSCRIPTION_ID] --name azure.extensions --value azure_ai,pg_diskann,vector,age,azure_storage\n</code></pre> </li> </ol> <ol> <li> <p>Azure portal\u3067\u3001Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u5de6\u5074\u306e\u30ea\u30bd\u30fc\u30b9 \u30e1\u30cb\u30e5\u30fc\u304b\u3089:</p> <ol> <li>\u8a2d\u5b9a\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3001\u30b5\u30fc\u30d0\u30fc \u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li>\u691c\u7d22\u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u300cazure.extensions\u300d\u3068\u5165\u529b\u3057\u307e\u3059\u3002</li> <li>VALUE \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3 \u30ea\u30b9\u30c8\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</li> <li>VALUE \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3 \u30ea\u30b9\u30c8\u3067\u3001AGE \u3068 AZURE_STORAGE \u62e1\u5f35\u6a5f\u80fd\u306e\u30dc\u30c3\u30af\u30b9\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u9078\u629e\u3057\u307e\u3059\u3002</li> </ol> <p></p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/05/#_2","title":"\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u6642\u306b\u62e1\u5f35\u6a5f\u80fd\u3092\u8aad\u307f\u8fbc\u3080","text":"<p>\u4e00\u90e8\u306ePostgres\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u3001\u5171\u6709\u30e1\u30e2\u30ea\u306e\u5272\u308a\u5f53\u3066\u3001\u8efd\u91cf\u30ed\u30c3\u30af\u306e\u4e88\u7d04\u3001\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u306e\u958b\u59cb\u306a\u3069\u3001postmaster\u306e\u8d77\u52d5\u6642\u306b\u306e\u307f\u5b9f\u884c\u3067\u304d\u308b\u7279\u5b9a\u306e\u64cd\u4f5c\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002<code>AGE</code>\u306f\u305d\u306e\u64cd\u4f5c\u306b\u5171\u6709\u30e1\u30e2\u30ea\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002PostgreSQL\u306e<code>shared_preload_libraries</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u3080\u3079\u304d\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u6307\u5b9a\u3057\u3001\u63a5\u7d9a\u304c\u884c\u308f\u308c\u308b\u524d\u306b\u8ffd\u52a0\u306e\u6a5f\u80fd\u3084\u62e1\u5f35\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002</p> <p><code>shared_preload_libraries</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u66f4\u65b0\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3057\u305f\u3044\u65b9\u6cd5\u306e\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u63d0\u4f9b\u3055\u308c\u305f\u6307\u793a\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> Azure CLIAzure portal <ol> <li> <p>VS Code\u306e\u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u6b21\u306eAzure CLI\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306e\u30c8\u30fc\u30af\u30f3\u3092\u3001Azure\u74b0\u5883\u304b\u3089\u306e\u9069\u5207\u306a\u5024\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>[YOUR_RESOURCE_GROUP]: Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc\u3092\u30db\u30b9\u30c8\u3057\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9 \u30b0\u30eb\u30fc\u30d7\u306e\u540d\u524d\u3002</li> <li>[YOUR_POSTGRESQL_SERVER]: Azure Database for PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u540d\u524d\u3002</li> <li>[YOUR_SUBSCRIPTION_ID]: Azure\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3ID\u3002</li> </ul> <p>\u6b21\u306eAzure CLI\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> Bash<pre><code>az postgres flexible-server parameter set --resource-group [YOUR_RESOURCE_GROUP] --server-name [YOUR_POSTGRESQL_SERVER] --subscription [YOUR_SUBSCRIPTION_ID] --name shared_preload_libraries --value age,azure_storage,pg_cron,pg_stat_statements\n</code></pre> <p><code>pg_cron</code> \u3068 <code>pg_stat_statements</code> \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001<code>shared_preload_libraries</code> \u30d1\u30e9\u30e1\u30fc\u30bf\u304b\u3089\u524a\u9664\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3001\u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> </li> <li> <p>\u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u304c\u3001PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u3092\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u3092\u518d\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u5185\u306e\u30c8\u30fc\u30af\u30f3\u3092\u3001Azure \u74b0\u5883\u304b\u3089\u9069\u5207\u306a\u5024\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>[YOUR_RESOURCE_GROUP]: Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc\u3092\u30db\u30b9\u30c8\u3057\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9 \u30b0\u30eb\u30fc\u30d7\u306e\u540d\u524d\u3002</li> <li>[YOUR_POSTGRESQL_SERVER]: Azure Database for PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u540d\u524d\u3002</li> <li>[YOUR_SUBSCRIPTION_ID]: Azure \u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3 ID\u3002</li> </ul> <p>\u6b21\u306e Azure CLI \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> Bash<pre><code>az postgres flexible-server restart --resource-group [YOUR_RESOURCE_GROUP] --name [YOUR_POSTGRESQL_SERVER] --subscription [YOUR_SUBSCRIPTION_ID]\n</code></pre> </li> </ol> <ol> <li> <p>Azure portal \u306e Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb \u30b5\u30fc\u30d0\u30fc \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e \u30b5\u30fc\u30d0\u30fc \u30d1\u30e9\u30e1\u30fc\u30bf\u30fc \u30da\u30fc\u30b8\u3067\uff1a</p> <ol> <li>\u691c\u7d22\u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u300cshared_preload\u300d\u3068\u5165\u529b\u3057\u307e\u3059\u3002</li> <li>VALUE \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</li> <li>VALUE \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u3067\u3001AGE \u3068 AZURE_STORAGE \u62e1\u5f35\u6a5f\u80fd\u3092\u9078\u629e\u3059\u308b\u305f\u3081\u306b\u3001\u305d\u308c\u305e\u308c\u306e\u30dc\u30c3\u30af\u30b9\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</li> <li>\u30c4\u30fc\u30eb\u30d0\u30fc\u3067 \u4fdd\u5b58 \u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> </ol> <p></p> </li> <li> <p>\u4fdd\u5b58 \u3092\u9078\u629e\u3059\u308b\u3068\u3001PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u518d\u8d77\u52d5\u304c\u30c8\u30ea\u30ac\u30fc\u3055\u308c\u3001\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306b\u6570\u79d2\u304b\u304b\u308a\u307e\u3059\u3002</p> </li> <li> <p>\u8868\u793a\u3055\u308c\u308b \u30b5\u30fc\u30d0\u30fc \u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u4fdd\u5b58 \u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u3001\u4fdd\u5b58\u3057\u3066\u518d\u8d77\u52d5 \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/05/#install-extensions","title":"Install extensions","text":"<p><code>AGE</code> \u3068 <code>AZURE_STORAGE</code> \u62e1\u5f35\u6a5f\u80fd\u3092 allowlist \u306b\u8ffd\u52a0\u3057\u3001PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306b\u30ed\u30fc\u30c9\u3057\u305f\u3089\u3001CREATE EXTENSION \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002</p> <p>\u73fe\u6642\u70b9\u3067\u306f\u3001AGE \u62e1\u5f35\u6a5f\u80fd\u306f\u30d7\u30ec\u30d3\u30e5\u30fc\u4e2d\u3067\u3042\u308a\u3001\u5c11\u306a\u304f\u3068\u3082 PG13 \u304b\u3089 PG16 \u307e\u3067\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u65b0\u3057\u304f\u4f5c\u6210\u3055\u308c\u305f Azure Database for PostgreSQL Flexible Server \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u306e\u307f\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p> <p>pgAdmin \u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066 SQL \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <ol> <li> <p>\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u3001\u958b\u3044\u3066\u3044\u308b pgAdmin \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u623b\u308b\uff08\u307e\u305f\u306f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30bf\u30b9\u30af\u306e\u5f8c\u306b\u9589\u3058\u305f\u5834\u5408\u306f\u958b\u304f\uff09\u3057\u3001PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin \u306e Object Explorer \u3067\u3001PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u4e0b\u306b\u3042\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</p> </li> <li> <p>contracts \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089 Query Tool \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u6b21\u306e <code>CREATE EXTENSION</code> \u30b3\u30de\u30f3\u30c9\u3092 pgAdmin \u306e\u30af\u30a8\u30ea\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u5b9f\u884c\u3057\u3066\u3001<code>age</code> \u3068 <code>azure_storage</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <p>\u6b21\u306e SQL \u30b3\u30de\u30f3\u30c9\u3092 pgAdmin \u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> <pre><code>CREATE EXTENSION IF NOT EXISTS age;\nCREATE EXTENSION IF NOT EXISTS azure_storage;\n</code></pre> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/06/","title":"6.6 \u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8","text":"<p>PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u3066\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002Azure Database for PostgreSQL\u306eAzure Storage (<code>azure_storage</code>) \u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089Azure Blob Storage\u306eCSV\u30d5\u30a1\u30a4\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u30b3\u30d4\u30fc\u3059\u308b\u305f\u3081\u306e\u52b9\u7387\u7684\u306a\u65b9\u6cd5\u304c\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002<code>AGE</code>\u3068\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u306e\u6587\u8108\u3067\u306f\u3001<code>azure_storage</code> \u62e1\u5f35\u6a5f\u80fd\u306fPostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3001Blob Storage\u3078\u306e\u52b9\u7387\u7684\u306a\u8ee2\u9001\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u306b\u3088\u308a\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u69cb\u7bc9\u3068\u30af\u30a8\u30ea\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u304c\u3059\u3050\u306b\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u3001\u30c7\u30fc\u30bf\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306b\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d71\u5408\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/06/#azure-storage","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092Azure Storage\u306b\u63a5\u7d9a\u3059\u308b","text":"<p>pgAdmin\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066SQL\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001<code>azure_storage</code> \u62e1\u5f35\u6a5f\u80fd\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3078\u306e\u63a5\u7d9a\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306e\u30c8\u30fc\u30af\u30f3\u3092Azure\u74b0\u5883\u304b\u3089\u9069\u5207\u306a\u5024\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u4ee5\u4e0b\u3067\u5b9f\u884c\u3059\u308b\u5404SQL\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306b\u306f\u3001<code>[YOUR_STORAGE_ACCOUNT_NAME]</code> \u30c8\u30fc\u30af\u30f3\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001\u3053\u306e\u30c8\u30fc\u30af\u30f3\u3092Azure\u30dd\u30fc\u30bf\u30eb\u304b\u3089\u30b3\u30d4\u30fc\u3067\u304d\u308b_\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8_\u30ea\u30bd\u30fc\u30b9\u306e\u540d\u524d\u306b\u7f6e\u304d\u63db\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li> <p>\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u3001pgAdmin\u306e\u958b\u3044\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u623b\u308a\uff08\u9589\u3058\u3066\u3044\u308b\u5834\u5408\u306f\u958b\u3044\u3066\uff09\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u3067\u3001PostgreSQL\u30b5\u30fc\u30d0\u30fc\u306e\u4e0b\u306b\u3042\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</p> </li> <li> <p>contracts\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u30af\u30a8\u30ea\u30c4\u30fc\u30eb\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001<code>azure_storage.account_add()</code> \u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3068PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u9593\u306e\u63a5\u7d9a\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3068\u30ad\u30fc\u306e\u30c8\u30fc\u30af\u30f3\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u5024\u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u4ee5\u4e0b\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092pgAdmin\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> SQL<pre><code>SELECT azure_storage.account_add('[YOUR_STORAGE_ACCOUNT_NAME]', '[YOUR_STORAGE_ACCOUNT_KEY]');\n</code></pre> \u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u30ad\u30fc\u306e\u898b\u3064\u3051\u65b9\u304c\u308f\u304b\u3089\u306a\u3044\u5834\u5408\u306f\uff1f </li> </ol> <p>\u30b9\u30c8\u30ec\u30fc\u30b8 \u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30a2\u30af\u30bb\u30b9 \u30ad\u30fc\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f:</p> <ol> <li>Azure \u30dd\u30fc\u30bf\u30eb\u3067\u30b9\u30c8\u30ec\u30fc\u30b8 \u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</li> <li>\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3 \u30e1\u30cb\u30e5\u30fc\u306e \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 + \u30cd\u30c3\u30c8\u30ef\u30fc\u30ad\u30f3\u30b0 \u306e\u4e0b\u306b\u3042\u308b \u30a2\u30af\u30bb\u30b9 \u30ad\u30fc \u30e1\u30cb\u30e5\u30fc\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li>key1 \u306e\u4e0b\u306b\u3042\u308b \u30ad\u30fc \u5024\u306e\u6a2a\u306b\u3042\u308b \u8868\u793a \u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li>\u30ad\u30fc \u30dc\u30c3\u30af\u30b9\u306e\u53f3\u5074\u306b\u8868\u793a\u3055\u308c\u308b \u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li>\u30b3\u30d4\u30fc\u3057\u305f\u30ad\u30fc\u3092\u4e0a\u8a18\u306e SQL \u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e <code>[YOUR_STORAGE_ACCOUNT_KEY]</code> \u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002</li> </ol> <p></p>"},{"location":"ja/06-Improve-RAG-Accuracy/06/#blob","title":"\u30c7\u30fc\u30bf\u3092 BLOB \u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b","text":"<p>\u30c7\u30fc\u30bf \u30a8\u30af\u30b9\u30dd\u30fc\u30c8 \u30d7\u30ed\u30bb\u30b9\u306e\u4e00\u74b0\u3068\u3057\u3066\u3001\u30af\u30a8\u30ea\u3092\u4f7f\u7528\u3057\u3066\u30bd\u30fc\u30b9 \u30c7\u30fc\u30bf\u3092\u518d\u69cb\u6210\u3057\u3001\u30b0\u30e9\u30d5 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u30ce\u30fc\u30c9\u3068\u30a8\u30c3\u30b8\u3092\u52b9\u7387\u7684\u306b\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u5f62\u5f0f\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u5f93\u6765\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u30c7\u30fc\u30bf\u3092\u30c6\u30fc\u30d6\u30eb\u306b\u6574\u7406\u3057\u307e\u3059\u304c\u3001\u30b0\u30e9\u30d5 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u30ce\u30fc\u30c9\u3068\u30a8\u30c3\u30b8\u3092\u4f7f\u7528\u3057\u3066\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3068\u305d\u306e\u95a2\u4fc2\u3092\u8868\u3057\u307e\u3059\u3002\u8868\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u3092\u30ce\u30fc\u30c9\u3068\u30a8\u30c3\u30b8\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u3067\u3001\u30b0\u30e9\u30d5\u69cb\u9020\u306b\u9069\u5408\u3057\u3001\u95a2\u4fc2\u5206\u6790\u304c\u3088\u308a\u52b9\u7387\u7684\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u5909\u63db\u306b\u3088\u308a\u3001\u73fe\u5b9f\u4e16\u754c\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u81ea\u7136\u306a\u30e2\u30c7\u30ea\u30f3\u30b0\u304c\u53ef\u80fd\u306b\u306a\u308a\u3001\u30af\u30a8\u30ea\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u6700\u9069\u5316\u3055\u308c\u3001\u30d9\u30f3\u30c0\u30fc\u3001SOW\u3001\u304a\u3088\u3073\u95a2\u9023\u3059\u308b\u8acb\u6c42\u66f8\u9593\u306e\u63a5\u7d9a\u3092\u8a55\u4fa1\u3059\u308b\u306a\u3069\u3001\u8907\u96d1\u306a\u95a2\u4fc2\u5206\u6790\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u3092\u518d\u69cb\u6210\u3059\u308b\u3053\u3068\u3067\u3001<code>AGE</code> \u3068 Azure Database for PostgreSQL \u306e\u5f37\u307f\u3092\u6700\u5927\u9650\u306b\u6d3b\u7528\u3057\u3001\u3088\u308a\u6df1\u3044\u6d1e\u5bdf\u3068\u9ad8\u5ea6\u306a\u5206\u6790\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <p>\u30b0\u30e9\u30d5 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b 2 \u3064\u306e \u30ce\u30fc\u30c9 \u3068 1 \u3064\u306e \u30a8\u30c3\u30b8 \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u30ce\u30fc\u30c9\u306b\u306f\u30c7\u30fc\u30bf \u30d9\u30f3\u30c0\u30fc\u3068 SOW \u30c7\u30fc\u30bf\u304c\u542b\u307e\u308c\u307e\u3059\u3002\u30a8\u30c3\u30b8\u306f\u3053\u308c\u3089\u306e\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <p><code>azure_storage</code> \u62e1\u5f35\u6a5f\u80fd\u3092\u6d3b\u7528\u3057\u3066\u30c7\u30fc\u30bf \u30a8\u30af\u30b9\u30dd\u30fc\u30c8 \u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001pgAdmin \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <ol> <li> <p>\u958b\u3044\u3066\u3044\u308b pgAdmin \u306e \u30af\u30a8\u30ea \u30c4\u30fc\u30eb \u306b\u623b\u308a\u307e\u3059\u3002</p> </li> <li> <p><code>azure_storage.blob_put()</code> \u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u6b21\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3001<code>vendors</code> \u30c6\u30fc\u30d6\u30eb\u306e\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u3092 <code>vendors.csv</code> \u3068\u3044\u3046\u540d\u524d\u306e CSV \u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u3001\u30b9\u30c8\u30ec\u30fc\u30b8 \u30a2\u30ab\u30a6\u30f3\u30c8\u306e <code>graph</code> \u30b3\u30f3\u30c6\u30ca\u30fc\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\u3053\u306e\u30c7\u30fc\u30bf\u306f\u3001\u30b0\u30e9\u30d5 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e <code>vendor</code> \u30ce\u30fc\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092pgAdmin\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> SQL<pre><code>-- Extract data for the vendors node\nSELECT azure_storage.blob_put(\n    '[YOUR_STORAGE_ACCOUNT_NAME]',\n    'graph',\n    'vendors.csv',\n    vendors,\n    'csv',\n    'none',\n    azure_storage.options_csv_put(header:=true)\n)\nFROM (\n    SELECT * FROM vendors\n) AS vendors;\n</code></pre> </li> <li> <p>\u3053\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u3001<code>sows</code>\u30c6\u30fc\u30d6\u30eb\u304b\u3089<code>sow</code>\u30ce\u30fc\u30c9\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e<code>graph</code>\u30b3\u30f3\u30c6\u30ca\u306b<code>sows.csv</code>\u3068\u3044\u3046\u540d\u524d\u306eCSV\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u3053\u306e\u30af\u30a8\u30ea\u306f\u3001<code>sows</code>\u30c6\u30fc\u30d6\u30eb\u306e\u3044\u304f\u3064\u304b\u306e\u5217\u3092\u9664\u5916\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u306f\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u306f\u4e0d\u8981\u3067\u30a8\u30e9\u30fc\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u306e\u3042\u308b<code>embedding</code>\u5217\u304c\u542b\u307e\u308c\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092pgAdmin\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> SQL<pre><code>-- Extract data for the SOWs node\nSELECT azure_storage.blob_put(\n    '[YOUR_STORAGE_ACCOUNT_NAME]',\n    'graph',\n    'sows.csv',\n    sows,\n    'csv',\n    'none',\n    azure_storage.options_csv_put(header:=true)\n)\nFROM (\n    SELECT id, number, vendor_id, start_date, end_date, budget FROM sows\n) AS sows;\n</code></pre> </li> <li> <p>\u6700\u5f8c\u306b\u3001\u4ee5\u4e0b\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u3001<code>invoices</code>\u30c6\u30fc\u30d6\u30eb\u304b\u3089<code>has_invoices</code>\u30a8\u30c3\u30b8\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e<code>graph</code>\u30b3\u30f3\u30c6\u30ca\u306b<code>has_invoices.csv</code>\u3068\u3044\u3046\u540d\u524d\u306eCSV\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\uff1a</p> <p>\u4ee5\u4e0b\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092pgAdmin\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> SQL<pre><code>-- Create the has_invoices edge\nSELECT azure_storage.blob_put(\n    '[YOUR_STORAGE_ACCOUNT_NAME]',\n    'graph',\n    'has_invoices.csv',\n    invoices,\n    'csv',\n    'none',\n    azure_storage.options_csv_put(header:=true)\n)\nFROM (\n    SELECT id, vendor_id as start_id, 'vendor' AS start_vertex_type, sow_id AS end_id, 'sow' AS end_vertex_type, number, amount, invoice_date, payment_status FROM invoices\n) AS invoices;\n</code></pre> <p>\u30a8\u30c3\u30b8\u5b9a\u7fa9\u306e\u8a73\u7d30</p> <p><code>AGE</code>\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u30a8\u30c3\u30b8\u306b\u306f\u30ce\u30fc\u30c9\u9593\u306e\u95a2\u4fc2\u306b\u95a2\u3059\u308b\u8a73\u7d30\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306f\u3001\u4e0a\u8a18\u306e\u30af\u30a8\u30ea\u3067<code>start_id</code>\u3001<code>start_vertex_type</code>\u3001<code>end_id</code>\u3001<code>end_vertex_type</code>\u5217\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002'_id'\u5217\u306f\u305d\u308c\u305e\u308c<code>vendor_id</code>\u3068<code>sow_id</code>\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u3001\u958b\u59cb\u304a\u3088\u3073\u7d42\u4e86\u306e\u9802\u70b9\u30bf\u30a4\u30d7\u306fID\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u305f\u30ce\u30fc\u30c9\u30bf\u30a4\u30d7\u3092\u6307\u5b9a\u3059\u308b\u6587\u5b57\u5217\u3067\u3059\u3002</p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/06/#csv","title":"CSV\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d","text":"<p><code>azure_storage</code>\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3001CSV\u30d5\u30a1\u30a4\u30eb\u304c\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e<code>graph</code>\u30b3\u30f3\u30c6\u30ca\u306b\u6b63\u5e38\u306b\u66f8\u304d\u8fbc\u307e\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> <ol> <li> <p>pgAdmin\u306e\u30af\u30a8\u30ea\u30c4\u30fc\u30eb\u3067\u4ee5\u4e0b\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002<code>[YOUR_STORAGE_ACCOUNT_NAME]</code>\u30c8\u30fc\u30af\u30f3\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u540d\u524d\u306b\u7f6e\u304d\u63db\u3048\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> <p>\u4ee5\u4e0b\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092pgAdmin\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> SQL<pre><code>-- CSV\u30d5\u30a1\u30a4\u30eb\u304cBLOB\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u66f8\u304d\u8fbc\u307e\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\nSELECT azure_storage.blob_list('[YOUR_STORAGE_ACCOUNT_NAME]', 'graph');\n</code></pre> </li> <li> <p>pgAdmin\u306e\u30c7\u30fc\u30bf\u51fa\u529b\u30d1\u30cd\u30eb\u306b\u3001\u4e0a\u8a18\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f3\u3064\u306eCSV\u30d5\u30a1\u30a4\u30eb\u3092\u542b\u3080BLOB\u306e\u30ea\u30b9\u30c8\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002</p> </li> </ol> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306b\u6210\u529f\u3057\u307e\u3057\u305f\uff01</p>"},{"location":"ja/06-Improve-RAG-Accuracy/07/","title":"6.7 \u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210","text":"<p>Apache AGE\u62e1\u5f35\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066Azure Database for PostgreSQL\u306b\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30db\u30b9\u30c6\u30a3\u30f3\u30b0\u3059\u308b\u3053\u3068\u306f\u3001\u30c7\u30fc\u30bf\u5185\u306e\u95a2\u4fc2\u3092\u5206\u6790\u3059\u308b\u5f37\u529b\u306a\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002AGE\u306f\u3001openCypher\u30af\u30a8\u30ea\u8a00\u8a9e\u3092\u6d3b\u7528\u3057\u3066\u52b9\u7387\u7684\u306a\u30b0\u30e9\u30d5\u51e6\u7406\u3092\u884c\u3044\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u3068\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u3092\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d71\u5408\u3057\u307e\u3059\u3002\u3053\u306e\u7d71\u5408\u306b\u3088\u308a\u3001PostgreSQL\u306e\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3001\u304a\u3088\u3073\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u304c\u63d0\u4f9b\u3055\u308c\u308b\u4e00\u65b9\u3067\u3001\u9ad8\u5ea6\u306a\u30c7\u30fc\u30bf\u5206\u6790\u3068\u7ba1\u7406\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306b\u7d44\u307f\u8fbc\u307e\u308c\u308b\u3068\u3001\u3053\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306b\u3088\u308a\u3001\u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u3092\u901a\u3058\u3066SOW\u306e\u6210\u679c\u7269\u306e\u30d9\u30f3\u30c0\u30fc\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u8a55\u4fa1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u30c7\u30fc\u30bf\u99c6\u52d5\u578b\u306e\u610f\u601d\u6c7a\u5b9a\u304c\u5805\u7262\u3067\u6d1e\u5bdf\u306b\u6e80\u3061\u305f\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3068\u3001\u305d\u308c\u306f\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306b\u5229\u7528\u53ef\u80fd\u306a\u8ffd\u52a0\u30c4\u30fc\u30eb\u3068\u3057\u3066_Woodgrove Bank API_\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3001\u95a2\u9023\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u969b\u306eRAG\u306e\u7cbe\u5ea6\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5225\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306fAzure Database for PostgreSQL\u306b\u30db\u30b9\u30c8\u3055\u308c\u305f\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066AGE\u3092\u4f7f\u7528\u3057\u3066cypher\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3001Postgres\u3067\u306e\u30c7\u30fc\u30bf\u30af\u30a8\u30ea\u306e\u65e2\u5b58\u306e\u6a5f\u80fd\u3092\u7dad\u6301\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/07/#woodgrove","title":"Woodgrove\u30b0\u30e9\u30d5","text":"<p>\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u3001\u30ce\u30fc\u30c9\u3068\u30a8\u30c3\u30b8\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u9593\u306e\u8907\u96d1\u306a\u95a2\u4fc2\u3092\u30e2\u30c7\u30eb\u5316\u3057\u3001\u3053\u308c\u3089\u306e\u95a2\u4fc2\u3092\u8868\u73fe\u304a\u3088\u3073\u30af\u30a8\u30ea\u3059\u308b\u306e\u3092\u5bb9\u6613\u306b\u3057\u307e\u3059\u3002Woodgrove Bank\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u62bd\u51fa\u3057\u305f\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u3001\u30b7\u30f3\u30d7\u30eb\u306a\u30b0\u30e9\u30d5\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30b0\u30e9\u30d5\u5185\u3067<code>vendors</code>\u3068<code>sows</code>\u3092\u30ce\u30fc\u30c9\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3001<code>invoices</code>\u3092\u305d\u308c\u3089\u306e\u9593\u306e\u30a8\u30c3\u30b8\u3068\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30a8\u30c3\u30b8\u306f\u3001\u30ce\u30fc\u30c9\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u305f2\u3064\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u9593\u306e\u4e00\u5bfe\u4e00\u306e\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u56f3\u306f\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u9ad8\u30ec\u30d9\u30eb\u306e\u8868\u73fe\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p></p> <p>\u30a8\u30c3\u30b8\u306b\u306f\u3001ID\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u901a\u3058\u3066\u95a2\u9023\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u307e\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u542b\u3081\u308b\u3053\u3068\u3082\u3067\u304d\u3001\u30af\u30a8\u30ea\u6642\u306b\u95a2\u4fc2\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/07/#agefreighter","title":"AGEFreighter\u3067\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b","text":"<p>AGEFreighter\u306f\u3001Azure Database for PostgreSQL\u3067\u306e\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u3068\u30ed\u30fc\u30c9\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u7c21\u7d20\u5316\u3059\u308b\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u305fPython\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308a\u3001CSV\u30d5\u30a1\u30a4\u30eb\u3001Azure Cosmos DB\u3001Neo4j\u3001Azure Database for PostgreSQL\u306a\u3069\u3001\u3055\u307e\u3056\u307e\u306a\u30bd\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/07/#_1","title":"\u30b3\u30fc\u30c9\u306e\u30ec\u30d3\u30e5\u30fc","text":"<p>\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306b\u306f\u3001<code>src/api/app</code> \u30d5\u30a9\u30eb\u30c0\u5185\u306e <code>graph_loader.py</code> \u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u3066\u304a\u308a\u3001Python \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3059\u3070\u3084\u304f\u5b9f\u884c\u3057\u3066\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3001CSV \u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u3092\u6295\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30b0\u30e9\u30d5\u30ed\u30fc\u30c0\u30fc\u306f <code>src/api/app/graph_loader.py</code> \u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4eca\u3059\u3050 Visual Studio Code \u3067\u958b\u3044\u3066\u3001\u30bb\u30af\u30b7\u30e7\u30f3\u3054\u3068\u306b\u30b3\u30fc\u30c9\u3092\u63a2\u7d22\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3001\u30b3\u30fc\u30c9\u306e\u8aac\u660e\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> \u30b0\u30e9\u30d5\u30ed\u30fc\u30c0\u30fc\u306e\u30b3\u30fc\u30c9 src/api/app/graph_loader.py<pre><code>import os\nfrom agefreighter import Factory\nfrom dotenv import load_dotenv\nfrom azure.identity import DefaultAzureCredential\nfrom azure.storage.blob.aio import BlobServiceClient\n\nasync def main():\n    \"\"\"Load data into Azure Database for PostgreSQL Graph Database.\"\"\"\n    # Load environment variables from the .env file\n    load_dotenv()\n    print(\"Loading environment variables...\")\n\n    # Get environment variables\n    server = os.getenv(\"POSTGRESQL_SERVER_NAME\")\n    database = 'contracts'\n    username = os.getenv(\"ENTRA_ID_USERNAME\")\n    account_name = os.getenv(\"STORAGE_ACCOUNT_NAME\")\n\n    # Create an AGEFreigher factory instance to load data from multiple CSV files.\n    print(\"Creating AGEFreighter factory instance...\")\n    factory = Factory.create_instance('MultiCSVFreighter')\n\n    # Connect to the PostgreSQL database.\n    print(\"Connecting to the PostgreSQL database...\")\n    await factory.connect(\n        dsn=get_connection_string(server, database, username),\n        max_connections=64\n    )\n\n    local_data_dir = 'graph_data/'\n\n    # Download CSV data files from Azure Blob Storage\n    print(\"Downloading CSV files from Azure Blob Storage...\")\n    await download_csvs(account_name, local_data_dir)\n\n    # Load data into the graph database\n    print(\"Loading data into the graph database...\")\n    await factory.load(\n        graph_name='vendor_graph',\n        vertex_csv_paths = [\n            f'{local_data_dir}vendors.csv',\n            f'{local_data_dir}sows.csv'\n        ],\n        vertex_labels = ['vendor', 'sow'],\n        edge_csv_paths = [f'{local_data_dir}has_invoices.csv'],\n        edge_types = [\"has_invoices\"],\n        use_copy=True,\n        drop_graph=True,\n        create_graph=True,\n        progress=True\n    )\n\n    print(\"Graph data loaded successfully!\")\n\ndef get_connection_string(server_name: str, database_name: str, username: str):\n    \"\"\"Get the connection string for the PostgreSQL database.\"\"\"\n\n    # Get a token for the Azure Database for PostgreSQL server\n    credential = DefaultAzureCredential()\n    token = credential.get_token(\"https://ossrdbms-aad.database.windows.net\")\n    port = 5432\n\n    conn_str = \"host={} port={} dbname={} user={} password={}\".format(\n        server_name, port, database_name, username, token.token\n    )\n    return conn_str\n\nasync def download_csvs(account_name:str, local_data_directory: str):\n    \"\"\"Download CSV files from Azure Blob Storage.\"\"\"\n\n    # Create connection to the blob storage account\n    account_blob_endpoint = f\"https://{account_name}.blob.core.windows.net/\"\n    # Connect to the blob service client using Entra ID authentication\n    client = BlobServiceClient(account_url=account_blob_endpoint, credential=DefaultAzureCredential())\n\n    # List the blobs in the graph container with a CSV extension\n    async with client:\n        async for blob in client.get_container_client('graph').list_blobs():\n            if blob.name.endswith('.csv'):\n                # Download the CSV file to a local directory\n                await download_csv(client, blob.name, local_data_directory)\n\nasync def download_csv(client: BlobServiceClient, blob_path: str, local_data_dir: str):\n    \"\"\"Download a CSV file from Azure Blob Storage.\"\"\"\n    # Get the blob\n    blob_client = client.get_blob_client(container='graph', blob=blob_path)\n\n    async with blob_client:\n        # Download the CSV file\n        if await blob_client.exists():\n            # create a local directory if it does not exist\n            if not os.path.exists(local_data_dir):\n                os.makedirs(local_data_dir)\n\n            with open(f'{local_data_dir}{blob_path.split('/')[-1]}', 'wb') as file:\n                stream = await blob_client.download_blob()\n                result = await stream.readall()\n                # Save the CSV file to a local directory\n                file.write(result)\n\nif __name__ == \"__main__\":\n    import asyncio\n    import sys\n\n    if sys.platform == \"win32\":\n        asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())\n\n    asyncio.run(main())\n</code></pre> <ol> <li> <p>\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30dd\u30fc\u30c8 (\u884c 1-5): \u5fc5\u8981\u306a\u30af\u30e9\u30b9\u3068\u95a2\u6570\u304c\u3055\u307e\u3056\u307e\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p><code>main</code> \u95a2\u6570\u306e\u5b9a\u7fa9 (\u884c 7): <code>main</code> \u95a2\u6570\u306f\u30b0\u30e9\u30d5\u30ed\u30fc\u30c0\u30fc\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30bf\u30fc\u3068\u3057\u3066\u6a5f\u80fd\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u74b0\u5883\u5909\u6570\u306e\u8aad\u307f\u8fbc\u307f (\u884c 10-17): <code>dotenv</code> Python \u30e9\u30a4\u30d6\u30e9\u30ea\u306e <code>load_dotenv()</code> \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001API \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306e <code>.env</code> \u30d5\u30a1\u30a4\u30eb\u304b\u3089\u5909\u6570\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u5909\u6570\u306e\u540d\u524d\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u3053\u308c\u3089\u3092 <code>.env</code> \u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> </li> <li> <p>AGEFreighter \u30d5\u30a1\u30af\u30c8\u30ea\u306e\u4f5c\u6210 (\u884c 21): <code>factory</code> \u30af\u30e9\u30b9\u5185\u306e <code>agefreighter</code> \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u6307\u5b9a\u3055\u308c\u305f\u30bf\u30a4\u30d7\u3092\u4f7f\u7528\u3057\u3066\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u8907\u6570\u306e CSV \u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30b0\u30e9\u30d5\u3092\u30ed\u30fc\u30c9\u3059\u308b\u305f\u3081\u3001<code>MultiCSVFreighter</code> \u30af\u30e9\u30b9\u30bf\u30a4\u30d7\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> </li> <li> <p>PostgreSQL \u3078\u306e\u63a5\u7d9a (\u884c 25-28): <code>factory</code> \u306e <code>connect</code> \u30e1\u30bd\u30c3\u30c9\u306f\u3001Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u63a5\u7d9a\u3092\u958b\u304d\u307e\u3059\u3002</p> <ol> <li><code>get_connection_string()</code> \u95a2\u6570\u306f\u3001\u74b0\u5883\u5909\u6570\u304b\u3089\u306e\u5024\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306b <code>factory</code> \u304c\u4f7f\u7528\u3059\u308b\u63a5\u7d9a\u6587\u5b57\u5217\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</li> <li><code>get_connection_string()</code> \u95a2\u6570\u306f\u3001\u884c 55-66 \u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> </ol> </li> <li> <p>Blob \u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u306e CSV \u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 (\u884c 34): \u524d\u306e\u30bf\u30b9\u30af\u3067\u4f5c\u6210\u3057\u305f CSV \u30d5\u30a1\u30a4\u30eb\u304c Blob \u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u3001\u30b0\u30e9\u30d5\u30ed\u30fc\u30c0\u30fc\u304c\u7c21\u5358\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30ed\u30fc\u30ab\u30eb\u30d5\u30a9\u30eb\u30c0\u306b\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\u3002</p> </li> <li> <p><code>download_csvs()</code> \u95a2\u6570\u306f\u300168-81 \u884c\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f <code>BlobServiceClient</code> \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e <code>graph</code> \u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30d6\u30ed\u30d6\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p>\u62e1\u5f35\u5b50\u304c <code>.csv</code> \u306e\u5404\u30d6\u30ed\u30d6\u306b\u5bfe\u3057\u3066\u300183-99 \u884c\u306b\u5b9a\u7fa9\u3055\u308c\u305f <code>download_csv</code> \u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u30d6\u30ed\u30d6\u306e\u5185\u5bb9\u3092\u53d6\u5f97\u3057\u3001\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002</p> </li> <li> <p>\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u3068\u8aad\u307f\u8fbc\u307f (38-51 \u884c): <code>factory</code> \u306e <code>load</code> \u30e1\u30bd\u30c3\u30c9\u306f\u4ee5\u4e0b\u3092\u884c\u3044\u307e\u3059:</p> </li> <li> <p><code>vendor_graph</code> \u3068\u3044\u3046\u540d\u524d\u306e\u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> </li> <li>\u9802\u70b9\uff08\u30ce\u30fc\u30c9\uff09\u306e\u30c7\u30fc\u30bf\u3068\u30e9\u30d9\u30eb\u3092\u5b9a\u7fa9\u3057\u3001\u30ce\u30fc\u30c9\u3092\u30b0\u30e9\u30d5\u306b\u633f\u5165\u3057\u307e\u3059\u3002</li> <li> <p>\u30e9\u30d9\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30a8\u30c3\u30b8\u3092\u6307\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u9593\u306e\u95a2\u4fc2\u3092\u78ba\u7acb\u3059\u308b\u305f\u3081\u306b\u633f\u5165\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30e1\u30a4\u30f3\u30ac\u30fc\u30c9\u306e\u5b9a\u7fa9 (101-108 \u884c): \u30e1\u30a4\u30f3\u30ac\u30fc\u30c9\u306f\u3001<code>graph_loader</code> \u304c\u76f4\u63a5\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u304d\u306b\u3069\u306e\u3088\u3046\u306b\u5b9f\u884c\u3055\u308c\u308b\u304b\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306b\u3088\u308a\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u307e\u305f\u306f VS Code \u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/07/#env","title":"<code>.env</code> \u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0","text":"<p><code>graph_loader.py</code> \u30d5\u30a1\u30a4\u30eb\u306f\u3001Azure Database for PostgreSQL \u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u30b5\u30fc\u30d0\u30fc\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3001Entra ID \u30e6\u30fc\u30b6\u30fc\u540d\u3001\u304a\u3088\u3073 CSV \u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3059\u308b\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u74b0\u5883\u5909\u6570\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\u30b0\u30e9\u30d5\u30ed\u30fc\u30c0\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001\u3053\u308c\u3089\u306e\u5024\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e <code>.env</code> \u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002<code>.env</code> \u30d5\u30a1\u30a4\u30eb\u306f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e <code>src\\api\\app</code> \u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308a\u307e\u3059\u3002</p> <ol> <li> <p>VS Code \u3067\u3001Explorer \u30d1\u30cd\u30eb\u306e <code>src\\api\\app</code> \u30d5\u30a9\u30eb\u30c0\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p><code>.env</code> \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u6b21\u306e\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059:</p> <p><code>.env</code> \u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> <pre><code>ENTRA_ID_USERNAME=\"{YOUR_ENTRA_ID_USERNAME}\"\nPOSTGRESQL_SERVER_NAME=\"{YOUR_POSTGRESQL_SERVER_NAME}\"\nSTORAGE_ACCOUNT_NAME=\"{YOUR_STORAGE_ACCOUNT_NAME}\"\n</code></pre> \u5fc5\u8981\u306a\u5024\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044 <ol> <li> <p><code>ENTRA_ID_USERNAME</code> \u5909\u6570\u306e\u5024\u306b\u3042\u308b <code>{YOUR_ENTRA_ID_USERNAME}</code> \u30c8\u30fc\u30af\u30f3\u3092\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3042\u308b Microsoft Entra ID \u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002</p> </li> <li> <p><code>{YOUR_POSTGRESQL_SERVER_NAME}</code> \u30c8\u30fc\u30af\u30f3\u3092 PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u540d\u524d\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u540d\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f:</p> </li> </ol> </li> <li> <p>Azure portal\u3067Azure Database for PostgreSQL\u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u30b5\u30fc\u30d0\u30fc\u30ea\u30bd\u30fc\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>PostgreSQL\u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u30b5\u30fc\u30d0\u30fc\u306e\u6982\u8981\u30da\u30fc\u30b8\u306e\u57fa\u672c\u60c5\u5831\u30d1\u30cd\u30eb\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u540d\u306e\u5024\u3092\u30b3\u30d4\u30fc\u3057\u3001\u305d\u308c\u3092<code>.env</code>\u30d5\u30a1\u30a4\u30eb\u306b<code>POSTGRESQL_SERVER_NAME</code>\u306e\u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002</p> </li> </ol> <p></p> <ol> <li> <p><code>{YOUR_STORAGE_ACCOUNT_NAME}</code>\u30c8\u30fc\u30af\u30f3\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u540d\u524d\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\uff1a</p> </li> <li> <p>Azure\u30dd\u30fc\u30bf\u30eb\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u30ea\u30bd\u30fc\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u30da\u30fc\u30b8\u3067\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3092\u30b3\u30d4\u30fc\u3057\u3001\u305d\u308c\u3092<code>.env</code>\u30d5\u30a1\u30a4\u30eb\u306b<code>STORAGE_ACCOUNT_NAME</code>\u306e\u5024\u3068\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002</p> </li> </ol> <p></p> <ol> <li><code>.env</code>\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002</li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/07/#_2","title":"\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30ed\u30fc\u30c9\u3059\u308b","text":"<p>VS Code\u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001<code>graph_loader.py</code>\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u3001VS Code\u3067_\u30b0\u30e9\u30d5\u30ed\u30fc\u30c0\u30fc_\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3057\u307e\u3059\u3002</p> <ol> <li>Visual Studio Code\u306e\u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0\u30d1\u30cd\u30eb\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u304b\u3089Graph Loader\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> </ol> <p></p> <ol> <li>\u30c7\u30d0\u30c3\u30b0\u958b\u59cb\u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\uff08\u307e\u305f\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u306eF5\u30ad\u30fc\u3092\u62bc\u3057\u307e\u3059\uff09\u3002</li> </ol> <p></p> <ol> <li>\u30bf\u30fc\u30df\u30ca\u30eb\u51fa\u529b\u306b<code>Graph data loaded successfully!</code>\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u3001\u30b0\u30e9\u30d5\u30ed\u30fc\u30c0\u30fc\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002</li> </ol> <p></p>"},{"location":"ja/06-Improve-RAG-Accuracy/07/#_3","title":"\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u306e\u78ba\u8a8d","text":"<p>pgAdmin \u3092\u4f7f\u7528\u3057\u3066 openCypher \u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3001\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u95a2\u4fc2\u3092\u63a2\u7d22\u3057\u307e\u3059\u3002</p> <ol> <li> <p>pgAdmin \u306b\u623b\u308a\u3001PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>pgAdmin \u306e \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc \u3067\u3001PostgreSQL \u30b5\u30fc\u30d0\u30fc\u306e\u4e0b\u306b\u3042\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5c55\u958b\u3057\u307e\u3059\u3002</p> </li> <li> <p>contracts \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30e1\u30cb\u30e5\u30fc\u304b\u3089 \u30af\u30a8\u30ea\u30c4\u30fc\u30eb \u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> </li> <li> <p>cypher \u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001\u30d1\u30b9\u306b <code>ag_catalog</code> \u30b9\u30ad\u30fc\u30de\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a</p> <p>pgAdmin \u3067\u6b21\u306e SQL \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> SQL<pre><code>SET search_path = ag_catalog, \"$user\", public;\n</code></pre> </li> <li> <p>\u6b21\u306b\u3001\u4ee5\u4e0b\u306e cypher \u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3066\u3001\u672a\u6255\u3044\u306e\u8acb\u6c42\u66f8\u3092\u6301\u3064\u30d9\u30f3\u30c0\u30fc\u3001\u305d\u306e\u8acb\u6c42\u66f8\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u6b63\u3057\u304f\u30ed\u30fc\u30c9\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff1a</p> <p>pgAdmin \u3067\u6b21\u306e SQL \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> SQL<pre><code>-- View vendors and SOWs, along with invoice details from edge properties\nSELECT * FROM ag_catalog.cypher('vendor_graph', $$\nMATCH (v:vendor)-[rel:has_invoices]-&gt;(s:sow)\nRETURN v.id AS vendor_id, v.name AS vendor_name, s.id AS sow_id, s.number AS sow_number, rel.payment_status AS payment_status, rel.amount AS invoice_amount\n$$) as graph_query(vendor_id BIGINT, vendor_name TEXT, sow_id BIGINT, sow_number TEXT, payment_status TEXT, invoice_amount FLOAT);\n</code></pre> </li> </ol> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01 PostgreSQL \u304b\u3089\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u6b63\u5e38\u306b\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/08/","title":"6.8 GraphRAG\u3067Copilot\u3092\u66f4\u65b0\u3059\u308b","text":"<p>\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001\u30c7\u30fc\u30bf\u53d6\u5f97\u306bGraphRAG\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306bAPI\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u304c\u672a\u6255\u3044\u306e\u8acb\u6c42\u66f8\u3092\u898b\u3064\u3051\u3066\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/08/#_1","title":"\u95a2\u6570\u306e\u78ba\u8a8d","text":"<p>LangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3059\u308b_\u95a2\u6570\u547c\u3073\u51fa\u3057_\u30d1\u30bf\u30fc\u30f3\u306b\u5f93\u3063\u3066\u3001Python\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u304b\u3089\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066openCypher\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002<code>src/api/app/functions/chat_functions.py</code>\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u306f\u3001cypher\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e<code>get_unpaid_invoices_for_vendor</code>\u95a2\u6570\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4eca\u3059\u3050Visual Studio Code\u3067\u958b\u304d\u3001\u95a2\u6570\u306e\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> GraphRAG\u30b3\u30fc\u30c9 src/api/app/functions/chat_functions.py<pre><code>async def get_unpaid_invoices_for_vendor(self, vendor_id: int):\n    \"\"\"\n    Retrieves a list of unpaid invoices for a specific vendor using a graph query.\n    \"\"\"\n    # Define the graph query\n    graph_query = f\"\"\"SELECT * FROM ag_catalog.cypher('vendor_graph', $$\n    MATCH (v:vendor {{id: '{vendor_id}'}})-[rel:has_invoices]-&gt;(s:sow)\n    WHERE rel.payment_status &lt;&gt; 'Paid'\n    RETURN v.id AS vendor_id, v.name AS vendor_name, s.id AS sow_id, s.number AS sow_number, rel.id AS invoice_id, rel.number AS invoice_number, rel.payment_status AS payment_status\n    $$) as (vendor_id BIGINT, vendor_name TEXT, sow_id BIGINT, sow_number TEXT, invoice_id BIGINT, invoice_number TEXT, payment_status TEXT);\n    \"\"\"\n    rows = await self.__execute_graph_query(graph_query)\n    return [dict(row) for row in rows]\n</code></pre> <ol> <li> <p>\u30b0\u30e9\u30d5\u30a3\u30fc\u30af\u30a8\u30ea\u306e\u5b9a\u7fa9 (6\u884c\u76ee): \u6307\u5b9a\u3055\u308c\u305f<code>vendor_id</code>\u306e\u672a\u6255\u3044\u8acb\u6c42\u66f8\u3092\u691c\u7d22\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308bcypher\u30af\u30a8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> </li> <li> <p>cypher\u30af\u30a8\u30ea\u306e\u5b9f\u884c (12\u884c\u76ee): <code>__execute_graph_query()</code>\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3001cypher\u30af\u30a8\u30ea\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u9001\u4fe1\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002</p> </li> <li> <p><code>chat_functions.py</code>\u30d5\u30a1\u30a4\u30eb\u306e25\u884c\u76ee\u304b\u3089\u59cb\u307e\u308b<code>__execute_graph_query()</code>\u95a2\u6570\u306f\u3001\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u542b\u3080<code>ag_catalog</code>\u30b9\u30ad\u30fc\u30de\u306b\u5bfe\u3057\u3066\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u30b0\u30e9\u30d5\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b<code>SET</code>\u30af\u30a8\u30ea\u3092\u542b\u3081\u3066\u3001\u63a5\u7d9a\u306e<code>search_path</code>\u306b<code>ag_catalog</code>\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u7d50\u679c\u306e\u8fd4\u5374 (13\u884c\u76ee): \u30af\u30a8\u30ea\u7d50\u679c\u3092\u62bd\u51fa\u3057\u3001LLM\u306b\u8fd4\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/08/#graphrag","title":"GraphRAG\u306e\u5b9f\u88c5","text":"<p>\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u306bGraphRAG\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u306b\u306f\u3001LangChain\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e<code>tools</code>\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b<code>get_unpaid_invoices_for_vendor</code>\u95a2\u6570\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u3092\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u5229\u7528\u53ef\u80fd\u306a\u30c4\u30fc\u30eb\u306e\u30ea\u30b9\u30c8\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <ol> <li> <p>VS Code\u306e\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u3067\u3001<code>src/api/app/routers</code>\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u79fb\u52d5\u3057\u3001<code>completions.py</code>\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u307e\u3059\u3002</p> </li> <li> <p><code>tools</code>\u914d\u5217\u5185\u3067\u3001\u6b21\u306e\u884c\u3092\u898b\u3064\u3051\u307e\u3059 (75\u884c\u76ee):</p> Python<pre><code>StructuredTool.from_function(coroutine=cf.get_invoices),\n</code></pre> </li> <li> <p>\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u305d\u306e\u76f4\u4e0b\u306e\u884c\u306b\u633f\u5165\u3057\u307e\u3059:</p> <p>GraphRAG\u95a2\u6570\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u6b21\u306ePython\u30b3\u30fc\u30c9\u3092\u633f\u5165\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> Python<pre><code>StructuredTool.from_function(coroutine=cf.get_unpaid_invoices_for_vendor),\n</code></pre> </li> <li> <p>\u65b0\u3057\u3044 <code>tools</code> \u914d\u5217\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059:</p> Python<pre><code># Define tools for the agent to retrieve data from the database\ntools = [\n    # Hybrid search functions\n    StructuredTool.from_function(coroutine=cf.find_invoice_line_items),\n    StructuredTool.from_function(coroutine=cf.find_invoice_validation_results),\n    StructuredTool.from_function(coroutine=cf.find_milestone_deliverables),\n    StructuredTool.from_function(coroutine=cf.find_sow_chunks_with_semantic_ranking),\n    StructuredTool.from_function(coroutine=cf.find_sow_validation_results),\n    # Get invoice data functions\n    StructuredTool.from_function(coroutine=cf.get_invoice_id),\n    StructuredTool.from_function(coroutine=cf.get_invoice_line_items),\n    StructuredTool.from_function(coroutine=cf.get_invoice_validation_results),\n    StructuredTool.from_function(coroutine=cf.get_invoices),\n    StructuredTool.from_function(coroutine=cf.get_unpaid_invoices_for_vendor),\n    # Get SOW data functions\n    StructuredTool.from_function(coroutine=cf.get_sow_chunks),\n    StructuredTool.from_function(coroutine=cf.get_sow_id),\n    StructuredTool.from_function(coroutine=cf.get_sow_milestones),\n    StructuredTool.from_function(coroutine=cf.get_milestone_deliverables),\n    StructuredTool.from_function(coroutine=cf.get_sow_validation_results),\n    StructuredTool.from_function(coroutine=cf.get_sows),\n    # Get vendor data functions\n    StructuredTool.from_function(coroutine=cf.get_vendors)\n]\n</code></pre> </li> <li> <p><code>completions.py</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/08/#vs-code","title":"VS Code\u3067\u30c6\u30b9\u30c8\u3059\u308b","text":"<p>\u4ee5\u524d\u3068\u540c\u69d8\u306b\u3001Visual Studio Code\u3092\u4f7f\u7528\u3057\u3066\u66f4\u65b0\u3092\u30c6\u30b9\u30c8\u3057\u307e\u3059\u3002</p>"},{"location":"ja/06-Improve-RAG-Accuracy/08/#api","title":"API\u3092\u958b\u59cb\u3059\u308b","text":"<p>VS Code\u3067API\u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>Visual Studio Code\u306e \u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0 \u30d1\u30cd\u30eb\u3067\u3001\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u304b\u3089OS\u306b\u5bfe\u5fdc\u3059\u308b API Debugger \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30c7\u30d0\u30c3\u30b0\u958b\u59cb \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\uff08\u307e\u305f\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u306eF5\u30ad\u30fc\u3092\u62bc\u3057\u307e\u3059\uff09\u3002</p> <p></p> </li> <li> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u51fa\u529b\u306b <code>Application startup complete.</code> \u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u307e\u3067\u3001API\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5b8c\u5168\u306b\u8d77\u52d5\u3059\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002</p> <p></p> </li> </ol>"},{"location":"ja/06-Improve-RAG-Accuracy/08/#_2","title":"\u30dd\u30fc\u30bf\u30eb\u3092\u958b\u59cb\u3059\u308b","text":"<p>API\u304c\u5b9f\u884c\u4e2d\u306e\u5834\u5408\u3001VS Code\u3067\u30dd\u30fc\u30bf\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e2\u3064\u76ee\u306e\u30c7\u30d0\u30c3\u30b0\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002</p> <ol> <li> <p>Visual Studio Code\u306e \u5b9f\u884c\u3068\u30c7\u30d0\u30c3\u30b0 \u30d1\u30cd\u30eb\u306b\u623b\u308a\u3001\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30ea\u30b9\u30c8\u304b\u3089 Portal Debugger \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30c7\u30d0\u30c3\u30b0\u958b\u59cb \u30dc\u30bf\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\uff08\u307e\u305f\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u306eF5\u30ad\u30fc\u3092\u62bc\u3057\u307e\u3059\uff09\u3002</p> <p></p> </li> <li> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 Woodgrove Bank Contract Management Portal \u304c\u8d77\u52d5\u3057\u307e\u3059 (http://localhost:3000/)\u3002</p> </li> <li> <p>Dashboard \u30da\u30fc\u30b8\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30c1\u30e3\u30c3\u30c8\u3067\u3001\u6b21\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u9001\u4fe1\u3057\u307e\u3059\uff1a</p> <p>\u6b21\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u30c1\u30e3\u30c3\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\uff01</p> <pre><code>Adatum\u304b\u3089\u306e\u672a\u6255\u3044\u8acb\u6c42\u66f8\u306e\u6b63\u78ba\u6027\u306b\u3064\u3044\u3066\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n</code></pre> </li> <li> <p>GraphRAG\u3092\u4f7f\u7528\u3057\u3066\u63d0\u4f9b\u3055\u308c\u305f\u7d50\u679c\u3092\u89b3\u5bdf\u3057\u307e\u3059\u3002</p> <p>GraphRAG\u306f\u6b63\u78ba\u6027\u3092\u5411\u4e0a\u3055\u305b\u307e\u3059</p> <p><code>chat_functions.py</code> \u30d5\u30a1\u30a4\u30eb\u306e <code>get_unpaid_invoices_for_vendor</code> \u95a2\u6570\u306b\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u306e\u30d6\u30ec\u30fc\u30af\u30dd\u30a4\u30f3\u30c8\u306b\u3088\u308a\u3001\u30b0\u30e9\u30d5\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u3092\u78ba\u8a8d\u3057\u3001\u6b8b\u308a\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u30b9\u30c6\u30c3\u30d7\u5b9f\u884c\u3057\u3066\u3001\u8acb\u6c42\u66f8\u306e\u691c\u8a3c\u7d50\u679c\u304c\u672a\u6255\u3044\u306e\u8acb\u6c42\u66f8\u306b\u5bfe\u3057\u3066\u306e\u307f\u53d6\u5f97\u3055\u308c\u308b\u3053\u3068\u3092\u89b3\u5bdf\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u7cbe\u5ea6\u306b\u3088\u308a\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u8fd4\u3055\u308c\u308b\u30c7\u30fc\u30bf\u304c\u524a\u6e1b\u3055\u308c\u3001RAG\u30d1\u30bf\u30fc\u30f3\u304c\u5fdc\u7b54\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u306e\u307f\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> </li> </ol> <p>\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01Azure Database for PostgreSQL\u3068AGE\u306eGraphRAG\u6a5f\u80fd\u3092\u6d3b\u7528\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3057\u305f\uff01</p>"},{"location":"ja/07-Redeploy/","title":"Azure\u3078\u306e\u30a2\u30d7\u30ea\u306e\u518d\u30c7\u30d7\u30ed\u30a4","text":"<p>\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u306f\u3001Azure Container Apps\u4e0a\u306e_Woodgrove Bank Contract Management_\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e_\u4e8b\u524d\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u6e08\u307f_\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u59cb\u307e\u308a\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u306e\u8981\u7d20\u3092\u5909\u66f4\u3057\u3001\u30ed\u30fc\u30ab\u30eb\u3067\u30c6\u30b9\u30c8\u3057\u305f\u5f8c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092_\u518d\u30c7\u30d7\u30ed\u30a4_\u3057\u305f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p> <p><code>azd</code>\u3092\u4f7f\u7528\u3057\u3066\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3068\u30c7\u30d7\u30ed\u30a4\u3092\u884c\u3063\u305f\u305f\u3081\u3001\u3053\u308c\u306f<code>azd up</code>\u3092\u547c\u3073\u51fa\u3059\u3060\u3051\u3067\u7c21\u5358\u306b\u884c\u3048\u307e\u3059\uff08\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u3059\u3079\u3066\u306e\u5909\u66f4\u3092\u30d7\u30c3\u30b7\u30e5\u3059\u308b\u305f\u3081\uff09\u3057\u3001\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u884c\u3063\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5909\u66f4\u306e\u307f\u3092\u518d\u69cb\u7bc9\u3057\u3066\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u3044\u5834\u5408\u306f<code>azd deploy</code>\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p><code>azd up</code>\u3068<code>azd deploy</code>\u306e\u9055\u3044\u3092\u7406\u89e3\u3059\u308b</p> <p><code>azd up</code>\u3068<code>azd deploy</code>\u30b3\u30de\u30f3\u30c9\u306f\u3069\u3061\u3089\u3082Azure Developer CLI\u306e\u4e00\u90e8\u3067\u3059\u304c\u3001\u7570\u306a\u308b\u76ee\u7684\u3092\u6301\u3063\u3066\u3044\u307e\u3059\uff1a</p> <ul> <li> <p><code>azd up</code>\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Azure\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3001\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u3001\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u3092\u542b\u3080\u5168\u4f53\u306e\u74b0\u5883\u3092\u30bc\u30ed\u304b\u3089\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002\u901a\u5e38\u3001\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u59cb\u3059\u308b\u969b\u3084\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u306b\u5927\u304d\u306a\u5909\u66f4\u3092\u52a0\u3048\u308b\u969b\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> </li> <li> <p><code>azd deploy</code>\u306f\u3001\u65e2\u5b58\u306e\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3092\u66f4\u65b0\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u74b0\u5883\u5168\u4f53\u3092\u518d\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u3059\u308b\u5fc5\u8981\u306a\u304f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u53cd\u5fa9\u7684\u306a\u5909\u66f4\u3092\u52a0\u3048\u308b\u969b\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u983b\u7e41\u306b\u66f4\u65b0\u3059\u308b\u7d99\u7d9a\u7684\u306a\u958b\u767a\u3068\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306e\u30b7\u30ca\u30ea\u30aa\u306b\u7406\u60f3\u7684\u3067\u3059\u3002</p> </li> </ul> <p>\u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u3059\u3079\u3066\u3092\u6700\u521d\u304b\u3089\u8a2d\u5b9a\u3059\u308b\u969b\u306b\u306f<code>azd up</code>\u3092\u4f7f\u7528\u3057\u3001\u65e2\u5b58\u306e\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3092\u66f4\u65b0\u3059\u308b\u969b\u306b\u306f<code>azd deploy</code>\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"ja/07-Redeploy/#_1","title":"\u66f4\u65b0\u3055\u308c\u305f\u30a2\u30d7\u30ea\u306e\u30c7\u30d7\u30ed\u30a4","text":"<p>\u66f4\u65b0\u3055\u308c\u305f\u30a2\u30d7\u30ea\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\uff1a</p> <ol> <li> <p>Visual Studio Code\u3067\u65b0\u3057\u3044\u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30eb\u30fc\u30c8\u306b\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u5909\u66f4\u3092\u52a0\u3048\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u305f\u3081\u306b\u3001\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u6b21\u306eAzure Developer CLI\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> <pre><code>azd deploy\n</code></pre> </li> </ol>"},{"location":"ja/07-Redeploy/#_2","title":"\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305f\u30a2\u30d7\u30ea\u306e\u30c6\u30b9\u30c8","text":"<ol> <li> <p>Azure\u30dd\u30fc\u30bf\u30eb\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u3092\u542b\u3080\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u306b\u623b\u308a\u3001\u540d\u524d\u304cca-portal\u3067\u59cb\u307e\u308bContainer app\u30ea\u30bd\u30fc\u30b9\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> </li> <li> <p>\u30dd\u30fc\u30bf\u30eb\u30b3\u30f3\u30c6\u30ca\u30a2\u30d7\u30ea\u306e\u6982\u8981\u30da\u30fc\u30b8\u306e\u57fa\u672c\u60c5\u5831\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3URL\u3092\u9078\u629e\u3057\u3066\u3001\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u305fWoodgrove Bank\u30dd\u30fc\u30bf\u30eb\u3092\u65b0\u3057\u3044\u30d6\u30e9\u30a6\u30b6\u30bf\u30d6\u3067\u958b\u304d\u307e\u3059\u3002</p> <p></p> </li> <li> <p>_Woodgrove Bank\u5951\u7d04\u7ba1\u7406\u30dd\u30fc\u30bf\u30eb_\u3067\u3001\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u30da\u30fc\u30b8\u3092\u9078\u629e\u3057\u3001\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u4f7f\u3063\u3066\u3044\u304f\u3064\u304b\u8cea\u554f\u3092\u3057\u3001\u30a2\u30d7\u30ea\u306e\u5909\u66f4\u304c\u30e9\u30a4\u30d6\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> </li> </ol> <p>\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\uff01\u305f\u304f\u3055\u3093\u306e\u3053\u3068\u3092\u30ab\u30d0\u30fc\u3057\u307e\u3057\u305f\u304c\u3001\u5fc3\u914d\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\uff01\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30d5\u30a9\u30fc\u30af\u304c\u3042\u308b\u306e\u3067\u3001\u81ea\u5206\u306e\u30da\u30fc\u30b9\u3067\u30a2\u30a4\u30c7\u30a2\u3092\u518d\u8a2a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff01\u884c\u304f\u524d\u306b\u3001\u3044\u304f\u3064\u304b\u91cd\u8981\u306a\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u30bf\u30b9\u30af\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff01</p> <p>\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059: \u30ea\u30bd\u30fc\u30b9\u3092\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u3066\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7de0\u3081\u304f\u304f\u308a\u307e\u3057\u3087\u3046\uff01</p>"},{"location":"ja/Tear-Down/","title":"\u30ea\u30bd\u30fc\u30b9\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7","text":""},{"location":"ja/Tear-Down/#github","title":"GitHub\u3067\u2b50\ufe0f\u3092\u304f\u3060\u3055\u3044","text":"<p>\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3068\u30b5\u30f3\u30d7\u30eb\u304c\u5f79\u306b\u7acb\u3061\u307e\u3057\u305f\u304b\uff1f\u6700\u65b0\u60c5\u5831\u3092\u304a\u898b\u9003\u3057\u306a\u304f\u3002</p> <p>Postgres\u3067\u81ea\u5206\u306e\u9ad8\u5ea6\u306aAI\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u69cb\u7bc9\u3059\u308b \u30b5\u30f3\u30d7\u30eb\u306f\u3001Azure AI\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u4e0a\u3067RAG\u30d9\u30fc\u30b9\u306e\u30b3\u30d1\u30a4\u30ed\u30c3\u30c8\u3092\u30b3\u30fc\u30c9\u30d5\u30a1\u30fc\u30b9\u30c8\u3067\u958b\u767a\u3059\u308b\u305f\u3081\u306e\u6700\u65b0\u306e\u6a5f\u80fd\u3068\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3092\u53cd\u6620\u3059\u308b\u3001\u7a4d\u6975\u7684\u306b\u66f4\u65b0\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2a\u554f\u3059\u308b \u307e\u305f\u306f\u4e0b\u306e\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u79c1\u305f\u3061\u306b\u2b50\ufe0f\u3092\u304f\u3060\u3055\u3044\u3002</p> <p> PostgreSQL\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306b\u30b9\u30bf\u30fc\u3092\u4ed8\u3051\u308b\uff01</p>"},{"location":"ja/Tear-Down/#_2","title":"\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b","text":"<p>\u3053\u306e\u30e9\u30dc\u3092\u4ed6\u306e\u4eba\u306b\u3068\u3063\u3066\u3088\u308a\u826f\u304f\u3059\u308b\u305f\u3081\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u304c\u3042\u308a\u307e\u3059\u304b\uff1f\u554f\u984c\u3092\u30aa\u30fc\u30d7\u30f3\u3057\u3066\u304a\u77e5\u3089\u305b\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/Tear-Down/#_3","title":"\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7","text":"<p>\u3053\u306e\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u5b8c\u4e86\u3057\u305f\u3089\u3001\u4f5c\u6210\u3057\u305fAzure\u30ea\u30bd\u30fc\u30b9\u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4f7f\u7528\u91cf\u3067\u306f\u306a\u304f\u3001\u8a2d\u5b9a\u3055\u308c\u305f\u5bb9\u91cf\u306b\u5bfe\u3057\u3066\u8ab2\u91d1\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u306e\u305f\u3081\u306b\u4f5c\u6210\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u30b0\u30eb\u30fc\u30d7\u3068\u3059\u3079\u3066\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> <ol> <li> <p>VS Code\u3067\u3001\u65b0\u3057\u3044\u7d71\u5408\u30bf\u30fc\u30df\u30ca\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u3001\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u3063\u3066\u4f5c\u6210\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u305f\u3081\u306b\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\uff1a</p> <p>\u30ea\u30bd\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u305f\u3081\u306b\u6b21\u306eAzure Developer CLI\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> <pre><code>azd down --purge\n</code></pre> <p><code>--purge</code>\u30d5\u30e9\u30b0\u306f\u3001Azure KeyVault\u3084Azure OpenAI\u3092\u542b\u3080\u3001Azure\u3067\u30bd\u30d5\u30c8\u30c7\u30ea\u30fc\u30c8\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u3092\u5b8c\u5168\u306b\u524a\u9664\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u3067\u3059\u3002</p> </li> <li> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u3001\u524a\u9664\u3055\u308c\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u30ea\u30b9\u30c8\u304c\u8868\u793a\u3055\u308c\u3001\u7d9a\u884c\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u300cy\u300d\u3068\u5165\u529b\u3057\u3066\u3001\u30ea\u30bd\u30fc\u30b9\u306e\u524a\u9664\u3092\u958b\u59cb\u3057\u307e\u3059\u3002</p> </li> </ol>"},{"location":"ja/Tear-Down/#github_1","title":"GitHub\u306b\u5909\u66f4\u3092\u6c38\u7d9a\u5316\u3059\u308b","text":"<p>\u30d5\u30a1\u30a4\u30eb\u306b\u52a0\u3048\u305f\u5909\u66f4\u3092\u4fdd\u5b58\u3057\u305f\u3044\u5834\u5408\u306f\u3001VS Code\u306e\u30bd\u30fc\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001GitHub\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30d5\u30a9\u30fc\u30af\u306b\u5909\u66f4\u3092\u30b3\u30df\u30c3\u30c8\u3057\u3066\u30d7\u30c3\u30b7\u30e5\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"}]}